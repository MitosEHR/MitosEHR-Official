\hypertarget{phpthumb_8gif_8php}{\section{\-C\-:/wamp/www/\-Mitos\-E\-H\-R/lib/php\-Thumbs-\/1.7.9/phpthumb.gif.\-php \-File \-Reference}
\label{phpthumb_8gif_8php}\index{\-C\-:/wamp/www/\-Mitos\-E\-H\-R/lib/php\-Thumbs-\/1.\-7.\-9/phpthumb.\-gif.\-php@{\-C\-:/wamp/www/\-Mitos\-E\-H\-R/lib/php\-Thumbs-\/1.\-7.\-9/phpthumb.\-gif.\-php}}
}
\subsection*{\-Data \-Structures}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_c_g_i_f_l_z_w}{\-C\-G\-I\-F\-L\-Z\-W}
\item 
class \hyperlink{class_c_g_i_f_c_o_l_o_r_t_a_b_l_e}{\-C\-G\-I\-F\-C\-O\-L\-O\-R\-T\-A\-B\-L\-E}
\item 
class \hyperlink{class_c_g_i_f_f_i_l_e_h_e_a_d_e_r}{\-C\-G\-I\-F\-F\-I\-L\-E\-H\-E\-A\-D\-E\-R}
\item 
class \hyperlink{class_c_g_i_f_i_m_a_g_e_h_e_a_d_e_r}{\-C\-G\-I\-F\-I\-M\-A\-G\-E\-H\-E\-A\-D\-E\-R}
\item 
class \hyperlink{class_c_g_i_f_i_m_a_g_e}{\-C\-G\-I\-F\-I\-M\-A\-G\-E}
\item 
class \hyperlink{class_c_g_i_f}{\-C\-G\-I\-F}
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{phpthumb_8gif_8php_a3e0c977c34b2fd2deb6721fff7f7b2c1}{gif\-\_\-load\-File} (\$lpsz\-File\-Name, \$i\-Index=0)
\item 
\hyperlink{phpthumb_8gif_8php_ae1af166bb60f9b34e2ca2bc41f2de307}{gif\-\_\-load\-File\-To\-G\-Dimage\-Resource} (\$gif\-Filename, \$bg\-Color=-\/1)
\item 
\hyperlink{phpthumb_8gif_8php_a9a18ada0eaf504cbf7730917f7a4b6f0}{gif\-\_\-output\-As\-Bmp} (\$gif, \$lpsz\-File\-Name, \$bg\-Color=-\/1)
\item 
\hyperlink{phpthumb_8gif_8php_a7c3c95e2adc0ad30cf0ad43e8bbf483d}{gif\-\_\-output\-As\-Png} (\$gif, \$lpsz\-File\-Name, \$bg\-Color=-\/1)
\item 
\hyperlink{phpthumb_8gif_8php_ae17b541030dde7793bfa82da38eada10}{gif\-\_\-output\-As\-Jpeg} (\$gif, \$lpsz\-File\-Name, \$bg\-Color=-\/1)
\item 
\hyperlink{phpthumb_8gif_8php_ab7a9f9d5951f6afa2edbb543905033ad}{gif\-\_\-get\-Size} (\$gif, \&\$width, \&\$height)
\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{phpthumb_8gif_8php_ab7a9f9d5951f6afa2edbb543905033ad}{\index{phpthumb.\-gif.\-php@{phpthumb.\-gif.\-php}!gif\-\_\-get\-Size@{gif\-\_\-get\-Size}}
\index{gif\-\_\-get\-Size@{gif\-\_\-get\-Size}!phpthumb.gif.php@{phpthumb.\-gif.\-php}}
\subsubsection[{gif\-\_\-get\-Size}]{\setlength{\rightskip}{0pt plus 5cm}{\bf gif\-\_\-get\-Size} (
\begin{DoxyParamCaption}
\item[{\$}]{gif, }
\item[{\&\$}]{width, }
\item[{\&\$}]{height}
\end{DoxyParamCaption}
)}}\label{phpthumb_8gif_8php_ab7a9f9d5951f6afa2edbb543905033ad}


\-Definition at line 145 of file phpthumb.\-gif.\-php.


\begin{DoxyCode}
{
        if (isSet($gif) && (@get_class($gif) == 'cgif') && $gif->loaded()) {
                $width  = $gif->width();
                $height = $gif->height();
        } elseif (@file_exists($gif)) {
                $myGIF = new CGIF();
                if (!$myGIF->getSize($gif, $width, $height)) {
                        return false;
                }
        } else {
                return false;
        }

        return true;
}
\end{DoxyCode}
\hypertarget{phpthumb_8gif_8php_a3e0c977c34b2fd2deb6721fff7f7b2c1}{\index{phpthumb.\-gif.\-php@{phpthumb.\-gif.\-php}!gif\-\_\-load\-File@{gif\-\_\-load\-File}}
\index{gif\-\_\-load\-File@{gif\-\_\-load\-File}!phpthumb.gif.php@{phpthumb.\-gif.\-php}}
\subsubsection[{gif\-\_\-load\-File}]{\setlength{\rightskip}{0pt plus 5cm}{\bf gif\-\_\-load\-File} (
\begin{DoxyParamCaption}
\item[{\$}]{lpsz\-File\-Name, }
\item[{\$}]{i\-Index = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}\label{phpthumb_8gif_8php_a3e0c977c34b2fd2deb6721fff7f7b2c1}


\-Definition at line 24 of file phpthumb.\-gif.\-php.


\begin{DoxyCode}
{
        $gif = new CGIF();
        if ($gif->loadFile($lpszFileName, $iIndex)) {
                return $gif;
        }
        return false;
}
\end{DoxyCode}
\hypertarget{phpthumb_8gif_8php_ae1af166bb60f9b34e2ca2bc41f2de307}{\index{phpthumb.\-gif.\-php@{phpthumb.\-gif.\-php}!gif\-\_\-load\-File\-To\-G\-Dimage\-Resource@{gif\-\_\-load\-File\-To\-G\-Dimage\-Resource}}
\index{gif\-\_\-load\-File\-To\-G\-Dimage\-Resource@{gif\-\_\-load\-File\-To\-G\-Dimage\-Resource}!phpthumb.gif.php@{phpthumb.\-gif.\-php}}
\subsubsection[{gif\-\_\-load\-File\-To\-G\-Dimage\-Resource}]{\setlength{\rightskip}{0pt plus 5cm}{\bf gif\-\_\-load\-File\-To\-G\-Dimage\-Resource} (
\begin{DoxyParamCaption}
\item[{\$}]{gif\-Filename, }
\item[{\$}]{bg\-Color = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}\label{phpthumb_8gif_8php_ae1af166bb60f9b34e2ca2bc41f2de307}


\-Definition at line 36 of file phpthumb.\-gif.\-php.


\begin{DoxyCode}
{
        if ($gif = gif_loadFile($gifFilename)) {

                if (!phpthumb_functions::FunctionIsDisabled('set_time_limit')) 
      {
                        // shouldn't take nearly this long
                        set_time_limit(120);
                }
                // general strategy: convert raw data to PNG then convert PNG
       data to GD image resource
                $PNGdata = $gif->getPng($bgColor);
                if ($img = @ImageCreateFromString($PNGdata)) {

                        // excellent - PNG image data successfully converted to
       GD image
                        return $img;

                } elseif ($img = $gif->getGD_PixelPlotterVersion()) {

                        // problem: ImageCreateFromString() didn't like the PNG
       image data.
                        //   This has been known to happen in PHP v4.0.6
                        // solution: take the raw image data and create a new
       GD image and plot
                        //   pixel-by-pixel on the GD image. This is extremely
       slow, but it does
                        //   work and a slow solution is better than no
       solution, right? :)
                        return $img;

                }
        }
        return false;
}
\end{DoxyCode}
\hypertarget{phpthumb_8gif_8php_a9a18ada0eaf504cbf7730917f7a4b6f0}{\index{phpthumb.\-gif.\-php@{phpthumb.\-gif.\-php}!gif\-\_\-output\-As\-Bmp@{gif\-\_\-output\-As\-Bmp}}
\index{gif\-\_\-output\-As\-Bmp@{gif\-\_\-output\-As\-Bmp}!phpthumb.gif.php@{phpthumb.\-gif.\-php}}
\subsubsection[{gif\-\_\-output\-As\-Bmp}]{\setlength{\rightskip}{0pt plus 5cm}{\bf gif\-\_\-output\-As\-Bmp} (
\begin{DoxyParamCaption}
\item[{\$}]{gif, }
\item[{\$}]{lpsz\-File\-Name, }
\item[{\$}]{bg\-Color = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}\label{phpthumb_8gif_8php_a9a18ada0eaf504cbf7730917f7a4b6f0}


\-Definition at line 67 of file phpthumb.\-gif.\-php.


\begin{DoxyCode}
{
        if (!isSet($gif) || (@get_class($gif) <> 'cgif') || !$gif->loaded() || 
      ($lpszFileName == '')) {
                return false;
        }

        $fd = $gif->getBmp($bgColor);
        if (strlen($fd) <= 0) {
                return false;
        }

        if (!($fh = @fopen($lpszFileName, 'wb'))) {
                return false;
        }
        @fwrite($fh, $fd, strlen($fd));
        @fflush($fh);
        @fclose($fh);
        return true;
}
\end{DoxyCode}
\hypertarget{phpthumb_8gif_8php_ae17b541030dde7793bfa82da38eada10}{\index{phpthumb.\-gif.\-php@{phpthumb.\-gif.\-php}!gif\-\_\-output\-As\-Jpeg@{gif\-\_\-output\-As\-Jpeg}}
\index{gif\-\_\-output\-As\-Jpeg@{gif\-\_\-output\-As\-Jpeg}!phpthumb.gif.php@{phpthumb.\-gif.\-php}}
\subsubsection[{gif\-\_\-output\-As\-Jpeg}]{\setlength{\rightskip}{0pt plus 5cm}{\bf gif\-\_\-output\-As\-Jpeg} (
\begin{DoxyParamCaption}
\item[{\$}]{gif, }
\item[{\$}]{lpsz\-File\-Name, }
\item[{\$}]{bg\-Color = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}\label{phpthumb_8gif_8php_ae17b541030dde7793bfa82da38eada10}


\-Definition at line 111 of file phpthumb.\-gif.\-php.


\begin{DoxyCode}
{
        // JPEG output that does not require cjpeg added by James Heinrich
       <info@silisoftware.com> - December 10, 2003
        if ((strtoupper(substr(PHP_OS, 0, 3)) != 'WIN') && (file_exists('
      /usr/local/bin/cjpeg') || `which cjpeg`)) {

                if (gif_outputAsBmp($gif, $lpszFileName.'.bmp', $bgColor)) {
                        exec('cjpeg '.$lpszFileName.'.bmp >'.$lpszFileName.'
       2>/dev/null');
                        @unLink($lpszFileName.'.bmp');

                        if (@file_exists($lpszFileName)) {
                                if (@fileSize($lpszFileName) > 0) {
                                        return true;
                                }

                                @unLink($lpszFileName);
                        }
                }

        } else {

                // either Windows, or cjpeg not found in path
                if ($img = @ImageCreateFromString($gif->getPng($bgColor))) {
                        if (@ImageJPEG($img, $lpszFileName)) {
                                return true;
                        }
                }

        }

        return false;
}
\end{DoxyCode}
\hypertarget{phpthumb_8gif_8php_a7c3c95e2adc0ad30cf0ad43e8bbf483d}{\index{phpthumb.\-gif.\-php@{phpthumb.\-gif.\-php}!gif\-\_\-output\-As\-Png@{gif\-\_\-output\-As\-Png}}
\index{gif\-\_\-output\-As\-Png@{gif\-\_\-output\-As\-Png}!phpthumb.gif.php@{phpthumb.\-gif.\-php}}
\subsubsection[{gif\-\_\-output\-As\-Png}]{\setlength{\rightskip}{0pt plus 5cm}{\bf gif\-\_\-output\-As\-Png} (
\begin{DoxyParamCaption}
\item[{\$}]{gif, }
\item[{\$}]{lpsz\-File\-Name, }
\item[{\$}]{bg\-Color = {\ttfamily -\/1}}
\end{DoxyParamCaption}
)}}\label{phpthumb_8gif_8php_a7c3c95e2adc0ad30cf0ad43e8bbf483d}


\-Definition at line 89 of file phpthumb.\-gif.\-php.


\begin{DoxyCode}
{
        if (!isSet($gif) || (@get_class($gif) <> 'cgif') || !$gif->loaded() || 
      ($lpszFileName == '')) {
                return false;
        }

        $fd = $gif->getPng($bgColor);
        if (strlen($fd) <= 0) {
                return false;
        }

        if (!($fh = @fopen($lpszFileName, 'wb'))) {
                return false;
        }
        @fwrite($fh, $fd, strlen($fd));
        @fflush($fh);
        @fclose($fh);
        return true;
}
\end{DoxyCode}
