\hypertarget{class_x_m_l_package_page_parser}{\section{\-X\-M\-L\-Package\-Page\-Parser \-Class \-Reference}
\label{class_x_m_l_package_page_parser}\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}}
}
\-Inheritance diagram for \-X\-M\-L\-Package\-Page\-Parser\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{class_x_m_l_package_page_parser}
\end{center}
\end{figure}
\subsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_x_m_l_package_page_parser_a0b9ff2d1fc17f428271474485462ac49}{\-X\-M\-L\-Package\-Page\-Parser} ()
\item 
\hyperlink{class_x_m_l_package_page_parser_a45e18b3d81c9a92a93c8ca4bb39aac9d}{parse} (\$parse\-\_\-data, \$tutorial)
\item 
\hyperlink{class_x_m_l_package_page_parser_a4d5d6de1bd28d678fdca6e4d5e0076b0}{default\-Handler} (\$word, \$pevent)
\item 
\hyperlink{class_x_m_l_package_page_parser_a3672b7e387fe0252588ce70ed5289dd7}{ignore\-Handler} (\$word, \$pevent)
\item 
\hyperlink{class_x_m_l_package_page_parser_a4ba20cc549548714f50dafced3b6ec71}{handle\-Quote} (\$word, \$pevent)
\item 
\hyperlink{class_x_m_l_package_page_parser_a04c9d956763b0f5c797a3c75f6aee07b}{handle\-Tag} (\$word, \$pevent)
\item 
\hyperlink{class_x_m_l_package_page_parser_a12710cbcec63d04579a8857a19c6d942}{handle\-C\-Data} (\$word, \$pevent)
\item 
\hyperlink{class_x_m_l_package_page_parser_ad43a284f751e91952b6ec25f31bc6782}{handle\-Entity} (\$word, \$pevent)
\item 
\hyperlink{class_x_m_l_package_page_parser_a3c0943f8844d0d531ffff0fb43c36bd4}{handle\-Attributes} (\$word, \$pevent)
\item 
\hyperlink{class_x_m_l_package_page_parser_abe4d21ebe5f9d4088e7be4271603cd5e}{setup\-States} ()
\end{DoxyCompactItemize}
\subsection*{\-Static \-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_x_m_l_package_page_parser_a9cc8a14f4bce21f0058f33036a2eb460}{get\-Parser\-Event\-Name} (\$value)
\end{DoxyCompactItemize}
\subsection*{\-Data \-Fields}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_x_m_l_package_page_parser_a430675102684e9ab820c7622678832b0}{\$event\-Handlers}
\item 
\hyperlink{class_x_m_l_package_page_parser_ab8117573961eab022362e6fa8622ee1c}{\$pars} = array()
\item 
\hyperlink{class_x_m_l_package_page_parser_ae4d6c02670a248fa43626873110fb716}{\$refsect1id} = false
\item 
\hyperlink{class_x_m_l_package_page_parser_a307830a525580e27cc0906de94743e13}{\$refsect2id} = false
\item 
\hyperlink{class_x_m_l_package_page_parser_ad3db9e63f8a3ade6c75cab99d441665e}{\$refsect3id} = false
\item 
\hyperlink{class_x_m_l_package_page_parser_ae05dedb802ada0155efdece2044fed64}{\$context}
\item 
\hyperlink{class_x_m_l_package_page_parser_aaf22fbb23ebd3d1734cbca6e8478f5e6}{\$\-\_\-gettoc} = false
\item 
\hyperlink{class_x_m_l_package_page_parser_a89239c7c6ac8aca36371eeec9753c130}{\$\-\_\-toc} = array()
\item 
\hyperlink{class_x_m_l_package_page_parser_a0cf7bdb874d70717622e82e05f89506d}{\$\-\_\-cursection} = 0
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}


\-Definition at line 98 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.



\subsection{\-Member \-Function \-Documentation}
\hypertarget{class_x_m_l_package_page_parser_a4d5d6de1bd28d678fdca6e4d5e0076b0}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!default\-Handler@{default\-Handler}}
\index{default\-Handler@{default\-Handler}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{default\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf default\-Handler} (
\begin{DoxyParamCaption}
\item[{\$}]{word, }
\item[{\$}]{pevent}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a4d5d6de1bd28d678fdca6e4d5e0076b0}
\#@+ 
\begin{DoxyParams}[1]{\-Parameters}
string | \hyperlink{classparser_inline_tag}{parser\-Inline\-Tag} & {\em \$word} & token \\
\hline
integer & {\em \$token} & parser event \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
void  private 
\end{DoxyReturn}
\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000173}{\-Todo}]\-C\-S cleanup -\/ \-P\-H\-P\-C\-S needs to recognize docblock template tags \end{DoxyRefDesc}
handler for default events 

\-Reimplemented from \hyperlink{class_parser_a4d5d6de1bd28d678fdca6e4d5e0076b0}{\-Parser}.



\-Definition at line 243 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        if (is_string($word) && $this->checkEventPush($word, $pevent)) {
            return;
        }
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a9cc8a14f4bce21f0058f33036a2eb460}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!get\-Parser\-Event\-Name@{get\-Parser\-Event\-Name}}
\index{get\-Parser\-Event\-Name@{get\-Parser\-Event\-Name}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{get\-Parser\-Event\-Name}]{\setlength{\rightskip}{0pt plus 5cm}{\bf get\-Parser\-Event\-Name} (
\begin{DoxyParamCaption}
\item[{\$}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{class_x_m_l_package_page_parser_a9cc8a14f4bce21f0058f33036a2eb460}
debugging function

\{\}


\begin{DoxyParams}[1]{\-Parameters}
mixed & {\em \$value} & a value\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
mixed the looked up value if found, else the original value 
\end{DoxyReturn}


\-Reimplemented from \hyperlink{class_parser_a9cc8a14f4bce21f0058f33036a2eb460}{\-Parser}.



\-Definition at line 615 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {    
        $lookup = array(
            PARSER_EVENT_NOEVENTS
                => "PARSER_EVENT_NOEVENTS",
            PHPDOCUMENTOR_PDP_EVENT_TAG
                => "PHPDOCUMENTOR_PDP_EVENT_TAG",
            PHPDOCUMENTOR_PDP_EVENT_ATTRIBUTES
                => "PHPDOCUMENTOR_PDP_EVENT_ATTRIBUTES",
            PHPDOCUMENTOR_PDP_EVENT_CDATA
                => "PHPDOCUMENTOR_PDP_EVENT_CDATA",
            PHPDOCUMENTOR_PDP_EVENT_LIST
                => "PHPDOCUMENTOR_PDP_EVENT_LIST",
            PARSER_EVENT_QUOTE
                => "PARSER_EVENT_QUOTE",
            PHPDOCUMENTOR_PDP_EVENT_ENTITY
                => "PHPDOCUMENTOR_PDP_EVENT_ENTITY",
            PHPDOCUMENTOR_PDP_EVENT_COMMENT
                => "PHPDOCUMENTOR_PDP_EVENT_COMMENT",
            PHPDOCUMENTOR_PDP_EVENT_PI
                => "PHPDOCUMENTOR_PDP_EVENT_PI",
        );
        if (isset($lookup[$value])) {
            return $lookup[$value];
        } else {
            return $value;
        }
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a3c0943f8844d0d531ffff0fb43c36bd4}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!handle\-Attributes@{handle\-Attributes}}
\index{handle\-Attributes@{handle\-Attributes}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{handle\-Attributes}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handle\-Attributes} (
\begin{DoxyParamCaption}
\item[{\$}]{word, }
\item[{\$}]{pevent}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a3c0943f8844d0d531ffff0fb43c36bd4}
\-Handle \-Tag attributes name=\char`\"{}value\char`\"{}

\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000175}{\-Todo}]replace commented-\/out debug lines with debug() func \end{DoxyRefDesc}


\-Definition at line 442 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        if ($this->checkEventPush($word, $pevent)) {
            return;
        }
        if ($word == '=') {
            $this->p_flags['start_attr'] = false;
            $this->p_vars['end_attr']    = true;
        } else {
            if ($this->p_flags['start_attr']) {
                $this->p_vars['attrname'] = $word;
            } else {
                if (isset($this->p_vars['attrname'])) {
                    $value = $this->p_vars['quote_data'];
                    if (phpDocumentor_get_class($value) == 'parseridinlinetag')
       { 
                        // "inherit" the parent section's id, so

                        // <!-- id is 'test' -->
                        // <refsect1 id="{@id test"}> 
                        // ...
                        //  <!-- id is 'test.me' -->
                        //  <refsect2 id="{@id me}"> 
                        //  ...
                        //   <!-- id is 'test.me.out' -->
                        //   <refsect3 id="{@id out}"> 
                        //   ...
                        //    <!-- id is 'test.me.out.withexample' -->
                        //    <example id="{@id withexample}"> 

                        $a  = ($this->refsect1id ? $this->refsect1id . '.' : ''
      );
                        $a .= ($this->refsect2id ? $this->refsect2id . '.' : ''
      );
                        $a .= ($this->refsect3id ? $this->refsect3id . '.' : ''
      );
                        if ($this->curtag->name == 'refsect1') {
                            $this->refsect1id = $value->id;
                        }
                        if ($this->curtag->name == 'refsect2') {
                            $this->refsect2id = $value->id;
                        }
                        if ($this->curtag->name == 'refsect3') {
                            $this->refsect3id = $value->id;
                        }
                        //DEBUG debug($value->id . ' is now ' . $a .
       $value->id);
                        $value->id = $a . $value->id;
                        if ($value->id != '') {
                            if (isset($this->_toc[$this->_cursection])) {
                                $this->_cursection++;
                            }
                            $this->_toc[$this->_cursection]['id']  = $value;
                            $this->_toc[$this->_cursection]['tag'] = 
                                new parserXMLDocBookTag($this->curtag->name);
                            //DEBUG debug("set gettoc to " .
       $this->curtag->name . 
                            //DEBUG     ' ' . $value->id);
                            $this->_gettoc = $this->curtag;
                        }
                    }
                    $this->curtag->addAttribute($this->p_vars['attrname'], 
      $value);
                    unset($this->p_vars['attrname']);
                    if (is_string($word) && $this->checkEventPop($word, $pevent
      )) {
                        $this->p_flags['start_attr'] = true;
                        $this->p_flags['end_attr']   = false;
                        $this->wp->setPos($this->wp->getPos() - strlen($word));
                    } else {
                        $this->wp->setPos($this->wp->getPos() - strlen($word));
                    }
                    return;
                }
            }
        }
        if (is_string($word) && $this->checkEventPop($word, $pevent)) {
            $this->p_flags['start_attr'] = true;
            $this->p_flags['end_attr']   = false;
            $this->wp->setPos($this->wp->getPos() - strlen($word));
        }
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a12710cbcec63d04579a8857a19c6d942}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!handle\-C\-Data@{handle\-C\-Data}}
\index{handle\-C\-Data@{handle\-C\-Data}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{handle\-C\-Data}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handle\-C\-Data} (
\begin{DoxyParamCaption}
\item[{\$}]{word, }
\item[{\$}]{pevent}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a12710cbcec63d04579a8857a19c6d942}
\-Handle \-C\-Data sections 

\-Definition at line 383 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        if ($this->curtag->name == 'refentry' && 
            phpDocumentor_get_class($word) == 'parsertocinlinetag'
        ) {
            $this->p_vars['toc'] = $this->curtag->getTOC();
        }
        if (is_string($word) && !$this->p_flags['in_cdata']) {
            if ($this->checkEventPop($word, $pevent)) {
                return;
            }
            if ($this->checkEventPush($word, $pevent)) {
                return;
            }
        }
        if (is_string($word) && $word == '<![CDATA[') {
            $this->curtag->startCData();
            $this->p_flags['in_cdata'] = true;
        } elseif ($this->p_flags['in_cdata'] && 
            is_string($word) && $word == ']]>'
        ) {
            $this->curtag->endCData();
            $this->p_flags['in_cdata'] = false;
        } else {
            if ($this->p_flags['in_cdata']) {
                $this->curtag->addCData($word);
            } else {
                $this->curtag->add($word);
            }
        }
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_ad43a284f751e91952b6ec25f31bc6782}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!handle\-Entity@{handle\-Entity}}
\index{handle\-Entity@{handle\-Entity}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{handle\-Entity}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handle\-Entity} (
\begin{DoxyParamCaption}
\item[{\$}]{word, }
\item[{\$}]{pevent}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_ad43a284f751e91952b6ec25f31bc6782}
\-Handle \-Entities like '' 

\-Definition at line 418 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        if (!$word) {
            if (!isset($this->p_vars['entity_name'])) {
                $this->p_vars['entity_name'] = '';
            }
            addErrorDie(PDERROR_UNTERMINATED_ENTITY, $this->p_vars['entity_name
      ']);
        }
        $e = $this->checkEventPop($word, $pevent);
        if ($word && !$e) { 
            $this->p_vars['entity_name'] = $word;
        }
        if ($e) {
            $entity = new parserEntity($this->p_vars['entity_name']);
            unset($this->p_vars['entity_name']);
            $this->curtag->add($entity);
        }
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a4ba20cc549548714f50dafced3b6ec71}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!handle\-Quote@{handle\-Quote}}
\index{handle\-Quote@{handle\-Quote}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{handle\-Quote}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handle\-Quote} (
\begin{DoxyParamCaption}
\item[{\$}]{word, }
\item[{\$}]{pevent}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a4ba20cc549548714f50dafced3b6ec71}
handler for \-Q\-U\-O\-T\-E

this handler recognizes strings defined with double quotation marks (") and handles them correctly in any place that they legally appear in php code 

\-Reimplemented from \hyperlink{class_parser_a4ba20cc549548714f50dafced3b6ec71}{\-Parser}.



\-Definition at line 265 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        if ($this->p_flags['reset_quote_data'] === true) {
            $this->p_flags['reset_quote_data'] = false;
            $this->p_vars['quote_data']        = "";
        }
        if (!is_object($word)) {
            $this->checkEventPush($word, $pevent);
        }
        if (is_object($word)) {
            $this->p_vars['quote_data'] = $word;
        } else {
            if ($word != "\"") {
                if (!is_object($this->p_vars['quote_data'])) {
                    $this->p_vars['quote_data'] .= $word;
                }
            }
            if ($word == '>') {
                if (is_object($this->p_vars['quote_data'])) {
                    $this->p_vars['quote_data'] = 
                        '{@id '.$this->p_vars['quote_data']->id.'}';
                }
                addErrorDie(PDERROR_UNTERMINATED_ATTRIB, $this->curtag->name, 
                    $this->p_vars['attrname'], $this->p_vars['quote_data']);
            }
            if ($this->checkEventPop($word, $pevent)) {
                $this->p_flags['reset_quote_data'] = true;
            }
        }
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a04c9d956763b0f5c797a3c75f6aee07b}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!handle\-Tag@{handle\-Tag}}
\index{handle\-Tag@{handle\-Tag}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{handle\-Tag}]{\setlength{\rightskip}{0pt plus 5cm}{\bf handle\-Tag} (
\begin{DoxyParamCaption}
\item[{\$}]{word, }
\item[{\$}]{pevent}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a04c9d956763b0f5c797a3c75f6aee07b}
\-Handles all \-X\-M\-L \-Doc\-Book tags

\begin{DoxyRefDesc}{\-Todo}
\item[\hyperlink{todo__todo000174}{\-Todo}]replace commented-\/out debug lines with debug() func \end{DoxyRefDesc}


\-Reimplemented from \hyperlink{class_parser_a04c9d956763b0f5c797a3c75f6aee07b}{\-Parser}.



\-Definition at line 301 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        if (isset($this->curtag) && $this->curtag->hasTitle() && 
            $this->_gettoc && $this->_gettoc->name == $this->curtag->name
        ) {
            if (isset($this->_toc[$this->_cursection])) {
                $this->_toc[$this->_cursection]['title'] = $this->curtag->
      _title;
                $this->_cursection++;
            }
            $this->_gettoc = false;
        }
        if ($this->p_vars['last_word'] == '<') {
            // get tag name
            $this->p_flags['begin_tag'] = true;
            array_push($this->context, $word);
            //DEBUG if (isset($this->curtag)) debug("pushed " .
       $this->curtag->name);
            if (isset($this->curtag)) {
                array_push($this->pars, $this->curtag);
            }
            $this->curtag = new parserXMLDocBookTag($word);
        } elseif ($this->p_vars['last_word'] == '</' || $word == '/>') {
            $tag = array_pop($this->context);
            if ($word == '/>') {
                // all is OK
                $this->checkEventPop($word, $pevent);
                $word = $tag;
            }
            if ($tag != $word) {
                addErrorDie(PDERROR_UNMATCHED_TUTORIAL_TAG, 
                    $tag, $word, $this->curtag->getString());
            }
            if (in_array($this->curtag->name, 
                array('refentry', 'refsect1', 'refsect2', 'refsect3'))
            ) {
                if (!isset($this->curtag->_id)) {
                    $title = '';
                    if (isset($this->curtag->_title)) {
                        $title = $this->curtag->_title->getString();
                    }
                    addWarning(PDERROR_NO_DOCBOOK_ID, $this->curtag->name, 
      $title);
                }
            }
            $this->p_flags['begin_tag'] = false;
            $curtag                     = @array_pop($this->pars);
            //DEBUG debug("popped $tag ".$curtag->name.' I am
       '.$this->curtag->name);
            if ($curtag) {
                if ($this->curtag->name == 'refsect1') $this->refsect1id = 
      false;
                if ($this->curtag->name == 'refsect2') $this->refsect2id = 
      false;
                if ($this->curtag->name == 'refsect3') $this->refsect3id = 
      false;
                $curtag->add($this->curtag);
                //DEBUG debug("added " . $this->curtag->name . 
                //DEBUG     " to " . $curtag->name . ' ' . $curtag->id);
                $this->curtag = $curtag;
            } else {
                //DEBUG debug("here");
            }
        } elseif (is_string($word)) {
            if (!($e = $this->checkEventPush($word, $pevent))) {
                if ($this->checkEventPop($word, $pevent)) {
                    if ($this->p_flags['begin_tag']) {
                        $this->p_vars['event_stack']->
                            pushEvent(PHPDOCUMENTOR_PDP_EVENT_TAG);
                        $this->p_vars['event_stack']->
                            pushEvent(PHPDOCUMENTOR_PDP_EVENT_CDATA);
                        $this->p_vars['last_tag'] = array_pop($this->context);
                        array_push($this->context, $this->p_vars['last_tag']);
                        $this->p_flags['in_cdata'] = false;
                    }
                    return;
                }
            } else {
                $this->p_flags['start_attr'] = true;
                $this->p_flags['end_attr']   = false;
            }
        } else {
            addErrorDie(PDERROR_CANT_HAVE_INLINE_IN_TAGNAME);
        }
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a3672b7e387fe0252588ce70ed5289dd7}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!ignore\-Handler@{ignore\-Handler}}
\index{ignore\-Handler@{ignore\-Handler}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{ignore\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf ignore\-Handler} (
\begin{DoxyParamCaption}
\item[{\$}]{word, }
\item[{\$}]{pevent}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a3672b7e387fe0252588ce70ed5289dd7}
handler for ignore events 

\-Definition at line 253 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        $this->checkEventPop($word, $pevent);
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a45e18b3d81c9a92a93c8ca4bb39aac9d}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!parse@{parse}}
\index{parse@{parse}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{parse}]{\setlength{\rightskip}{0pt plus 5cm}{\bf parse} (
\begin{DoxyParamCaption}
\item[{\$}]{parse\-\_\-data, }
\item[{\$}]{tutorial}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a45e18b3d81c9a92a93c8ca4bb39aac9d}
\-Parse a new file


\begin{DoxyParams}[1]{\-Parameters}
string & {\em \$parse\-\_\-data} & the parse data \\
\hline
array & {\em \$tutorial} & for format, see \hyperlink{class_io_ad81918c0ee4adcab5021fcdfb884ae93}{\-Io\-::get\-Tutorials()}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
bool  integer used for recursion limiting if a handler for an event is not found  \hyperlink{classparser_tutorial}{parser\-Tutorial} using \hyperlink{}{\-Publisher\-::\-Publish\-Event()}, a new tutorial is created from the file parsed, and passed to the \-Intermediate \hyperlink{class_parser}{\-Parser} 
\end{DoxyReturn}


\-Definition at line 155 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        $tempparse  = new ppageParser;
        $parse_data = $tempparse->
            parse($parse_data, true, $tutorial['package'], 
                $tutorial['subpackage'], basename($tutorial['path']), 
                $tutorial['category'], $tutorial['path']);
        unset($tempparse);
        static $endrecur = 0;
        if (!is_array($parse_data) || count($parse_data) == 0) {
            return false;
        }
        $this->setupStates();

        // initialize variables so E_ALL error_reporting doesn't complain
        $pevent                      = 0;
        $word                        = 0;
        $this->p_vars['start']       = true;
        $this->p_vars['event_stack'] = new EventStack;

        $this->wp->setup($parse_data, false);
        $this->wp->setWhitespace(true);
        $this->context = array();
        if (isset($this->curtag)) {
            unset($this->curtag);
        }

        do {
            $lpevent = $pevent;
            $pevent  = $this->p_vars['event_stack']->getEvent();
            if ($lpevent != $pevent) {
                $this->p_vars['last_pevent'] = $lpevent;
            }

            if ($this->p_vars['last_pevent'] != $pevent) {
                // its a new event so the word parser needs to be reconfigured 
                $this->configWordParser($pevent);
            }


            $this->p_vars['last_word'] = $word;
            $word                      = $this->wp->getWord();

            if (PHPDOCUMENTOR_DEBUG == true) {
                echo "----------------\n";
                echo "LAST: |" . $this->p_vars['last_word'] . "|\n";
                echo "INDEX: ".$this->p_vars['curpar']."\n";
                echo "PEVENT: " . $this->getParserEventName($pevent) . "\n";
                echo "LASTPEVENT: " . 
                    $this->getParserEventName($this->p_vars['last_pevent']) . "
      \n";
                echo $this->wp->getPos() . " WORD: |$word|\n\n";
                echo '"'.$this->p_vars['quote_data']."\"\n";
            }
            if (isset($this->eventHandlers[$pevent])) {
                $handle = $this->eventHandlers[$pevent];
                if ($word !== false) {
                    $this->$handle($word, $pevent);
                }
            } else {
                debug('WARNING: possible error, ' .
                    'no XMLPackagePageParser handler for event number '. 
      $pevent);
                if ($endrecur++ == 25) {
                    die("FATAL ERROR, recursion limit reached");
                }
            }
            $this->p_vars['start'] = false;
        } while (!($word === false));
        if (count($this->_toc) && isset($this->p_vars['toc'])) {
            $a = $this->curtag->getTOC($this->p_vars['toc']);
            $a->setTOC($this->_toc);
            $a->setPath($tutorial['path']);
            $this->curtag->setTOC($this->p_vars['toc'], $a);
        }
        $this->PublishEvent(PHPDOCUMENTOR_EVENT_TUTORIAL, 
            new parserTutorial($this->curtag, $tutorial));
        return $this->curtag;
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_abe4d21ebe5f9d4088e7be4271603cd5e}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!setup\-States@{setup\-States}}
\index{setup\-States@{setup\-States}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{setup\-States}]{\setlength{\rightskip}{0pt plus 5cm}{\bf setup\-States} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_abe4d21ebe5f9d4088e7be4271603cd5e}
\#@-\/ setup the parser tokens, and the push\-Event/pop\-Event arrays

\begin{DoxyReturn}{\-Returns}
void 
\end{DoxyReturn}
\begin{DoxySeeAlso}{\-See also}
\hyperlink{class_parser_a72ead29e4317fbc4335fd3ba764e8b59}{\$tokens}, \hyperlink{class_parser_afa3ebd7022a716d664b6e3bae77e0e4c}{\$push\-Event}, \hyperlink{class_parser_a12bfa5a88d0884472fa0aa48d7b48ab7}{\$pop\-Event} 
\end{DoxySeeAlso}


\-Reimplemented from \hyperlink{class_parser_abe4d21ebe5f9d4088e7be4271603cd5e}{\-Parser}.



\-Definition at line 524 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        $this->_gettoc     = false;
        $this->_toc        = array();
        $this->_cursection = 0;
        if (isset($this->p_vars['toc'])) {
            unset($this->p_vars['toc']);
        }
        
        $this->tokens[STATE_NOEVENTS]
            = array('</','<!--','<!','<?','<');
        $this->tokens[STATE_COMMENTBLOCK]
            = array('-->');
        $this->tokens[STATE_OUTPHP]
            = array('?>','>');
        $this->tokens[STATE_QUOTE]
            = array("\\\"","\\\\","\"",'>');
        $this->tokens[STATE_ESCAPE]
            = false;// this tells the word parser to just cycle
        $this->tokens[PHPDOCUMENTOR_PDP_STATE_TAG]
            = array('>',' ','/>');
        $this->tokens[PHPDOCUMENTOR_PDP_STATE_CDATA]
            = array('&','<!--','</','<![CDATA[','<',']]>');
        $this->tokens[PHPDOCUMENTOR_PDP_STATE_ATTRIBUTES]
            = array('=','>','/>','"');
        $this->tokens[PHPDOCUMENTOR_PDP_STATE_ENTITY]
            = array(';');

        // For each event word to event mapings
        $this->pushEvent[PARSER_EVENT_NOEVENTS] = 
            array(
                '<!--' => PARSER_EVENT_COMMENTBLOCK,
                '<!' => PARSER_EVENT_OUTPHP,
                "</" => PHPDOCUMENTOR_PDP_EVENT_TAG,
                '<?' => PARSER_EVENT_OUTPHP,
                "<" => PHPDOCUMENTOR_PDP_EVENT_TAG,
                '&' => PHPDOCUMENTOR_PDP_EVENT_ENTITY,
            );
        //##########################

        $this->pushEvent[PHPDOCUMENTOR_PDP_EVENT_TAG] =
            array(
                ' ' => PHPDOCUMENTOR_PDP_EVENT_ATTRIBUTES,
            );
         
        $this->popEvent[PHPDOCUMENTOR_PDP_EVENT_TAG] = array(">","/>");
        //##########################
        $this->pushEvent[PHPDOCUMENTOR_PDP_EVENT_ATTRIBUTES] =
            array(
                '"' => PARSER_EVENT_QUOTE,
            );

        $this->popEvent[PHPDOCUMENTOR_PDP_EVENT_ATTRIBUTES] = array(">","/>");
        //##########################

        $this->popEvent[PARSER_EVENT_COMMENTBLOCK] = array("-->");
        //##########################
        $this->pushEvent[PARSER_EVENT_QUOTE] = 
            array(
                "\\"    => PARSER_EVENT_ESCAPE
            );
        $this->popEvent[PARSER_EVENT_QUOTE]  = array("\"");
        //##########################

        $this->popEvent[PARSER_EVENT_OUTPHP] = array("?>",">");
        //##########################

        $this->popEvent[PHPDOCUMENTOR_PDP_EVENT_ENTITY] = array(";");
        //##########################

        $this->pushEvent[PHPDOCUMENTOR_PDP_EVENT_CDATA] =
            array(
                "<" => PHPDOCUMENTOR_PDP_EVENT_TAG,
                '<!--' => PARSER_EVENT_COMMENTBLOCK,
                '<?' => PARSER_EVENT_OUTPHP,
                '&' => PHPDOCUMENTOR_PDP_EVENT_ENTITY,
            );
        $this->popEvent[PHPDOCUMENTOR_PDP_EVENT_CDATA]  = array("</");
    }
\end{DoxyCode}
\hypertarget{class_x_m_l_package_page_parser_a0b9ff2d1fc17f428271474485462ac49}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}}
\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\-X\-M\-L\-Package\-Page\-Parser}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-X\-M\-L\-Package\-Page\-Parser} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_x_m_l_package_page_parser_a0b9ff2d1fc17f428271474485462ac49}
\#@-\/ \-Set up the wordparser

\{\}

\hyperlink{class_object_word_parser}{\-Object\-Word\-Parser} 

\-Definition at line 138 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.


\begin{DoxyCode}
    {
        $this->wp = new ObjectWordParser(true);
    }
\end{DoxyCode}


\subsection{\-Field \-Documentation}
\hypertarget{class_x_m_l_package_page_parser_a0cf7bdb874d70717622e82e05f89506d}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$\-\_\-cursection@{\$\-\_\-cursection}}
\index{\$\-\_\-cursection@{\$\-\_\-cursection}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$\-\_\-cursection}]{\setlength{\rightskip}{0pt plus 5cm}\$\-\_\-cursection = 0}}\label{class_x_m_l_package_page_parser_a0cf7bdb874d70717622e82e05f89506d}


\-Definition at line 129 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_aaf22fbb23ebd3d1734cbca6e8478f5e6}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$\-\_\-gettoc@{\$\-\_\-gettoc}}
\index{\$\-\_\-gettoc@{\$\-\_\-gettoc}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$\-\_\-gettoc}]{\setlength{\rightskip}{0pt plus 5cm}\$\-\_\-gettoc = false}}\label{class_x_m_l_package_page_parser_aaf22fbb23ebd3d1734cbca6e8478f5e6}
\#@+  private 

\-Definition at line 127 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_a89239c7c6ac8aca36371eeec9753c130}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$\-\_\-toc@{\$\-\_\-toc}}
\index{\$\-\_\-toc@{\$\-\_\-toc}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$\-\_\-toc}]{\setlength{\rightskip}{0pt plus 5cm}\$\-\_\-toc = array()}}\label{class_x_m_l_package_page_parser_a89239c7c6ac8aca36371eeec9753c130}


\-Definition at line 128 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_ae05dedb802ada0155efdece2044fed64}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$context@{\$context}}
\index{\$context@{\$context}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$context}]{\setlength{\rightskip}{0pt plus 5cm}\$context}}\label{class_x_m_l_package_page_parser_ae05dedb802ada0155efdece2044fed64}


\-Definition at line 125 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_a430675102684e9ab820c7622678832b0}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$event\-Handlers@{\$event\-Handlers}}
\index{\$event\-Handlers@{\$event\-Handlers}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$event\-Handlers}]{\setlength{\rightskip}{0pt plus 5cm}\$event\-Handlers}}\label{class_x_m_l_package_page_parser_a430675102684e9ab820c7622678832b0}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 array(
        PHPDOCUMENTOR_PDP_EVENT_TAG => 'handleTag',
        PHPDOCUMENTOR_PDP_EVENT_ATTRIBUTES => 'handleAttributes',
        PHPDOCUMENTOR_PDP_EVENT_CDATA => 'handleCData',
        PARSER_EVENT_NOEVENTS => 'defaultHandler',
        PARSER_EVENT_COMMENTBLOCK => 'ignoreHandler',
        PARSER_EVENT_OUTPHP => 'ignoreHandler',
        PARSER_EVENT_QUOTE => 'handleQuote',
        PHPDOCUMENTOR_PDP_EVENT_ENTITY => 'handleEntity',
    )
\end{DoxyCode}
lookup table for event handler methods \begin{DoxySeeAlso}{\-See also}
\hyperlink{class_parser_a20139dbf0050f44b70e34bf32d89d7e4}{\-Parser\-::parse()} 
\end{DoxySeeAlso}


\-Reimplemented from \hyperlink{class_parser_a430675102684e9ab820c7622678832b0}{\-Parser}.



\-Definition at line 103 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_ab8117573961eab022362e6fa8622ee1c}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$pars@{\$pars}}
\index{\$pars@{\$pars}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$pars}]{\setlength{\rightskip}{0pt plus 5cm}\$pars = array()}}\label{class_x_m_l_package_page_parser_ab8117573961eab022362e6fa8622ee1c}


\-Definition at line 117 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_ae4d6c02670a248fa43626873110fb716}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$refsect1id@{\$refsect1id}}
\index{\$refsect1id@{\$refsect1id}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$refsect1id}]{\setlength{\rightskip}{0pt plus 5cm}\$refsect1id = false}}\label{class_x_m_l_package_page_parser_ae4d6c02670a248fa43626873110fb716}


\-Definition at line 119 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_a307830a525580e27cc0906de94743e13}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$refsect2id@{\$refsect2id}}
\index{\$refsect2id@{\$refsect2id}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$refsect2id}]{\setlength{\rightskip}{0pt plus 5cm}\$refsect2id = false}}\label{class_x_m_l_package_page_parser_a307830a525580e27cc0906de94743e13}


\-Definition at line 120 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.

\hypertarget{class_x_m_l_package_page_parser_ad3db9e63f8a3ade6c75cab99d441665e}{\index{\-X\-M\-L\-Package\-Page\-Parser@{\-X\-M\-L\-Package\-Page\-Parser}!\$refsect3id@{\$refsect3id}}
\index{\$refsect3id@{\$refsect3id}!XMLPackagePageParser@{\-X\-M\-L\-Package\-Page\-Parser}}
\subsubsection[{\$refsect3id}]{\setlength{\rightskip}{0pt plus 5cm}\$refsect3id = false}}\label{class_x_m_l_package_page_parser_ad3db9e63f8a3ade6c75cab99d441665e}


\-Definition at line 121 of file \-X\-M\-Lpackage\-Page\-Parser.\-inc.



\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
\-C\-:/wamp/www/\-Mitos\-E\-H\-R/lib/\-Php\-Documentor/php\-Documentor/\hyperlink{_x_m_lpackage_page_parser_8inc}{\-X\-M\-Lpackage\-Page\-Parser.\-inc}\end{DoxyCompactItemize}
