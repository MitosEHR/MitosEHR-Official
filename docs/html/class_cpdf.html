<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MitosEHR: Cpdf Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo_medium.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MitosEHR
   &#160;<span id="projectnumber">Vega v1.0</span>
   </div>
   <div id="projectbrief">Electronic Health Record</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_cpdf.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">Cpdf Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="Cpdf" --><div class="dynheader">
Inheritance diagram for Cpdf:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_cpdf.png" usemap="#Cpdf_map" alt=""/>
  <map id="Cpdf_map" name="Cpdf_map">
<area href="class_cezpdf.html" alt="Cezpdf" shape="rect" coords="0,56,72,80"/>
<area href="classphpdocpdf.html" alt="phpdocpdf" shape="rect" coords="0,112,72,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a9cc0b020830361e9584150763b9995ae">Cpdf</a> ($pageSize=array(0, 0, 612, 792))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a2432dc753eab2f8786f3b6c97cfdca59">o_destination</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a37a4d12fd4fe6536921eabccfc55bae3">o_viewerPreferences</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a5e6a4d8146f8dc8424c01107deae2363">o_outlines</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a607aaa24e2d8b46f8c387d0d5144cd9a">o_font</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ab2907958d0d7da9764c61510b32a3e76">o_fontDescriptor</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aedda68b5afe6900c14375f2fe4c63bd5">o_fontEncoding</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a8c957eb8366fe5b89727c7ec68700afc">o_procset</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a1b15589e09e12f423f87d8ba3b1b1be4">o_info</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ab01e4e5dac06bdd7480879a215fe552d">o_action</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aef859651290d314f10fbb2aee0a3785b">o_annotation</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aa8f8c9faae6d2ef10e350675dde97f8d">o_page</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ac2199fd5ae0ff08a49c57dc48cea87be">o_image</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#af77067434721b4808184e6d7793fa85c">o_encryption</a> ($id, $action, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a7c89968388709b624565f4cd0faaa167">md5_16</a> ($string)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a593c690c9c88459001b8fee0c1e02b60">encryptInit</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ab9ace0c7741193acf9b665f2cac0139e">ARC4_init</a> ($key='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a> ($text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a1f48bf2f91aec0960acebcb01548dfb0">addLink</a> ($url, $x0, $y0, $x1, $y1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aa47771ad964538a2009e960582ef4439">addInternalLink</a> ($label, $x0, $y0, $x1, $y1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a2449e87b218d05a506d4ca97fdb6d13a">setEncryption</a> ($userPass='', $ownerPass='', $pc=array())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a97cd4a04c03ffbf0f9f1dde0670f25c0">checkAllHere</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aa81bf39d5b682bbccdbf75c269b15729">output</a> ($debug=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ab3114927075d9643a6ce7bcffb2bb8ac">newDocument</a> ($pageSize=array(0, 0, 612, 792))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ac9e094a24b03891a8b8e1ef468b535b7">openFont</a> ($font)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a> ($fontName, $encoding='', $set=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aacf9523fe9f5c860731020f7a49778a1">getFirstPageId</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a0063e9338d80979be51981786380eef4">addContent</a> ($content)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ad6873769b1aeb31e7acbc3be3de671a5">setColor</a> ($r, $g, $b, $force=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a8d3584e9eee400857cd917984d025db4">setStrokeColor</a> ($r, $g, $b, $force=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#af1d651738f85ded800eda901655992be">line</a> ($x1, $y1, $x2, $y2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a13c3a2e45741b553d81496482a6a9579">curve</a> ($x0, $y0, $x1, $y1, $x2, $y2, $x3, $y3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a01283c9d18d281852c058bd6660d75a8">partEllipse</a> ($x0, $y0, $astart, $afinish, $r1, $r2=0, $angle=0, $nSeg=8)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a7d14967703e2beb4591ea33187d71f83">filledEllipse</a> ($x0, $y0, $r1, $r2=0, $angle=0, $nSeg=8, $astart=0, $afinish=360)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ab56f65d9ba54f403a6bd7a007134808a">ellipse</a> ($x0, $y0, $r1, $r2=0, $angle=0, $nSeg=8, $astart=0, $afinish=360, $close=1, $fill=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a8e3b86cfcb5e8d0ad44fa5196f40a6b1">setLineStyle</a> ($width=1, $cap='', $join='', $dash='', $phase=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aaf7ac386285317f442a825dd02f49fe9">polygon</a> ($p, $np, $f=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a519df1355cd54eb52caa42650c7fcc2e">filledRectangle</a> ($x1, $y1, $width, $height)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#adc6135070daab0159a4c75d04ebbc8ac">rectangle</a> ($x1, $y1, $width, $height)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ae150a1dceeb483a42acaedbe73ccd692">newPage</a> ($insert=0, $id=0, $pos='after')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a27bdbd15ab2ad7f53187295651b345e7">stream</a> ($options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a6beae3dc84460fede62c6a0ca8861277">getFontHeight</a> ($size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#adedb392d14ce7963b05c5ca389181699">getFontDecender</a> ($size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a984113695ea977929b4b7795fbf41cd2">filterText</a> ($text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ada9e29ddfcdecb498a13811a03bf0716">PRVTgetTextPosition</a> ($x, $y, $angle, $size, $wa, $text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a74a8799ea1bd2492c8f166c99ab8c588">PRVTcheckTextDirective</a> (&amp;$text, $i, &amp;$f)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a0431a00e90c0a4cb96e22e9af5c92927">PRVTcheckTextDirective1</a> (&amp;$text, $i, &amp;$f, $final, &amp;$x, &amp;$y, $size=0, $angle=0, $wordSpaceAdjust=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a3f30e13975f37e15fbbfe69595cb3731">addText</a> ($x, $y, $size, $text, $angle=0, $wordSpaceAdjust=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#af92fe5c611b3feeafd3282ace477345f">getTextWidth</a> ($size, $text)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aa809699a6b3919f44b4d62e5f685dc8e">PRVTadjustWrapText</a> ($text, $actual, $width, &amp;$x, &amp;$adjust, $justification)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a3addbbcd4f33f737fa3210e38d7c3649">addTextWrap</a> ($x, $y, $width, $size, $text, $justification='left', $angle=0, $<a class="el" href="classtest.html">test</a>=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a854f2a9d1250c69b6c2243d5175ddd83">saveState</a> ($pageEnd=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a2f42f38b51682f8457ee605bb3029dc4">restoreState</a> ($pageEnd=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aa4a5e13c4e4e38cab679bef2100f5a1b">openObject</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a42c738c855a15be14e5fe6b07834a6c5">reopenObject</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#afab1d53fba022d6a3cfa2c7ce3168106">closeObject</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ae592038df692dd6d0cfca2f781e6b0ae">stopObject</a> ($id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a61fb160b67eb6fae0fa444ba22ecb5e0">addObject</a> ($id, $options='add')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a86a12337c5d465a21d8f8f998d12bf7d">addInfo</a> ($label, $value=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#abfa522165e81ef739cd49cf26ffab7ed">setPreferences</a> ($label, $value=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a> (&amp;$data, $pos, $num)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a14d94ee9d3ce15f6f24b0b8950acf26a">addPngFromFile</a> ($file, $x, $y, $w=0, $h=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ad14d18b56e5418e5938c36e16aba551d">addJpegFromFile</a> ($img, $x, $y, $w=0, $h=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a38148d27bd5f2fdd2b63c382991e03fa">addImage</a> (&amp;$img, $x, $y, $w=0, $h=0, $quality=75)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aa5a35f03011edf15999be9ae1162d8d6">addJpegImage_common</a> (&amp;$data, $x, $y, $w=0, $h=0, $imageWidth, $imageHeight, $channels=3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#af01751de7cdbbc4b7a2eea6a20cd547b">openHere</a> ($style, $<a class="el" href="classa.html">a</a>=0, $b=0, $c=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aaaf728b2907f43d773302554f8b8448e">addDestination</a> ($label, $style, $<a class="el" href="classa.html">a</a>=0, $b=0, $c=0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a5ddaeab8f233dcdc13d1f3f13fa53367">setFontFamily</a> ($family, $options='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a> ($message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a2b030911f9e13bcb79cf4ec5c7fda100">transaction</a> ($action)</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a46f3313956a33faef75586addfc256a3">$numObj</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a255f6b6db4c45b1418e9c15cf4e2bcdd">$objects</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ab73b03ba4d8210e1551ba6b4277c4735">$catalogId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ac330cfe6dbddd6c5d814439f97fbaf69">$fonts</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a2d5823c32698fc3761bb1254a0282b5e">$currentFont</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#afe5d6644791e89099b37ce806592903a">$currentBaseFont</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a40d5e19fffea92115faffb8a58d5c6d6">$currentFontNum</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a640e9f9a022022672baf0926e7b079ef">$currentNode</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#af64cef3e8e7fe1dc79ff3293c12fb4cb">$currentPage</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a39303dffdd053136f221e31bb18ccd6b">$currentContents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a78cfbb4859f40b0d205596bf7542bc10">$numFonts</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a9c9591fc5b60e6bc98bc8898232d4844">$currentColour</a> = array('r'=&gt;-1,'g'=&gt;-1,'b'=&gt;-1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a9320b72ab89c1d8aeb76a607560f85a7">$currentStrokeColour</a> = array('r'=&gt;-1,'g'=&gt;-1,'b'=&gt;-1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a6e74a726b7c21bfd7d927955ae767188">$currentLineStyle</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#af19bb712a3b92c4f0fbcdf1add3f0bdd">$stateStack</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a45de2d60d68c9dcdd4aff475303520f3">$nStateStack</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ab340b7e706b6bd02b4f70ff942898102">$numPages</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a6a0169b26b5301f906b1ec481b3f1eea">$stack</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a9de4b5d2209348f2e4479bdfbaa81c6a">$nStack</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aedb3e9d19ff1ebfaa5added699a9671d">$looseObjects</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a8f094bbb6c6f5db373d4b4e3c4ed0595">$addLooseObjects</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ae60fb73fb55ea5cf46351c519f2e16fd">$infoObject</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#afa03e46e7e7be49ab81a9a3599af2871">$numImages</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a> = array('compression'=&gt;1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a6f59caca64a9cd3619591fde1bfd443f">$firstPageId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a39e9c2190f8061439c35f7d2a8240318">$procsetObjectId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a3632d1cfb98c70776f2bf64fefeb1292">$fontFamilies</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#ac7a9fec297babb986a440fa02032be15">$currentTextState</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a21a183f927a6d243fe6b4ba3a6c4d4c8">$messages</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a8b0d646c9b1820820ea01f0db2c22339">$arc4</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a7da30b74291ccb1aa4f0368140a36018">$arc4_objnum</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aaf05a37af8d9a97b51844158c9f04981">$fileIdentifier</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a4ac37790931818c0ac730fa8b4e58760">$encrypted</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a730bbd8ecf60f264748611532e4c6f01">$encryptionKey</a> = ''</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#abc7c2ac0d93d22f71221e8b60512c860">$callback</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a894ee84a4cce4aed0afd68456ef6685d">$nCallback</a> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#a122da4689a596dd289cea157977eb02c">$destinations</a> = array()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_cpdf.html#aeb2b7ad87c29b9898f9f05782a5de508">$checkpoint</a> = ''</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00026">26</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a0063e9338d80979be51981786380eef4"></a><!-- doxytag: member="Cpdf::addContent" ref="a0063e9338d80979be51981786380eef4" args="($content)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a0063e9338d80979be51981786380eef4">addContent</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>content</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add content to the currently active object</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01651">1651</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                             {
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=$content;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaaf728b2907f43d773302554f8b8448e"></a><!-- doxytag: member="Cpdf::addDestination" ref="aaaf728b2907f43d773302554f8b8448e" args="($label, $style, $a=0, $b=0, $c=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aaaf728b2907f43d773302554f8b8448e">addDestination</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>style</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>a</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>b</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>c</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>create a labelled destination within the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02972">2972</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <span class="comment">// associates the given label with the destination, it is done this way so that a destination can be specified after</span>
  <span class="comment">// it has been linked to</span>
  <span class="comment">// styles are the same as the &#39;openHere&#39; function</span>
  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#a2432dc753eab2f8786f3b6c97cfdca59">o_destination</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,array(<span class="stringliteral">&#39;page&#39;</span>=&gt;$this-&gt;currentPage,<span class="stringliteral">&#39;type&#39;</span>=&gt;$style,<span class="stringliteral">&#39;p1&#39;</span>=&gt;<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>,<span class="stringliteral">&#39;p2&#39;</span>=&gt;$b,<span class="stringliteral">&#39;p3&#39;</span>=&gt;$c));
  $id = $this-&gt;numObj;
  <span class="comment">// store the label-&gt;idf relationship, note that this means that labels can be used only once</span>
  $this-&gt;destinations[<span class="stringliteral">&quot;$label&quot;</span>]=$id;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a38148d27bd5f2fdd2b63c382991e03fa"></a><!-- doxytag: member="Cpdf::addImage" ref="a38148d27bd5f2fdd2b63c382991e03fa" args="(&amp;$img, $x, $y, $w=0, $h=0, $quality=75)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a38148d27bd5f2fdd2b63c382991e03fa">addImage</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>w</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>h</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>quality</em> = <code>75</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add an image into the document, from a GD object this function is not all that reliable, and I would probably encourage people to use the file based functions </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02873">2873</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {
  <span class="comment">// add a new image into the current location, as an external object</span>
  <span class="comment">// add the image at $x,$y, and with width and height as defined by $w &amp; $h</span>
  
  <span class="comment">// note that this will only work with full colour images and makes them jpg images for display</span>
  <span class="comment">// later versions could present lossless image formats if there is interest.</span>
  
  <span class="comment">// there seems to be some problem here in that images that have quality set above 75 do not appear</span>
  <span class="comment">// not too sure why this is, but in the meantime I have restricted this to 75.  </span>
  <span class="keywordflow">if</span> ($quality&gt;75){
    $quality=75;
  }

  <span class="comment">// if the width or height are set to zero, then set the other one based on keeping the image</span>
  <span class="comment">// height/width ratio the same, if they are both zero, then give up :)</span>
  $imageWidth=imagesx($img);
  $imageHeight=imagesy($img);
  
  <span class="keywordflow">if</span> ($w&lt;=0 &amp;&amp; $h&lt;=0){
    <span class="keywordflow">return</span>;
  }
  <span class="keywordflow">if</span> ($w==0){
    $w=$h/$imageHeight*$imageWidth;
  }
  <span class="keywordflow">if</span> ($h==0){
    $h=$w*$imageHeight/$imageWidth;
  }
  
  <span class="comment">// gotta get the data out of the img..</span>

  <span class="comment">// so I write to a temp file, and then read it back.. soo ugly, my apologies.</span>
  $tmpDir=<span class="stringliteral">&#39;/tmp&#39;</span>;
  $tmpName=tempnam($tmpDir,<span class="stringliteral">&#39;img&#39;</span>);
  imagejpeg($img,$tmpName,$quality);
  $fp=fopen($tmpName,<span class="stringliteral">&#39;rb&#39;</span>);

  $tmp = get_magic_quotes_runtime();
  set_magic_quotes_runtime(0);
  $fp = @fopen($tmpName,<span class="stringliteral">&#39;rb&#39;</span>);
  <span class="keywordflow">if</span> ($fp){
    <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>=<span class="stringliteral">&#39;&#39;</span>;
    <span class="keywordflow">while</span>(!feof($fp)){
      <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a> .= fread($fp,1024);
    }
    fclose($fp);
  } <span class="keywordflow">else</span> {
    $error = 1;
    $errormsg = <span class="stringliteral">&#39;trouble opening file&#39;</span>;
  }
<span class="comment">//  $data = fread($fp,filesize($tmpName));</span>
  set_magic_quotes_runtime($tmp);
<span class="comment">//  fclose($fp);</span>
  unlink($tmpName);
  $this-&gt;<a class="code" href="class_cpdf.html#aa5a35f03011edf15999be9ae1162d8d6">addJpegImage_common</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$x,$y,$w,$h,$imageWidth,$imageHeight);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a86a12337c5d465a21d8f8f998d12bf7d"></a><!-- doxytag: member="Cpdf::addInfo" ref="a86a12337c5d465a21d8f8f998d12bf7d" args="($label, $value=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a86a12337c5d465a21d8f8f998d12bf7d">addInfo</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add content to the documents info object </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02593">2593</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
  <span class="comment">// this will only work if the label is one of the valid ones.</span>
  <span class="comment">// modify this so that arrays can be passed as well.</span>
  <span class="comment">// if $label is an array then assume that it is key=&gt;value pairs</span>
  <span class="comment">// else assume that they are both scalar, anything else will probably error</span>
  <span class="keywordflow">if</span> (is_array($label)){
    <span class="keywordflow">foreach</span> ($label as $l=&gt;$v){
      $this-&gt;<a class="code" href="class_cpdf.html#a1b15589e09e12f423f87d8ba3b1b1be4">o_info</a>($this-&gt;infoObject,$l,$v);
    }
  } <span class="keywordflow">else</span> {
    $this-&gt;<a class="code" href="class_cpdf.html#a1b15589e09e12f423f87d8ba3b1b1be4">o_info</a>($this-&gt;infoObject,$label,$value);
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa47771ad964538a2009e960582ef4439"></a><!-- doxytag: member="Cpdf::addInternalLink" ref="aa47771ad964538a2009e960582ef4439" args="($label, $x0, $y0, $x1, $y1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aa47771ad964538a2009e960582ef4439">addInternalLink</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add a link in the document to an internal destination (ie. within the document) </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01176">1176</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
  $this-&gt;numObj++;
  $info = array(<span class="stringliteral">&#39;type&#39;</span>=&gt;<span class="stringliteral">&#39;ilink&#39;</span>,<span class="stringliteral">&#39;label&#39;</span>=&gt;$label,<span class="stringliteral">&#39;rect&#39;</span>=&gt;array($x0,$y0,$x1,$y1));
  $this-&gt;<a class="code" href="class_cpdf.html#aef859651290d314f10fbb2aee0a3785b">o_annotation</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,$info);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad14d18b56e5418e5938c36e16aba551d"></a><!-- doxytag: member="Cpdf::addJpegFromFile" ref="ad14d18b56e5418e5938c36e16aba551d" args="($img, $x, $y, $w=0, $h=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ad14d18b56e5418e5938c36e16aba551d">addJpegFromFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>w</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>h</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add a JPEG image into the document, from a file </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02828">2828</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <span class="comment">// attempt to add a jpeg image straight from a file, using no GD commands</span>
  <span class="comment">// note that this function is unable to operate on a remote file.</span>

  <span class="keywordflow">if</span> (!file_exists($img)){
    <span class="keywordflow">return</span>;
  }

  $tmp=getimagesize($img);
  $imageWidth=$tmp[0];
  $imageHeight=$tmp[1];

  <span class="keywordflow">if</span> (isset($tmp[<span class="stringliteral">&#39;channels&#39;</span>])){
    $channels = $tmp[<span class="stringliteral">&#39;channels&#39;</span>];
  } <span class="keywordflow">else</span> {
    $channels = 3;
  }

  <span class="keywordflow">if</span> ($w&lt;=0 &amp;&amp; $h&lt;=0){
    $w=$imageWidth;
  }
  <span class="keywordflow">if</span> ($w==0){
    $w=$h/$imageHeight*$imageWidth;
  }
  <span class="keywordflow">if</span> ($h==0){
    $h=$w*$imageHeight/$imageWidth;
  }

  $fp=fopen($img,<span class="stringliteral">&#39;rb&#39;</span>);

  $tmp = get_magic_quotes_runtime();
  set_magic_quotes_runtime(0);
  <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a> = fread($fp,filesize($img));
  set_magic_quotes_runtime($tmp);
  
  fclose($fp);

  $this-&gt;<a class="code" href="class_cpdf.html#aa5a35f03011edf15999be9ae1162d8d6">addJpegImage_common</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$x,$y,$w,$h,$imageWidth,$imageHeight,$channels);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa5a35f03011edf15999be9ae1162d8d6"></a><!-- doxytag: member="Cpdf::addJpegImage_common" ref="aa5a35f03011edf15999be9ae1162d8d6" args="(&amp;$data, $x, $y, $w=0, $h=0, $imageWidth, $imageHeight, $channels=3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aa5a35f03011edf15999be9ae1162d8d6">addJpegImage_common</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>w</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>h</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>imageWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>imageHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>channels</em> = <code>3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>common code used by the two JPEG adding functions</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02934">2934</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                         {
  <span class="comment">// note that this function is not to be called externally</span>
  <span class="comment">// it is just the common code between the GD and the file options</span>
  $this-&gt;numImages++;
  $im=$this-&gt;numImages;
  $label=<span class="charliteral">&#39;I&#39;</span>.$im;
  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#ac2199fd5ae0ff08a49c57dc48cea87be">o_image</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,array(<span class="stringliteral">&#39;label&#39;</span>=&gt;$label,<span class="stringliteral">&#39;data&#39;</span>=&gt;<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,<span class="stringliteral">&#39;iw&#39;</span>=&gt;$imageWidth,<span class="stringliteral">&#39;ih&#39;</span>=&gt;$imageHeight,<span class="stringliteral">&#39;channels&#39;</span>=&gt;$channels));

  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\nq&quot;</span>;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$w).<span class="stringliteral">&quot; 0 0 &quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$h).<span class="stringliteral">&quot; &quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x).<span class="stringliteral">&quot; &quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y).<span class="stringliteral">&quot; cm&quot;</span>;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n/&quot;</span>.$label.<span class="stringliteral">&#39; Do&#39;</span>;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\nQ&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1f48bf2f91aec0960acebcb01548dfb0"></a><!-- doxytag: member="Cpdf::addLink" ref="a1f48bf2f91aec0960acebcb01548dfb0" args="($url, $x0, $y0, $x1, $y1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a1f48bf2f91aec0960acebcb01548dfb0">addLink</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>functions which can be called to adjust or add to the document add a link in the document to an external URL </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01167">1167</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
  $this-&gt;numObj++;
  $info = array(<span class="stringliteral">&#39;type&#39;</span>=&gt;<span class="stringliteral">&#39;link&#39;</span>,<span class="stringliteral">&#39;url&#39;</span>=&gt;<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>,<span class="stringliteral">&#39;rect&#39;</span>=&gt;array($x0,$y0,$x1,$y1));
  $this-&gt;<a class="code" href="class_cpdf.html#aef859651290d314f10fbb2aee0a3785b">o_annotation</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,$info);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0fe60161c19f81f49f76a2dcb95d48e4"></a><!-- doxytag: member="Cpdf::addMessage" ref="a0fe60161c19f81f49f76a2dcb95d48e4" args="($message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>used to add messages for use in debugging </p>

<p>Reimplemented in <a class="el" href="classphpdocpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">phpdocpdf</a>.</p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l03025">3025</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                             {
  $this-&gt;messages.=$message.<span class="stringliteral">&quot;\n&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a61fb160b67eb6fae0fa444ba22ecb5e0"></a><!-- doxytag: member="Cpdf::addObject" ref="a61fb160b67eb6fae0fa444ba22ecb5e0" args="($id, $options='add')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a61fb160b67eb6fae0fa444ba22ecb5e0">addObject</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>'add'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>after an object has been created, it wil only show if it has been added, using this function. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02547">2547</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
  <span class="comment">// add the specified object to the page</span>
  <span class="keywordflow">if</span> (isset($this-&gt;looseObjects[$id]) &amp;&amp; $this-&gt;currentContents!=$id){
    <span class="comment">// then it is a valid object, and it is not being added to itself</span>
    <span class="keywordflow">switch</span>(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>){
      <span class="keywordflow">case</span> <span class="stringliteral">&#39;all&#39;</span>:
        <span class="comment">// then this object is to be added to this page (done in the next block) and </span>
        <span class="comment">// all future new pages. </span>
        $this-&gt;addLooseObjects[$id]=<span class="stringliteral">&#39;all&#39;</span>;
      <span class="keywordflow">case</span> <span class="stringliteral">&#39;add&#39;</span>:
        <span class="keywordflow">if</span> (isset($this-&gt;objects[$this-&gt;currentContents][<span class="stringliteral">&#39;onPage&#39;</span>])){
          <span class="comment">// then the destination contents is the primary for the page</span>
          <span class="comment">// (though this object is actually added to that page)</span>
          $this-&gt;<a class="code" href="class_cpdf.html#aa8f8c9faae6d2ef10e350675dde97f8d">o_page</a>($this-&gt;objects[$this-&gt;currentContents][<span class="stringliteral">&#39;onPage&#39;</span>],<span class="stringliteral">&#39;content&#39;</span>,$id);
        }
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="stringliteral">&#39;even&#39;</span>:
        $this-&gt;addLooseObjects[$id]=<span class="stringliteral">&#39;even&#39;</span>;
        $pageObjectId=$this-&gt;objects[$this-&gt;currentContents][<span class="stringliteral">&#39;onPage&#39;</span>];
        <span class="keywordflow">if</span> ($this-&gt;objects[$pageObjectId][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pageNum&#39;</span>]%2==0){
          $this-&gt;<a class="code" href="class_cpdf.html#a61fb160b67eb6fae0fa444ba22ecb5e0">addObject</a>($id); <span class="comment">// hacky huh :)</span>
        }
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="stringliteral">&#39;odd&#39;</span>:
        $this-&gt;addLooseObjects[$id]=<span class="stringliteral">&#39;odd&#39;</span>;
        $pageObjectId=$this-&gt;objects[$this-&gt;currentContents][<span class="stringliteral">&#39;onPage&#39;</span>];
        <span class="keywordflow">if</span> ($this-&gt;objects[$pageObjectId][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pageNum&#39;</span>]%2==1){
          $this-&gt;<a class="code" href="class_cpdf.html#a61fb160b67eb6fae0fa444ba22ecb5e0">addObject</a>($id); <span class="comment">// hacky huh :)</span>
        }
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="stringliteral">&#39;next&#39;</span>:
        $this-&gt;addLooseObjects[$id]=<span class="stringliteral">&#39;all&#39;</span>;
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="stringliteral">&#39;nexteven&#39;</span>:
        $this-&gt;addLooseObjects[$id]=<span class="stringliteral">&#39;even&#39;</span>;
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="stringliteral">&#39;nextodd&#39;</span>:
        $this-&gt;addLooseObjects[$id]=<span class="stringliteral">&#39;odd&#39;</span>;
        <span class="keywordflow">break</span>;
    }
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a14d94ee9d3ce15f6f24b0b8950acf26a"></a><!-- doxytag: member="Cpdf::addPngFromFile" ref="a14d94ee9d3ce15f6f24b0b8950acf26a" args="($file, $x, $y, $w=0, $h=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a14d94ee9d3ce15f6f24b0b8950acf26a">addPngFromFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>w</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>h</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add a PNG image into the document, from a file this should work with remote files </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02640">2640</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <span class="comment">// read in a png file, interpret it, then add to the system</span>
  $error=0;
  $tmp = get_magic_quotes_runtime();
  set_magic_quotes_runtime(0);
  $fp = @fopen(<a class="code" href="tokenizer__test_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>,<span class="stringliteral">&#39;rb&#39;</span>);
  <span class="keywordflow">if</span> ($fp){
    <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>=<span class="stringliteral">&#39;&#39;</span>;
    <span class="keywordflow">while</span>(!feof($fp)){
      <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a> .= fread($fp,1024);
    }
    fclose($fp);
  } <span class="keywordflow">else</span> {
    $error = 1;
    $errormsg = <span class="stringliteral">&#39;trouble opening file: &#39;</span>.$file;
  }
  set_magic_quotes_runtime($tmp);
  
  <span class="keywordflow">if</span> (!$error){
    $header = chr(137).chr(80).chr(78).chr(71).chr(13).chr(10).chr(26).chr(10);
    <span class="keywordflow">if</span> (substr(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,0,8)!=$header){
      $error=1;
      $errormsg = <span class="stringliteral">&#39;this file does not have a valid header&#39;</span>;
    }
  }

  <span class="keywordflow">if</span> (!$error){
    <span class="comment">// set pointer</span>
    $p = 8;
    $len = strlen(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>);
    <span class="comment">// cycle through the file, identifying chunks</span>
    $haveHeader=0;
    $info=array();
    $idata=<span class="stringliteral">&#39;&#39;</span>;
    $pdata=<span class="stringliteral">&#39;&#39;</span>;
    <span class="keywordflow">while</span> ($p&lt;$len){
      $chunkLen = $this-&gt;<a class="code" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p,4);
      $chunkType = substr(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+4,4);
<span class="comment">//      echo $chunkType.&#39; - &#39;.$chunkLen.&#39;&lt;br&gt;&#39;;</span>
    
      <span class="keywordflow">switch</span>($chunkType){
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;IHDR&#39;</span>:
          <span class="comment">// this is where all the file information comes from</span>
          $info[<span class="stringliteral">&#39;width&#39;</span>]=$this-&gt;<a class="code" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+8,4);
          $info[<span class="stringliteral">&#39;height&#39;</span>]=$this-&gt;<a class="code" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+12,4);
          $info[<span class="stringliteral">&#39;bitDepth&#39;</span>]=ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$p+16]);
          $info[<span class="stringliteral">&#39;colorType&#39;</span>]=ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$p+17]);
          $info[<span class="stringliteral">&#39;compressionMethod&#39;</span>]=ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$p+18]);
          $info[<span class="stringliteral">&#39;filterMethod&#39;</span>]=ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$p+19]);
          $info[<span class="stringliteral">&#39;interlaceMethod&#39;</span>]=ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$p+20]);
<span class="comment">//print_r($info);</span>
          $haveHeader=1;
          <span class="keywordflow">if</span> ($info[<span class="stringliteral">&#39;compressionMethod&#39;</span>]!=0){
            $error=1;
            $errormsg = <span class="stringliteral">&#39;unsupported compression method&#39;</span>;
          }
          <span class="keywordflow">if</span> ($info[<span class="stringliteral">&#39;filterMethod&#39;</span>]!=0){
            $error=1;
            $errormsg = <span class="stringliteral">&#39;unsupported filter method&#39;</span>;
          }
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;PLTE&#39;</span>:
          $pdata.=substr(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+8,$chunkLen);
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;IDAT&#39;</span>:
          $idata.=substr(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+8,$chunkLen);
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;tRNS&#39;</span>: 
          <span class="comment">//this chunk can only occur once and it must occur after the PLTE chunk and before IDAT chunk </span>
          <span class="comment">//print &quot;tRNS found, color type = &quot;.$info[&#39;colorType&#39;].&quot;&lt;BR&gt;&quot;; </span>
          $transparency = array();
          <span class="keywordflow">if</span> ($info[<span class="stringliteral">&#39;colorType&#39;</span>] == 3) { <span class="comment">// indexed color, rbg </span>
          <span class="comment">/* corresponding to entries in the plte chunk </span>
<span class="comment">          Alpha for palette index 0: 1 byte </span>
<span class="comment">          Alpha for palette index 1: 1 byte </span>
<span class="comment">          ...etc... </span>
<span class="comment">          */</span> 
            <span class="comment">// there will be one entry for each palette entry. up until the last non-opaque entry.</span>
            <span class="comment">// set up an array, stretching over all palette entries which will be o (opaque) or 1 (transparent)</span>
            $transparency[<span class="stringliteral">&#39;type&#39;</span>]=<span class="stringliteral">&#39;indexed&#39;</span>;
            $numPalette = strlen($pdata)/3;
            $trans=0;
            <span class="keywordflow">for</span> ($i=$chunkLen;$i&gt;=0;$i--){
              <span class="keywordflow">if</span> (ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$p+8+$i])==0){
                $trans=$i;
              }
            }
            $transparency[<span class="stringliteral">&#39;data&#39;</span>] = $trans;
            
          } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a>($info[<span class="stringliteral">&#39;colorType&#39;</span>] == 0) { <span class="comment">// grayscale </span>
          <span class="comment">/* corresponding to entries in the plte chunk </span>
<span class="comment">          Gray: 2 bytes, range 0 .. (2^bitdepth)-1 </span>
<span class="comment">          */</span> 
<span class="comment">//            $transparency[&#39;grayscale&#39;]=$this-&gt;PRVT_getBytes($data,$p+8,2); // g = grayscale </span>
            $transparency[<span class="stringliteral">&#39;type&#39;</span>]=<span class="stringliteral">&#39;indexed&#39;</span>;
            $transparency[<span class="stringliteral">&#39;data&#39;</span>] = ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$p+8+1]);
          
          } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a>($info[<span class="stringliteral">&#39;colorType&#39;</span>] == 2) { <span class="comment">// truecolor </span>
          <span class="comment">/* corresponding to entries in the plte chunk </span>
<span class="comment">          Red: 2 bytes, range 0 .. (2^bitdepth)-1 </span>
<span class="comment">          Green: 2 bytes, range 0 .. (2^bitdepth)-1 </span>
<span class="comment">          Blue: 2 bytes, range 0 .. (2^bitdepth)-1 </span>
<span class="comment">          */</span> 
            $transparency[<span class="charliteral">&#39;r&#39;</span>]=$this-&gt;<a class="code" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+8,2); <span class="comment">// r from truecolor </span>
            $transparency[<span class="charliteral">&#39;g&#39;</span>]=$this-&gt;<a class="code" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+10,2); <span class="comment">// g from truecolor </span>
            $transparency[<span class="charliteral">&#39;b&#39;</span>]=$this-&gt;<a class="code" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a>(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,$p+12,2); <span class="comment">// b from truecolor </span>
          
          } <span class="keywordflow">else</span> { 
          <span class="comment">//unsupported transparency type </span>
          } 
          <span class="comment">// KS End new code </span>
          <span class="keywordflow">break</span>; 
        <span class="keywordflow">default</span>:
          <span class="keywordflow">break</span>;
      }
    
      $p += $chunkLen+12;
    }
    
    <span class="keywordflow">if</span>(!$haveHeader){
      $error = 1;
      $errormsg = <span class="stringliteral">&#39;information header is missing&#39;</span>;
    }
    <span class="keywordflow">if</span> (isset($info[<span class="stringliteral">&#39;interlaceMethod&#39;</span>]) &amp;&amp; $info[<span class="stringliteral">&#39;interlaceMethod&#39;</span>]){
      $error = 1;
      $errormsg = <span class="stringliteral">&#39;There appears to be no support for interlaced images in pdf.&#39;</span>;
    }
  }

  <span class="keywordflow">if</span> (!$error &amp;&amp; $info[<span class="stringliteral">&#39;bitDepth&#39;</span>] &gt; 8){
    $error = 1;
    $errormsg = <span class="stringliteral">&#39;only bit depth of 8 or less is supported&#39;</span>;
  }

  <span class="keywordflow">if</span> (!$error){
    <span class="keywordflow">if</span> ($info[<span class="stringliteral">&#39;colorType&#39;</span>]!=2 &amp;&amp; $info[<span class="stringliteral">&#39;colorType&#39;</span>]!=0 &amp;&amp; $info[<span class="stringliteral">&#39;colorType&#39;</span>]!=3){
      $error = 1;
      $errormsg = <span class="stringliteral">&#39;transparancey alpha channel not supported, transparency only supported for palette images.&#39;</span>;
    } <span class="keywordflow">else</span> {
      <span class="keywordflow">switch</span> ($info[<span class="stringliteral">&#39;colorType&#39;</span>]){
        <span class="keywordflow">case</span> 3:
          $color = <span class="stringliteral">&#39;DeviceRGB&#39;</span>;
          $ncolor=1;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 2:
          $color = <span class="stringliteral">&#39;DeviceRGB&#39;</span>;
          $ncolor=3;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> 0:
          $color = <span class="stringliteral">&#39;DeviceGray&#39;</span>;
          $ncolor=1;
          <span class="keywordflow">break</span>;
      }
    }
  }
  <span class="keywordflow">if</span> ($error){
    $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;PNG error - (&#39;</span>.<a class="code" href="tokenizer__test_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>.<span class="stringliteral">&#39;) &#39;</span>.$errormsg);
    <span class="keywordflow">return</span>;
  }
  <span class="keywordflow">if</span> ($w==0){
    $w=$h/$info[<span class="stringliteral">&#39;height&#39;</span>]*$info[<span class="stringliteral">&#39;width&#39;</span>];
  }
  <span class="keywordflow">if</span> ($h==0){
    $h=$w*$info[<span class="stringliteral">&#39;height&#39;</span>]/$info[<span class="stringliteral">&#39;width&#39;</span>];
  }
<span class="comment">//print_r($info);</span>
  <span class="comment">// so this image is ok... add it in.</span>
  $this-&gt;numImages++;
  $im=$this-&gt;numImages;
  $label=<span class="charliteral">&#39;I&#39;</span>.$im;
  $this-&gt;numObj++;
<span class="comment">//  $this-&gt;o_image($this-&gt;numObj,&#39;new&#39;,array(&#39;label&#39;=&gt;$label,&#39;data&#39;=&gt;$idata,&#39;iw&#39;=&gt;$w,&#39;ih&#39;=&gt;$h,&#39;type&#39;=&gt;&#39;png&#39;,&#39;ic&#39;=&gt;$info[&#39;width&#39;]));</span>
  <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a> = array(<span class="stringliteral">&#39;label&#39;</span>=&gt;$label,<span class="stringliteral">&#39;data&#39;</span>=&gt;$idata,<span class="stringliteral">&#39;bitsPerComponent&#39;</span>=&gt;$info[<span class="stringliteral">&#39;bitDepth&#39;</span>],<span class="stringliteral">&#39;pdata&#39;</span>=&gt;$pdata
                                      ,<span class="stringliteral">&#39;iw&#39;</span>=&gt;$info[<span class="stringliteral">&#39;width&#39;</span>],<span class="stringliteral">&#39;ih&#39;</span>=&gt;$info[<span class="stringliteral">&#39;height&#39;</span>],<span class="stringliteral">&#39;type&#39;</span>=&gt;<span class="stringliteral">&#39;png&#39;</span>,<span class="stringliteral">&#39;color&#39;</span>=&gt;$color,<span class="stringliteral">&#39;ncolor&#39;</span>=&gt;$ncolor);
  <span class="keywordflow">if</span> (isset($transparency)){
    <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;transparency&#39;</span>]=$transparency;
  }
  $this-&gt;<a class="code" href="class_cpdf.html#ac2199fd5ae0ff08a49c57dc48cea87be">o_image</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);

  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\nq&quot;</span>;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$w).<span class="stringliteral">&quot; 0 0 &quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$h).<span class="stringliteral">&quot; &quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x).<span class="stringliteral">&quot; &quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y).<span class="stringliteral">&quot; cm&quot;</span>;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n/&quot;</span>.$label.<span class="stringliteral">&#39; Do&#39;</span>;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\nQ&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a3f30e13975f37e15fbbfe69595cb3731"></a><!-- doxytag: member="Cpdf::addText" ref="a3f30e13975f37e15fbbfe69595cb3731" args="($x, $y, $size, $text, $angle=0, $wordSpaceAdjust=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a3f30e13975f37e15fbbfe69595cb3731">addText</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>wordSpaceAdjust</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add text to the document, at a specified location, size and angle on the page </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02159">2159</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
  <span class="keywordflow">if</span> (!$this-&gt;numFonts){$this-&gt;<a class="code" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a>(<span class="stringliteral">&#39;./fonts/Helvetica&#39;</span>);}

  <span class="comment">// if there are any open callbacks, then they should be called, to show the start of the line</span>
  <span class="keywordflow">if</span> ($this-&gt;nCallback&gt;0){
    <span class="keywordflow">for</span> ($i=$this-&gt;nCallback;$i&gt;0;$i--){
      <span class="comment">// call each function</span>
      $info = array(<span class="charliteral">&#39;x&#39;</span>=&gt;$x,<span class="charliteral">&#39;y&#39;</span>=&gt;$y,<span class="stringliteral">&#39;angle&#39;</span>=&gt;$angle,<span class="stringliteral">&#39;status&#39;</span>=&gt;<span class="stringliteral">&#39;sol&#39;</span>,<span class="charliteral">&#39;p&#39;</span>=&gt;$this-&gt;callback[$i][<span class="charliteral">&#39;p&#39;</span>],<span class="stringliteral">&#39;nCallback&#39;</span>=&gt;$this-&gt;callback[$i][<span class="stringliteral">&#39;nCallback&#39;</span>],<span class="stringliteral">&#39;height&#39;</span>=&gt;$this-&gt;callback[$i][<span class="stringliteral">&#39;height&#39;</span>],<span class="stringliteral">&#39;decender&#39;</span>=&gt;$this-&gt;callback[$i][<span class="stringliteral">&#39;decender&#39;</span>]);
      $func = $this-&gt;callback[$i][<span class="charliteral">&#39;f&#39;</span>];
      $this-&gt;$func($info);
    }
  }
  <span class="keywordflow">if</span> ($angle==0){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;BT &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y).<span class="stringliteral">&#39; Td&#39;</span>;
  } <span class="keywordflow">else</span> {
    <a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a> = deg2rad((<span class="keywordtype">float</span>)$angle);
    $tmp = <span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;BT &#39;</span>;
    $tmp .= sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,cos(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,(-1.0*sin(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>))).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,sin(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,cos(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>;
    $tmp .= sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y).<span class="stringliteral">&#39; Tm&#39;</span>;
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>] .= $tmp;
  }
  <span class="keywordflow">if</span> (<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>!=0 || <a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a> != $this-&gt;wordSpaceAdjust){
    $this-&gt;wordSpaceAdjust=<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>;
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>).<span class="stringliteral">&#39; Tw&#39;</span>;
  }
  $len=strlen($text);
  <a class="code" href="administration_2lists_2data_8php.html#a50a00e7de77365e00b117e73aa82fb9b">$start</a>=0;
  <span class="keywordflow">for</span> ($i=0;$i&lt;$len;$i++){
    $f=1;
    $directive = $this-&gt;<a class="code" href="class_cpdf.html#a74a8799ea1bd2492c8f166c99ab8c588">PRVTcheckTextDirective</a>($text,$i,$f);
    <span class="keywordflow">if</span> ($directive){
      <span class="comment">// then we should write what we need to</span>
      <span class="keywordflow">if</span> ($i&gt;<a class="code" href="administration_2lists_2data_8php.html#a50a00e7de77365e00b117e73aa82fb9b">$start</a>){
        $part = substr($text,<a class="code" href="administration_2lists_2data_8php.html#a50a00e7de77365e00b117e73aa82fb9b">$start</a>,$i-<a class="code" href="administration_2lists_2data_8php.html#a50a00e7de77365e00b117e73aa82fb9b">$start</a>);
        $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; /F&#39;</span>.$this-&gt;currentFontNum.<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.1f&#39;</span>,$size).<span class="stringliteral">&#39; Tf &#39;</span>;
        $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; (&#39;</span>.$this-&gt;filterText($part).<span class="stringliteral">&#39;) Tj&#39;</span>;
      }
      <span class="keywordflow">if</span> ($f){
        <span class="comment">// then there was nothing drastic done here, restore the contents</span>
        $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();
      } <span class="keywordflow">else</span> {
        $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>] .= <span class="stringliteral">&#39; ET&#39;</span>;
        $f=1;
        $xp=$x;
        $yp=$y;
        $directive = $this-&gt;<a class="code" href="class_cpdf.html#a0431a00e90c0a4cb96e22e9af5c92927">PRVTcheckTextDirective1</a>($text,$i,$f,1,$xp,$yp,$size,$angle,<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>);
        
        <span class="comment">// restart the text object</span>
          <span class="keywordflow">if</span> ($angle==0){
            $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;BT &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$xp).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$yp).<span class="stringliteral">&#39; Td&#39;</span>;
          } <span class="keywordflow">else</span> {
            <a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a> = deg2rad((<span class="keywordtype">float</span>)$angle);
            $tmp = <span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;BT &#39;</span>;
            $tmp .= sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,cos(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,(-1.0*sin(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>))).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,sin(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,cos(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>;
            $tmp .= sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$xp).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$yp).<span class="stringliteral">&#39; Tm&#39;</span>;
            $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>] .= $tmp;
          }
          <span class="keywordflow">if</span> (<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>!=0 || <a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a> != $this-&gt;wordSpaceAdjust){
            $this-&gt;wordSpaceAdjust=<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>;
            $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>).<span class="stringliteral">&#39; Tw&#39;</span>;
          }
      }
      <span class="comment">// and move the writing point to the next piece of text</span>
      $i=$i+$directive-1;
      <a class="code" href="administration_2lists_2data_8php.html#a50a00e7de77365e00b117e73aa82fb9b">$start</a>=$i+1;
    }
    
  }
  <span class="keywordflow">if</span> (<a class="code" href="administration_2lists_2data_8php.html#a50a00e7de77365e00b117e73aa82fb9b">$start</a>&lt;$len){
    $part = substr($text,<a class="code" href="administration_2lists_2data_8php.html#a50a00e7de77365e00b117e73aa82fb9b">$start</a>);
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; /F&#39;</span>.$this-&gt;currentFontNum.<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.1f&#39;</span>,$size).<span class="stringliteral">&#39; Tf &#39;</span>;
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; (&#39;</span>.$this-&gt;filterText($part).<span class="stringliteral">&#39;) Tj&#39;</span>;
  }
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; ET&#39;</span>;

  <span class="comment">// if there are any open callbacks, then they should be called, to show the end of the line</span>
  <span class="keywordflow">if</span> ($this-&gt;nCallback&gt;0){
    <span class="keywordflow">for</span> ($i=$this-&gt;nCallback;$i&gt;0;$i--){
      <span class="comment">// call each function</span>
      $tmp = $this-&gt;<a class="code" href="class_cpdf.html#ada9e29ddfcdecb498a13811a03bf0716">PRVTgetTextPosition</a>($x,$y,$angle,$size,<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>,$text);
      $info = array(<span class="charliteral">&#39;x&#39;</span>=&gt;$tmp[0],<span class="charliteral">&#39;y&#39;</span>=&gt;$tmp[1],<span class="stringliteral">&#39;angle&#39;</span>=&gt;$angle,<span class="stringliteral">&#39;status&#39;</span>=&gt;<span class="stringliteral">&#39;eol&#39;</span>,<span class="charliteral">&#39;p&#39;</span>=&gt;$this-&gt;callback[$i][<span class="charliteral">&#39;p&#39;</span>],<span class="stringliteral">&#39;nCallback&#39;</span>=&gt;$this-&gt;callback[$i][<span class="stringliteral">&#39;nCallback&#39;</span>],<span class="stringliteral">&#39;height&#39;</span>=&gt;$this-&gt;callback[$i][<span class="stringliteral">&#39;height&#39;</span>],<span class="stringliteral">&#39;decender&#39;</span>=&gt;$this-&gt;callback[$i][<span class="stringliteral">&#39;decender&#39;</span>]);
      $func = $this-&gt;callback[$i][<span class="charliteral">&#39;f&#39;</span>];
      $this-&gt;$func($info);
    }
  }

}
</pre></div>
</div>
</div>
<a class="anchor" id="a3addbbcd4f33f737fa3210e38d7c3649"></a><!-- doxytag: member="Cpdf::addTextWrap" ref="a3addbbcd4f33f737fa3210e38d7c3649" args="($x, $y, $width, $size, $text, $justification='left', $angle=0, $test=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a3addbbcd4f33f737fa3210e38d7c3649">addTextWrap</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>justification</em> = <code>'left'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>test</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add text to the page, but ensure that it fits within a certain width if it does not fit then put in as much as possible, splitting at word boundaries and return the remainder. justification and angle can also be specified for the text </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02334">2334</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                     {
  <span class="comment">// this will display the text, and if it goes beyond the width $width, will backtrack to the </span>
  <span class="comment">// previous space or hyphen, and return the remainder of the text.</span>

  <span class="comment">// $justification can be set to &#39;left&#39;,&#39;right&#39;,&#39;center&#39;,&#39;centre&#39;,&#39;full&#39;</span>

  <span class="comment">// need to store the initial text state, as this will change during the width calculation</span>
  <span class="comment">// but will need to be re-set before printing, so that the chars work out right</span>
  $store_currentTextState = $this-&gt;currentTextState;

  <span class="keywordflow">if</span> (!$this-&gt;numFonts){$this-&gt;<a class="code" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a>(<span class="stringliteral">&#39;./fonts/Helvetica&#39;</span>);}
  <span class="keywordflow">if</span> ($width&lt;=0){
    <span class="comment">// error, pretend it printed ok, otherwise risking a loop</span>
    <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>;
  }
  $w=0;
  $break=0;
  $breakWidth=0;
  $len=strlen($text);
  $cf = $this-&gt;currentFont;
  $tw = $width/$size*1000;
  <span class="keywordflow">for</span> ($i=0;$i&lt;$len;$i++){
    $f=1;
    $directive = $this-&gt;<a class="code" href="class_cpdf.html#a74a8799ea1bd2492c8f166c99ab8c588">PRVTcheckTextDirective</a>($text,$i,$f);
    <span class="keywordflow">if</span> ($directive){
      <span class="keywordflow">if</span> ($f){
        $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();
        $cf = $this-&gt;currentFont;
      }
      $i=$i+$directive-1;
    } <span class="keywordflow">else</span> {
      $cOrd = ord($text[$i]);
      <span class="keywordflow">if</span> (isset($this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$cOrd])){
        <span class="comment">// then this character is being replaced by another</span>
        $cOrd2 = $this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$cOrd];
      } <span class="keywordflow">else</span> {
        $cOrd2 = $cOrd;
      }
  
      <span class="keywordflow">if</span> (isset($this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$cOrd2][<span class="stringliteral">&#39;WX&#39;</span>])){
        $w+=$this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$cOrd2][<span class="stringliteral">&#39;WX&#39;</span>];
      }
      <span class="keywordflow">if</span> ($w&gt;$tw){
        <span class="comment">// then we need to truncate this line</span>
        <span class="keywordflow">if</span> ($break&gt;0){
          <span class="comment">// then we have somewhere that we can split :)</span>
          <span class="keywordflow">if</span> ($text[$break]==<span class="charliteral">&#39; &#39;</span>){
            $tmp = substr($text,0,$break);
          } <span class="keywordflow">else</span> {
            $tmp = substr($text,0,$break+1);
          }
          $adjust=0;
          $this-&gt;<a class="code" href="class_cpdf.html#aa809699a6b3919f44b4d62e5f685dc8e">PRVTadjustWrapText</a>($tmp,$breakWidth,$width,$x,$adjust,$justification);

          <span class="comment">// reset the text state</span>
          $this-&gt;currentTextState = $store_currentTextState;
          $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();
          <span class="keywordflow">if</span> (!<a class="code" href="actions_8php.html#a31daebf88fc668f410293e2c70cea3fc">$test</a>){
            $this-&gt;<a class="code" href="class_cpdf.html#a3f30e13975f37e15fbbfe69595cb3731">addText</a>($x,$y,$size,$tmp,$angle,$adjust);
          }
          <span class="keywordflow">return</span> substr($text,$break+1);
        } <span class="keywordflow">else</span> {
          <span class="comment">// just split before the current character</span>
          $tmp = substr($text,0,$i);
          $adjust=0;
          $ctmp=ord($text[$i]);
          <span class="keywordflow">if</span> (isset($this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$ctmp])){
            $ctmp=$this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$ctmp];
          }
          $tmpw=($w-$this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$ctmp][<span class="stringliteral">&#39;WX&#39;</span>])*$size/1000;
          $this-&gt;<a class="code" href="class_cpdf.html#aa809699a6b3919f44b4d62e5f685dc8e">PRVTadjustWrapText</a>($tmp,$tmpw,$width,$x,$adjust,$justification);
          <span class="comment">// reset the text state</span>
          $this-&gt;currentTextState = $store_currentTextState;
          $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();
          <span class="keywordflow">if</span> (!<a class="code" href="actions_8php.html#a31daebf88fc668f410293e2c70cea3fc">$test</a>){
            $this-&gt;<a class="code" href="class_cpdf.html#a3f30e13975f37e15fbbfe69595cb3731">addText</a>($x,$y,$size,$tmp,$angle,$adjust);
          }
          <span class="keywordflow">return</span> substr($text,$i);
        }
      }
      <span class="keywordflow">if</span> ($text[$i]==<span class="charliteral">&#39;-&#39;</span>){
        $break=$i;
        $breakWidth = $w*$size/1000;
      }
      <span class="keywordflow">if</span> ($text[$i]==<span class="charliteral">&#39; &#39;</span>){
        $break=$i;
        $ctmp=ord($text[$i]);
        <span class="keywordflow">if</span> (isset($this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$ctmp])){
          $ctmp=$this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$ctmp];
        }
        $breakWidth = ($w-$this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$ctmp][<span class="stringliteral">&#39;WX&#39;</span>])*$size/1000;
      }
    }
  }
  <span class="comment">// then there was no need to break this line</span>
  <span class="keywordflow">if</span> ($justification==<span class="stringliteral">&#39;full&#39;</span>){
    $justification=<span class="stringliteral">&#39;left&#39;</span>;
  }
  $adjust=0;
  $tmpw=$w*$size/1000;
  $this-&gt;<a class="code" href="class_cpdf.html#aa809699a6b3919f44b4d62e5f685dc8e">PRVTadjustWrapText</a>($text,$tmpw,$width,$x,$adjust,$justification);
  <span class="comment">// reset the text state</span>
  $this-&gt;currentTextState = $store_currentTextState;
  $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();
  <span class="keywordflow">if</span> (!<a class="code" href="actions_8php.html#a31daebf88fc668f410293e2c70cea3fc">$test</a>){
    $this-&gt;<a class="code" href="class_cpdf.html#a3f30e13975f37e15fbbfe69595cb3731">addText</a>($x,$y,$size,$text,$angle,$adjust,$angle);
  }
  <span class="keywordflow">return</span> <span class="stringliteral">&#39;&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1720331693e5f6fa093806517a79f0d6"></a><!-- doxytag: member="Cpdf::ARC4" ref="a1720331693e5f6fa093806517a79f0d6" args="($text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ARC4 encrypt a text string </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01141">1141</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                    {
  $len=strlen($text);
  <a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>=0;
  $b=0;
  $c = $this-&gt;arc4;
  $out=<span class="stringliteral">&#39;&#39;</span>;
  <span class="keywordflow">for</span> ($i=0;$i&lt;$len;$i++){
    <a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a> = (<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>+1)%256;
    $t= $c[<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>];
    $b = ($b+ord($t))%256;
    $c[<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>]=$c[$b];
    $c[$b]=$t;
    $k = ord($c[(ord($c[<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>])+ord($c[$b]))%256]);
    $out.=chr(ord($text[$i]) ^ $k);
  }
  
  <span class="keywordflow">return</span> $out;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab9ace0c7741193acf9b665f2cac0139e"></a><!-- doxytag: member="Cpdf::ARC4_init" ref="ab9ace0c7741193acf9b665f2cac0139e" args="($key='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ab9ace0c7741193acf9b665f2cac0139e">ARC4_init</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>key</em> = <code>''</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>initialize the ARC4 encryption </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01115">1115</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                           {
  $this-&gt;arc4 = <span class="stringliteral">&#39;&#39;</span>;
  <span class="comment">// setup the control array</span>
  <span class="keywordflow">if</span> (strlen($key)==0){
    <span class="keywordflow">return</span>;
  }
  $k = <span class="stringliteral">&#39;&#39;</span>;
  <span class="keywordflow">while</span>(strlen($k)&lt;256){
    $k.=$key;
  }
  $k=substr($k,0,256);
  <span class="keywordflow">for</span> ($i=0;$i&lt;256;$i++){
    $this-&gt;arc4 .= chr($i);
  }
  $j=0;
  <span class="keywordflow">for</span> ($i=0;$i&lt;256;$i++){
    $t = $this-&gt;arc4[$i];
    $j = ($j + ord($t) + ord($k[$i]))%256;
    $this-&gt;arc4[$i]=$this-&gt;arc4[$j];
    $this-&gt;arc4[$j]=$t;
  }    
}
</pre></div>
</div>
</div>
<a class="anchor" id="a97cd4a04c03ffbf0f9f1dde0670f25c0"></a><!-- doxytag: member="Cpdf::checkAllHere" ref="a97cd4a04c03ffbf0f9f1dde0670f25c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a97cd4a04c03ffbf0f9f1dde0670f25c0">checkAllHere</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>should be used for internal checks, not implemented as yet </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01217">1217</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                       {
}
</pre></div>
</div>
</div>
<a class="anchor" id="afab1d53fba022d6a3cfa2c7ce3168106"></a><!-- doxytag: member="Cpdf::closeObject" ref="afab1d53fba022d6a3cfa2c7ce3168106" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#afab1d53fba022d6a3cfa2c7ce3168106">closeObject</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>close an object </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02521">2521</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                      {
  <span class="comment">// close the object, as long as there was one open in the first place, which will be indicated by</span>
  <span class="comment">// an objectId on the stack.</span>
  <span class="keywordflow">if</span> ($this-&gt;nStack&gt;0){
    $this-&gt;currentContents=$this-&gt;stack[$this-&gt;nStack][<span class="charliteral">&#39;c&#39;</span>];
    $this-&gt;currentPage=$this-&gt;stack[$this-&gt;nStack][<span class="charliteral">&#39;p&#39;</span>];
    $this-&gt;nStack--;
    <span class="comment">// easier to probably not worry about removing the old entries, they will be overwritten</span>
    <span class="comment">// if there are new ones.</span>
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9cc0b020830361e9584150763b9995ae"></a><!-- doxytag: member="Cpdf::Cpdf" ref="a9cc0b020830361e9584150763b9995ae" args="($pageSize=array(0, 0, 612, 792))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html">Cpdf</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pageSize</em> = <code>array(0,0,612,792)</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00200">200</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
  $this-&gt;<a class="code" href="class_cpdf.html#ab3114927075d9643a6ce7bcffb2bb8ac">newDocument</a>($pageSize);
  
  <span class="comment">// also initialize the font families that are known about already</span>
  $this-&gt;<a class="code" href="class_cpdf.html#a5ddaeab8f233dcdc13d1f3f13fa53367">setFontFamily</a>(<span class="stringliteral">&#39;init&#39;</span>);
<span class="comment">//  $this-&gt;fileIdentifier = md5(&#39;xxxxxxxx&#39;.time());</span>

}
</pre></div>
</div>
</div>
<a class="anchor" id="a13c3a2e45741b553d81496482a6a9579"></a><!-- doxytag: member="Cpdf::curve" ref="a13c3a2e45741b553d81496482a6a9579" args="($x0, $y0, $x1, $y1, $x2, $y2, $x3, $y3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a13c3a2e45741b553d81496482a6a9579">curve</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>draw a bezier curve based on 4 control points </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01685">1685</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
  <span class="comment">// in the current line style, draw a bezier curve from (x0,y0) to (x3,y3) using the other two points</span>
  <span class="comment">// as the control points for the curve.</span>
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x0).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y0).<span class="stringliteral">&#39; m &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x1).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y1);
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].= <span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x2).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y2).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x3).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y3).<span class="stringliteral">&#39; c S&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab56f65d9ba54f403a6bd7a007134808a"></a><!-- doxytag: member="Cpdf::ellipse" ref="ab56f65d9ba54f403a6bd7a007134808a" args="($x0, $y0, $r1, $r2=0, $angle=0, $nSeg=8, $astart=0, $afinish=360, $close=1, $fill=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ab56f65d9ba54f403a6bd7a007134808a">ellipse</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r2</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>nSeg</em> = <code>8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>astart</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>afinish</em> = <code>360</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>close</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fill</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>draw an ellipse note that the part and filled ellipse are just special cases of this function</p>
<p>draws an ellipse in the current line style centered at $x0,$y0, radii $r1,$r2 if $r2 is not set, then a circle is drawn nSeg is not allowed to be less than 2, as this will simply draw a line (and will even draw a pretty crappy shape at 2, as we are approximating with bezier curves. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01716">1716</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                            {
  <span class="keywordflow">if</span> ($r1==0){
    <span class="keywordflow">return</span>;
  }
  <span class="keywordflow">if</span> ($r2==0){
    $r2=$r1;
  }
  <span class="keywordflow">if</span> ($nSeg&lt;2){
    $nSeg=2;
  }

  $astart = deg2rad((<span class="keywordtype">float</span>)$astart);
  $afinish = deg2rad((<span class="keywordtype">float</span>)$afinish);
  $totalAngle =$afinish-$astart;

  $dt = $totalAngle/$nSeg;
  $dtm = $dt/3;

  <span class="keywordflow">if</span> ($angle != 0){
    <a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a> = -1*deg2rad((<span class="keywordtype">float</span>)$angle);
    $tmp = <span class="stringliteral">&quot;\n q &quot;</span>;
    $tmp .= sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,cos(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,(-1.0*sin(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>))).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,sin(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,cos(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)).<span class="charliteral">&#39; &#39;</span>;
    $tmp .= sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x0).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y0).<span class="stringliteral">&#39; cm&#39;</span>;
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].= $tmp;
    $x0=0;
    $y0=0;
  }

  $t1 = $astart;
  $a0 = $x0+$r1*cos($t1);
  $b0 = $y0+$r2*sin($t1);
  $c0 = -$r1*sin($t1);
  $d0 = $r2*cos($t1);

  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$a0).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$b0).<span class="stringliteral">&#39; m &#39;</span>;
  <span class="keywordflow">for</span> ($i=1;$i&lt;=$nSeg;$i++){
    <span class="comment">// draw this bit of the total curve</span>
    $t1 = $i*$dt+$astart;
    $a1 = $x0+$r1*cos($t1);
    $b1 = $y0+$r2*sin($t1);
    $c1 = -$r1*sin($t1);
    $d1 = $r2*cos($t1);
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,($a0+$c0*$dtm)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,($b0+$d0*$dtm));
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].= <span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,($a1-$c1*$dtm)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,($b1-$d1*$dtm)).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$a1).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$b1).<span class="stringliteral">&#39; c&#39;</span>;
    $a0=$a1;
    $b0=$b1;
    $c0=$c1;
    $d0=$d1;    
  }
  <span class="keywordflow">if</span> ($fill){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; f&#39;</span>;
  } <span class="keywordflow">else</span> {
    <span class="keywordflow">if</span> ($close){
      $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; s&#39;</span>; <span class="comment">// small &#39;s&#39; signifies closing the path as well</span>
    } <span class="keywordflow">else</span> {
      $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; S&#39;</span>;
    }
  }
  <span class="keywordflow">if</span> ($angle !=0){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; Q&#39;</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a593c690c9c88459001b8fee0c1e02b60"></a><!-- doxytag: member="Cpdf::encryptInit" ref="a593c690c9c88459001b8fee0c1e02b60" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a593c690c9c88459001b8fee0c1e02b60">encryptInit</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>initialize the encryption for processing a particular object </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01101">1101</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                         {
  $tmp = $this-&gt;encryptionKey;
  $hex = dechex($id);
  <span class="keywordflow">if</span> (strlen($hex)&lt;6){
    $hex = substr(<span class="stringliteral">&#39;000000&#39;</span>,0,6-strlen($hex)).$hex;
  }
  $tmp.= chr(hexdec(substr($hex,4,2))).chr(hexdec(substr($hex,2,2))).chr(hexdec(substr($hex,0,2))).chr(0).chr(0);
  $key = $this-&gt;<a class="code" href="class_cpdf.html#a7c89968388709b624565f4cd0faaa167">md5_16</a>($tmp);
  $this-&gt;<a class="code" href="class_cpdf.html#ab9ace0c7741193acf9b665f2cac0139e">ARC4_init</a>(substr($key,0,10));
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7d14967703e2beb4591ea33187d71f83"></a><!-- doxytag: member="Cpdf::filledEllipse" ref="a7d14967703e2beb4591ea33187d71f83" args="($x0, $y0, $r1, $r2=0, $angle=0, $nSeg=8, $astart=0, $afinish=360)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a7d14967703e2beb4591ea33187d71f83">filledEllipse</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r2</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>nSeg</em> = <code>8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>astart</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>afinish</em> = <code>360</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>draw a filled ellipse </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01702">1702</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                 {
  <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_cpdf.html#ab56f65d9ba54f403a6bd7a007134808a">ellipse</a>($x0,$y0,$r1,$r2=0,$angle,$nSeg,$astart,$afinish,1,1);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a519df1355cd54eb52caa42650c7fcc2e"></a><!-- doxytag: member="Cpdf::filledRectangle" ref="a519df1355cd54eb52caa42650c7fcc2e" args="($x1, $y1, $width, $height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a519df1355cd54eb52caa42650c7fcc2e">filledRectangle</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a filled rectangle, note that it is the width and height of the rectangle which are the secondary paramaters, not the coordinates of the upper-right corner </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01838">1838</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x1).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y1).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$width).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$height).<span class="stringliteral">&#39; re f&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a984113695ea977929b4b7795fbf41cd2"></a><!-- doxytag: member="Cpdf::filterText" ref="a984113695ea977929b4b7795fbf41cd2" args="($text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a984113695ea977929b4b7795fbf41cd2">filterText</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>filter the text, this is applied to all text just before being inserted into the pdf document it escapes the various things that need to be escaped, and so on</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01961">1961</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                          {
  $text = str_replace(<span class="charliteral">&#39;\\&#39;</span>,<span class="stringliteral">&#39;\\\\&#39;</span>,$text);
  $text = str_replace(<span class="charliteral">&#39;(&#39;</span>,<span class="charliteral">&#39;\(&#39;</span>,$text);
  $text = str_replace(<span class="charliteral">&#39;)&#39;</span>,<span class="charliteral">&#39;\)&#39;</span>,$text);
  $text = str_replace(<span class="stringliteral">&#39;&amp;lt;&#39;</span>,<span class="charliteral">&#39;&lt;&#39;</span>,$text);
  $text = str_replace(<span class="stringliteral">&#39;&amp;gt;&#39;</span>,<span class="charliteral">&#39;&gt;&#39;</span>,$text);
  $text = str_replace(<span class="stringliteral">&#39;&amp;#039;&#39;</span>,<span class="charliteral">&#39;\&#39;&#39;</span>,$text);
  $text = str_replace(<span class="stringliteral">&#39;&amp;quot;&#39;</span>,<span class="charliteral">&#39;&quot;&#39;</span>,$text);
  $text = str_replace(<span class="stringliteral">&#39;&amp;amp;&#39;</span>,<span class="charliteral">&#39;&amp;&#39;</span>,$text);

  <span class="keywordflow">return</span> $text;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aacf9523fe9f5c860731020f7a49778a1"></a><!-- doxytag: member="Cpdf::getFirstPageId" ref="aacf9523fe9f5c860731020f7a49778a1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aacf9523fe9f5c860731020f7a49778a1">getFirstPageId</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>function for the user to find out what the ID is of the first page that was created during startup - useful if they wish to add something to it later. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01642">1642</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                         {
  <span class="keywordflow">return</span> $this-&gt;firstPageId;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adedb392d14ce7963b05c5ca389181699"></a><!-- doxytag: member="Cpdf::getFontDecender" ref="adedb392d14ce7963b05c5ca389181699" args="($size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#adedb392d14ce7963b05c5ca389181699">getFontDecender</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return the font decender, this will normally return a negative number if you add this number to the baseline, you get the level of the bottom of the font it is in the pdf user units </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01946">1946</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                               {
  <span class="comment">// note that this will most likely return a negative value</span>
  <span class="keywordflow">if</span> (!$this-&gt;numFonts){
    $this-&gt;<a class="code" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a>(<span class="stringliteral">&#39;./fonts/Helvetica&#39;</span>);
  }
  $h = $this-&gt;fonts[$this-&gt;currentFont][<span class="stringliteral">&#39;FontBBox&#39;</span>][1];
  <span class="keywordflow">return</span> $size*$h/1000;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a6beae3dc84460fede62c6a0ca8861277"></a><!-- doxytag: member="Cpdf::getFontHeight" ref="a6beae3dc84460fede62c6a0ca8861277" args="($size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a6beae3dc84460fede62c6a0ca8861277">getFontHeight</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return the height in units of the current font in the given size </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01932">1932</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                             {
  <span class="keywordflow">if</span> (!$this-&gt;numFonts){
    $this-&gt;<a class="code" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a>(<span class="stringliteral">&#39;./fonts/Helvetica&#39;</span>);
  }
  <span class="comment">// for the current font, and the given size, what is the height of the font in user units</span>
  $h = $this-&gt;fonts[$this-&gt;currentFont][<span class="stringliteral">&#39;FontBBox&#39;</span>][3]-$this-&gt;fonts[$this-&gt;currentFont][<span class="stringliteral">&#39;FontBBox&#39;</span>][1];
  <span class="keywordflow">return</span> $size*$h/1000;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af92fe5c611b3feeafd3282ace477345f"></a><!-- doxytag: member="Cpdf::getTextWidth" ref="af92fe5c611b3feeafd3282ace477345f" args="($size, $text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#af92fe5c611b3feeafd3282ace477345f">getTextWidth</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>calculate how wide a given text string will be on a page, at a given size. this can be called externally, but is alse used by the other class functions </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02251">2251</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
  <span class="comment">// this function should not change any of the settings, though it will need to</span>
  <span class="comment">// track any directives which change during calculation, so copy them at the start</span>
  <span class="comment">// and put them back at the end.</span>
  $store_currentTextState = $this-&gt;currentTextState;

  <span class="keywordflow">if</span> (!$this-&gt;numFonts){
    $this-&gt;<a class="code" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a>(<span class="stringliteral">&#39;./fonts/Helvetica&#39;</span>);
  }

  <span class="comment">// converts a number or a float to a string so it can get the width</span>
  $text = <span class="stringliteral">&quot;$text&quot;</span>;

  <span class="comment">// hmm, this is where it all starts to get tricky - use the font information to</span>
  <span class="comment">// calculate the width of each character, add them up and convert to user units</span>
  $w=0;
  $len=strlen($text);
  $cf = $this-&gt;currentFont;
  <span class="keywordflow">for</span> ($i=0;$i&lt;$len;$i++){
    $f=1;
    $directive = $this-&gt;<a class="code" href="class_cpdf.html#a74a8799ea1bd2492c8f166c99ab8c588">PRVTcheckTextDirective</a>($text,$i,$f);
    <span class="keywordflow">if</span> ($directive){
      <span class="keywordflow">if</span> ($f){
        $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();
        $cf = $this-&gt;currentFont;
      }
      $i=$i+$directive-1;
    } <span class="keywordflow">else</span> {
      $char=ord($text[$i]);
      <span class="keywordflow">if</span> (isset($this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$char])){
        <span class="comment">// then this character is being replaced by another</span>
        $name = $this-&gt;fonts[$cf][<span class="stringliteral">&#39;differences&#39;</span>][$char];
        <span class="keywordflow">if</span> (isset($this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$name][<span class="stringliteral">&#39;WX&#39;</span>])){
          $w+=$this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$name][<span class="stringliteral">&#39;WX&#39;</span>];
        }
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset($this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$char][<span class="stringliteral">&#39;WX&#39;</span>])){
        $w+=$this-&gt;fonts[$cf][<span class="charliteral">&#39;C&#39;</span>][$char][<span class="stringliteral">&#39;WX&#39;</span>];
      }
    }
  }
  
  $this-&gt;currentTextState = $store_currentTextState;
  $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();

  <span class="keywordflow">return</span> $w*$size/1000;
}
</pre></div>
</div>
</div>
<a class="anchor" id="af1d651738f85ded800eda901655992be"></a><!-- doxytag: member="Cpdf::line" ref="af1d651738f85ded800eda901655992be" args="($x1, $y1, $x2, $y2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#af1d651738f85ded800eda901655992be">line</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>draw a line from one set of coordinates to another </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01678">1678</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                              {
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x1).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y1).<span class="stringliteral">&#39; m &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x2).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y2).<span class="stringliteral">&#39; l S&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c89968388709b624565f4cd0faaa167"></a><!-- doxytag: member="Cpdf::md5_16" ref="a7c89968388709b624565f4cd0faaa167" args="($string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a7c89968388709b624565f4cd0faaa167">md5_16</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>ARC4 functions A series of function to implement ARC4 encoding in PHP calculate the 16 byte version of the 128 bit md5 digest of the string </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01089">1089</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                        {
  $tmp = md5($string);
  $out=<span class="stringliteral">&#39;&#39;</span>;
  <span class="keywordflow">for</span> ($i=0;$i&lt;=30;$i=$i+2){
    $out.=chr(hexdec(substr($tmp,$i,2)));
  }
  <span class="keywordflow">return</span> $out;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab3114927075d9643a6ce7bcffb2bb8ac"></a><!-- doxytag: member="Cpdf::newDocument" ref="ab3114927075d9643a6ce7bcffb2bb8ac" args="($pageSize=array(0, 0, 612, 792))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ab3114927075d9643a6ce7bcffb2bb8ac">newDocument</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pageSize</em> = <code>array(0,0,612,792)</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>intialize a new document if this is called on an existing document results may be unpredictable, but the existing document would be lost at minimum this function is called automatically by the constructor function</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01270">1270</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
  $this-&gt;numObj=0;
  $this-&gt;objects = array();

  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);

  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#a5e6a4d8146f8dc8424c01107deae2363">o_outlines</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);

  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);

  $this-&gt;<a class="code" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a>($this-&gt;numObj,<span class="stringliteral">&#39;mediaBox&#39;</span>,$pageSize);
  $this-&gt;currentNode = 3;

  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#a8c957eb8366fe5b89727c7ec68700afc">o_procset</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);

  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#a1b15589e09e12f423f87d8ba3b1b1be4">o_info</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);

  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#aa8f8c9faae6d2ef10e350675dde97f8d">o_page</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);

  <span class="comment">// need to store the first page id as there is no way to get it to the user during </span>
  <span class="comment">// startup</span>
  $this-&gt;firstPageId = $this-&gt;currentContents;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae150a1dceeb483a42acaedbe73ccd692"></a><!-- doxytag: member="Cpdf::newPage" ref="ae150a1dceeb483a42acaedbe73ccd692" args="($insert=0, $id=0, $pos='after')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ae150a1dceeb483a42acaedbe73ccd692">newPage</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>insert</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pos</em> = <code>'after'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add a new page to the document this also makes the new page the current active object </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01854">1854</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                              {

  <span class="comment">// if there is a state saved, then go up the stack closing them</span>
  <span class="comment">// then on the new page, re-open them with the right setings</span>
  
  <span class="keywordflow">if</span> ($this-&gt;nStateStack){
    <span class="keywordflow">for</span> ($i=$this-&gt;nStateStack;$i&gt;=1;$i--){
      $this-&gt;<a class="code" href="class_cpdf.html#a2f42f38b51682f8457ee605bb3029dc4">restoreState</a>($i);
    }
  }

  $this-&gt;numObj++;
  <span class="keywordflow">if</span> ($insert){
    <span class="comment">// the id from the ezPdf class is the od of the contents of the page, not the page object itself</span>
    <span class="comment">// query that object to find the parent</span>
    $rid = $this-&gt;objects[$id][<span class="stringliteral">&#39;onPage&#39;</span>];
    $opt= array(<span class="stringliteral">&#39;rid&#39;</span>=&gt;$rid,<span class="stringliteral">&#39;pos&#39;</span>=&gt;$pos);
    $this-&gt;<a class="code" href="class_cpdf.html#aa8f8c9faae6d2ef10e350675dde97f8d">o_page</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,$opt);
  } <span class="keywordflow">else</span> {
    $this-&gt;<a class="code" href="class_cpdf.html#aa8f8c9faae6d2ef10e350675dde97f8d">o_page</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);
  }
  <span class="comment">// if there is a stack saved, then put that onto the page</span>
  <span class="keywordflow">if</span> ($this-&gt;nStateStack){
    <span class="keywordflow">for</span> ($i=1;$i&lt;=$this-&gt;nStateStack;$i++){
      $this-&gt;<a class="code" href="class_cpdf.html#a854f2a9d1250c69b6c2243d5175ddd83">saveState</a>($i);
    }
  }  
  <span class="comment">// and if there has been a stroke or fill colour set, then transfer them</span>
  <span class="keywordflow">if</span> ($this-&gt;currentColour[<span class="charliteral">&#39;r&#39;</span>]&gt;=0){
    $this-&gt;<a class="code" href="class_cpdf.html#ad6873769b1aeb31e7acbc3be3de671a5">setColor</a>($this-&gt;currentColour[<span class="charliteral">&#39;r&#39;</span>],$this-&gt;currentColour[<span class="charliteral">&#39;g&#39;</span>],$this-&gt;currentColour[<span class="charliteral">&#39;b&#39;</span>],1);
  }
  <span class="keywordflow">if</span> ($this-&gt;currentStrokeColour[<span class="charliteral">&#39;r&#39;</span>]&gt;=0){
    $this-&gt;<a class="code" href="class_cpdf.html#a8d3584e9eee400857cd917984d025db4">setStrokeColor</a>($this-&gt;currentStrokeColour[<span class="charliteral">&#39;r&#39;</span>],$this-&gt;currentStrokeColour[<span class="charliteral">&#39;g&#39;</span>],$this-&gt;currentStrokeColour[<span class="charliteral">&#39;b&#39;</span>],1);
  }

  <span class="comment">// if there is a line style set, then put this in too</span>
  <span class="keywordflow">if</span> (strlen($this-&gt;currentLineStyle)){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.$this-&gt;currentLineStyle;
  }

  <span class="comment">// the call to the o_page object set currentContents to the present page, so this can be returned as the page id</span>
  <span class="keywordflow">return</span> $this-&gt;currentContents;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab01e4e5dac06bdd7480879a215fe552d"></a><!-- doxytag: member="Cpdf::o_action" ref="ab01e4e5dac06bdd7480879a215fe552d" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ab01e4e5dac06bdd7480879a215fe552d">o_action</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>an action object, used to link to URLS initially </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00729">729</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      <span class="keywordflow">if</span> (is_array(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>)){
        $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;action&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>,<span class="stringliteral">&#39;type&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;type&#39;</span>]);
      } <span class="keywordflow">else</span> {
        <span class="comment">// then assume a URI action</span>
        $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;action&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>,<span class="stringliteral">&#39;type&#39;</span>=&gt;<span class="stringliteral">&#39;URI&#39;</span>);
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      <span class="keywordflow">if</span> ($this-&gt;encrypted){
        $this-&gt;<a class="code" href="class_cpdf.html#a593c690c9c88459001b8fee0c1e02b60">encryptInit</a>($id);
      }
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Action&quot;</span>;
      <span class="keywordflow">switch</span>($o[<span class="stringliteral">&#39;type&#39;</span>]){
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ilink&#39;</span>:
          <span class="comment">// there will be an &#39;label&#39; setting, this is the name of the destination</span>
          $res.=<span class="stringliteral">&quot;\n/S /GoTo\n/D &quot;</span>.$this-&gt;destinations[(string)$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;label&#39;</span>]].<span class="stringliteral">&quot; 0 R&quot;</span>;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;URI&#39;</span>:
          $res.=<span class="stringliteral">&quot;\n/S /URI\n/URI (&quot;</span>;
          <span class="keywordflow">if</span> ($this-&gt;encrypted){
            $res.=$this-&gt;<a class="code" href="class_cpdf.html#a984113695ea977929b4b7795fbf41cd2">filterText</a>($this-&gt;<a class="code" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a>($o[<span class="stringliteral">&#39;info&#39;</span>]));
          } <span class="keywordflow">else</span> {
            $res.=$this-&gt;<a class="code" href="class_cpdf.html#a984113695ea977929b4b7795fbf41cd2">filterText</a>($o[<span class="stringliteral">&#39;info&#39;</span>]);
          }
          $res.=<span class="stringliteral">&quot;)&quot;</span>;
          <span class="keywordflow">break</span>;
      }
      $res.=<span class="stringliteral">&quot;\n&gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aef859651290d314f10fbb2aee0a3785b"></a><!-- doxytag: member="Cpdf::o_annotation" ref="aef859651290d314f10fbb2aee0a3785b" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aef859651290d314f10fbb2aee0a3785b">o_annotation</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>an annotation object, this will add an annotation to the current page. initially will support just link annotations </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00772">772</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      <span class="comment">// add the annotation to the current page</span>
      $pageId = $this-&gt;currentPage;
      $this-&gt;<a class="code" href="class_cpdf.html#aa8f8c9faae6d2ef10e350675dde97f8d">o_page</a>($pageId,<span class="stringliteral">&#39;annot&#39;</span>,$id);
      <span class="comment">// and add the action object which is going to be required</span>
      <span class="keywordflow">switch</span>(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;type&#39;</span>]){
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;link&#39;</span>:
          $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;annotation&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
          $this-&gt;numObj++;
          $this-&gt;<a class="code" href="class_cpdf.html#ab01e4e5dac06bdd7480879a215fe552d">o_action</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;url&#39;</span>]);
          $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;actionId&#39;</span>]=$this-&gt;numObj;
          <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ilink&#39;</span>:
          <span class="comment">// this is to a named internal link</span>
          $label = <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;label&#39;</span>];
          $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;annotation&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
          $this-&gt;numObj++;
          $this-&gt;<a class="code" href="class_cpdf.html#ab01e4e5dac06bdd7480879a215fe552d">o_action</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,array(<span class="stringliteral">&#39;type&#39;</span>=&gt;<span class="stringliteral">&#39;ilink&#39;</span>,<span class="stringliteral">&#39;label&#39;</span>=&gt;$label));
          $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;actionId&#39;</span>]=$this-&gt;numObj;
          <span class="keywordflow">break</span>;
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Annot&quot;</span>;
      <span class="keywordflow">switch</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;type&#39;</span>]){
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;link&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ilink&#39;</span>:
          $res.= <span class="stringliteral">&quot;\n/Subtype /Link&quot;</span>;
          <span class="keywordflow">break</span>;
      }
      $res.=<span class="stringliteral">&quot;\n/A &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;actionId&#39;</span>].<span class="stringliteral">&quot; 0 R&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/Border [0 0 0]&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/H /I&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/Rect [ &quot;</span>;
      <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;rect&#39;</span>] as $v){
        $res.= sprintf(<span class="stringliteral">&quot;%.4f &quot;</span>,$v);
      }
      $res.=<span class="stringliteral">&quot;]&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n&gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad5269fc1648ba039f9ab1d372b89aa55"></a><!-- doxytag: member="Cpdf::o_catalog" ref="ad5269fc1648ba039f9ab1d372b89aa55" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>define the document catalog, the overall controller for the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00300">300</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;catalog&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array());
      $this-&gt;catalogId=$id;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;outlines&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;pages&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;openHere&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][$action]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;viewerPreferences&#39;</span>:
      <span class="keywordflow">if</span> (!isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;viewerPreferences&#39;</span>])){
        $this-&gt;numObj++;
        $this-&gt;<a class="code" href="class_cpdf.html#a37a4d12fd4fe6536921eabccfc55bae3">o_viewerPreferences</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);
        $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;viewerPreferences&#39;</span>]=$this-&gt;numObj;
      }
      $vp = $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;viewerPreferences&#39;</span>];
      $this-&gt;<a class="code" href="class_cpdf.html#a37a4d12fd4fe6536921eabccfc55bae3">o_viewerPreferences</a>($vp,<span class="stringliteral">&#39;add&#39;</span>,<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&quot;</span>.<span class="stringliteral">&#39;&lt;&lt; /Type /Catalog&#39;</span>;
      <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>] as $k=&gt;$v){
        <span class="keywordflow">switch</span>($k){
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;outlines&#39;</span>:
            $res.=<span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;/Outlines &#39;</span>.$v.<span class="stringliteral">&#39; 0 R&#39;</span>;
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;pages&#39;</span>:
            $res.=<span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;/Pages &#39;</span>.$v.<span class="stringliteral">&#39; 0 R&#39;</span>;
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;viewerPreferences&#39;</span>:
            $res.=<span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;/ViewerPreferences &#39;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;viewerPreferences&#39;</span>].<span class="stringliteral">&#39; 0 R&#39;</span>;
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;openHere&#39;</span>:
            $res.=<span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;/OpenAction &#39;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;openHere&#39;</span>].<span class="stringliteral">&#39; 0 R&#39;</span>;
            <span class="keywordflow">break</span>;
        }
      }
      $res.=<span class="stringliteral">&quot; &gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac8729d6b851615394c82bda391f37adb"></a><!-- doxytag: member="Cpdf::o_contents" ref="ac8729d6b851615394c82bda391f37adb" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the contents objects hold all of the content which appears on pages </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00893">893</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;contents&#39;</span>,<span class="charliteral">&#39;c&#39;</span>=&gt;<span class="stringliteral">&#39;&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array());
      <span class="keywordflow">if</span> (strlen(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>) &amp;&amp; intval(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>)){
        <span class="comment">// then this contents is the primary for a page</span>
        $this-&gt;objects[$id][<span class="stringliteral">&#39;onPage&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>==<span class="stringliteral">&#39;raw&#39;</span>){
        <span class="comment">// then this page contains some other type of system object</span>
        $this-&gt;objects[$id][<span class="stringliteral">&#39;raw&#39;</span>]=1;
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;add&#39;</span>:
      <span class="comment">// add more options to the decleration</span>
      <span class="keywordflow">foreach</span> (<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a> as $k=&gt;$v){
        $o[<span class="stringliteral">&#39;info&#39;</span>][$k]=$v;
      }
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $tmp=$o[<span class="charliteral">&#39;c&#39;</span>];
      $res= <span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&quot;</span>;
      <span class="keywordflow">if</span> (isset($this-&gt;objects[$id][<span class="stringliteral">&#39;raw&#39;</span>])){
        $res.=$tmp;
      } <span class="keywordflow">else</span> {
        $res.= <span class="stringliteral">&quot;&lt;&lt;&quot;</span>;
        <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;gzcompress&#39;</span>) &amp;&amp; $this-&gt;options[<span class="stringliteral">&#39;compression&#39;</span>]){
          <span class="comment">// then implement ZLIB based compression on this content stream</span>
          $res.=<span class="stringliteral">&quot; /Filter /FlateDecode&quot;</span>;
          $tmp = gzcompress($tmp);
        }
        <span class="keywordflow">if</span> ($this-&gt;encrypted){
          $this-&gt;<a class="code" href="class_cpdf.html#a593c690c9c88459001b8fee0c1e02b60">encryptInit</a>($id);
          $tmp = $this-&gt;<a class="code" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a>($tmp);
        }
        <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>] as $k=&gt;$v){
          $res .= <span class="stringliteral">&quot;\n/&quot;</span>.$k.<span class="charliteral">&#39; &#39;</span>.$v;
        }
        $res.=<span class="stringliteral">&quot;\n/Length &quot;</span>.strlen($tmp).<span class="stringliteral">&quot; &gt;&gt;\nstream\n&quot;</span>.$tmp.<span class="stringliteral">&quot;\nendstream&quot;</span>;
      }
      $res.=<span class="stringliteral">&quot;\nendobj\n&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2432dc753eab2f8786f3b6c97cfdca59"></a><!-- doxytag: member="Cpdf::o_destination" ref="a2432dc753eab2f8786f3b6c97cfdca59" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a2432dc753eab2f8786f3b6c97cfdca59">o_destination</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Document object methods (internal use only)</p>
<p>There is about one object method for each type of object in the pdf document Each function has the same call list ($id,$action,$options). $id = the object ID of the object, or what it is to be if it is being created $action = a string specifying the action to be performed, though ALL must support: 'new' - create the object with the id $id 'out' - produce the output for the pdf object $options = optional, a string or array containing the various parameters for the object</p>
<p>These, in conjunction with the output function are the ONLY way for output to be produced within the pdf 'file'. destination object, used to specify the location for the user to jump to, presently on opening </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00227">227</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span>($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;destination&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array());
      $tmp = <span class="stringliteral">&#39;&#39;</span>;
      <span class="keywordflow">switch</span> (<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;type&#39;</span>]){
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;XYZ&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;FitR&#39;</span>:
          $tmp =  <span class="charliteral">&#39; &#39;</span>.$options[<span class="stringliteral">&#39;p3&#39;</span>].$tmp;
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;FitH&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;FitV&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;FitBH&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;FitBV&#39;</span>:
          $tmp =  <span class="charliteral">&#39; &#39;</span>.$options[<span class="stringliteral">&#39;p1&#39;</span>].<span class="charliteral">&#39; &#39;</span>.<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;p2&#39;</span>].$tmp;
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;Fit&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;FitB&#39;</span>:
          $tmp =  <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;type&#39;</span>].$tmp;
          $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;string&#39;</span>]=$tmp;
          $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;page&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;page&#39;</span>];
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $tmp = $o[<span class="stringliteral">&#39;info&#39;</span>];
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&quot;</span>.<span class="charliteral">&#39;[&#39;</span>.$tmp[<span class="stringliteral">&#39;page&#39;</span>].<span class="stringliteral">&#39; 0 R /&#39;</span>.$tmp[<span class="stringliteral">&#39;string&#39;</span>].<span class="stringliteral">&quot;]\nendobj\n&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="af77067434721b4808184e6d7793fa85c"></a><!-- doxytag: member="Cpdf::o_encryption" ref="af77067434721b4808184e6d7793fa85c" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#af77067434721b4808184e6d7793fa85c">o_encryption</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>encryption object. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01018">1018</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span>($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      <span class="comment">// make the new object</span>
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;encryption&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
      $this-&gt;arc4_objnum=$id;
      <span class="comment">// figure out the additional paramaters required</span>
      $pad = chr(0x28).chr(0xBF).chr(0x4E).chr(0x5E).chr(0x4E).chr(0x75).chr(0x8A).chr(0x41).chr(0x64).chr(0x00).chr(0x4E).chr(0x56).chr(0xFF).chr(0xFA).chr(0x01).chr(0x08).chr(0x2E).chr(0x2E).chr(0x00).chr(0xB6).chr(0xD0).chr(0x68).chr(0x3E).chr(0x80).chr(0x2F).chr(0x0C).chr(0xA9).chr(0xFE).chr(0x64).chr(0x53).chr(0x69).chr(0x7A);
      $len = strlen(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;owner&#39;</span>]);
      <span class="keywordflow">if</span> ($len&gt;32){
        $owner = substr(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;owner&#39;</span>],0,32);
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($len&lt;32){
        $owner = <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;owner&#39;</span>].substr($pad,0,32-$len);
      } <span class="keywordflow">else</span> {
        $owner = <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;owner&#39;</span>];
      }
      $len = strlen(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;user&#39;</span>]);
      <span class="keywordflow">if</span> ($len&gt;32){
        <a class="code" href="miscellaneous_2myaccount_2data__read_8ejs_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a> = substr(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;user&#39;</span>],0,32);
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($len&lt;32){
        <a class="code" href="miscellaneous_2myaccount_2data__read_8ejs_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a> = <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;user&#39;</span>].substr($pad,0,32-$len);
      } <span class="keywordflow">else</span> {
        <a class="code" href="miscellaneous_2myaccount_2data__read_8ejs_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a> = <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;user&#39;</span>];
      }
      $tmp = $this-&gt;<a class="code" href="class_cpdf.html#a7c89968388709b624565f4cd0faaa167">md5_16</a>($owner);
      $okey = substr($tmp,0,5);
      $this-&gt;<a class="code" href="class_cpdf.html#ab9ace0c7741193acf9b665f2cac0139e">ARC4_init</a>($okey);
      $ovalue=$this-&gt;<a class="code" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a>(<a class="code" href="miscellaneous_2myaccount_2data__read_8ejs_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a>);
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="charliteral">&#39;O&#39;</span>]=$ovalue;
      <span class="comment">// now make the u value, phew.</span>
      $tmp = $this-&gt;<a class="code" href="class_cpdf.html#a7c89968388709b624565f4cd0faaa167">md5_16</a>(<a class="code" href="miscellaneous_2myaccount_2data__read_8ejs_8php.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a>.$ovalue.chr(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="charliteral">&#39;p&#39;</span>]).chr(255).chr(255).chr(255).$this-&gt;fileIdentifier);
      $ukey = substr($tmp,0,5);

      $this-&gt;<a class="code" href="class_cpdf.html#ab9ace0c7741193acf9b665f2cac0139e">ARC4_init</a>($ukey);
      $this-&gt;encryptionKey = $ukey;
      $this-&gt;encrypted=1;
      $uvalue=$this-&gt;<a class="code" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a>($pad);

      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="charliteral">&#39;U&#39;</span>]=$uvalue;
      $this-&gt;encryptionKey=$ukey;
     
      <span class="comment">// initialize the arc4 array</span>
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res= <span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt;&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/Filter /Standard&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/V 1&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/R 2&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/O (&quot;</span>.$this-&gt;filterText($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="charliteral">&#39;O&#39;</span>]).<span class="charliteral">&#39;)&#39;</span>;
      $res.=<span class="stringliteral">&quot;\n/U (&quot;</span>.$this-&gt;filterText($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="charliteral">&#39;U&#39;</span>]).<span class="charliteral">&#39;)&#39;</span>;
      <span class="comment">// and the p-value needs to be converted to account for the twos-complement approach</span>
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="charliteral">&#39;p&#39;</span>] = (($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="charliteral">&#39;p&#39;</span>]^255)+1)*-1;
      $res.=<span class="stringliteral">&quot;\n/P &quot;</span>.($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="charliteral">&#39;p&#39;</span>]);
      $res.=<span class="stringliteral">&quot;\n&gt;&gt;\nendobj\n&quot;</span>;
      
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a607aaa24e2d8b46f8c387d0d5144cd9a"></a><!-- doxytag: member="Cpdf::o_font" ref="a607aaa24e2d8b46f8c387d0d5144cd9a" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a607aaa24e2d8b46f8c387d0d5144cd9a">o_font</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>an object to hold the font description </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00478">478</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;font&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array(<span class="stringliteral">&#39;name&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;name&#39;</span>],<span class="stringliteral">&#39;SubType&#39;</span>=&gt;<span class="stringliteral">&#39;Type1&#39;</span>));
      $fontNum=$this-&gt;numFonts;
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fontNum&#39;</span>]=$fontNum;
      <span class="comment">// deal with the encoding and the differences</span>
      <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;differences&#39;</span>])){
        <span class="comment">// then we&#39;ll need an encoding dictionary</span>
        $this-&gt;numObj++;
        $this-&gt;<a class="code" href="class_cpdf.html#aedda68b5afe6900c14375f2fe4c63bd5">o_fontEncoding</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
        $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encodingDictionary&#39;</span>]=$this-&gt;numObj;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;encoding&#39;</span>])){
        <span class="comment">// we can specify encoding here</span>
        <span class="keywordflow">switch</span>(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;encoding&#39;</span>]){
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;WinAnsiEncoding&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;MacRomanEncoding&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;MacExpertEncoding&#39;</span>:
            $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;encoding&#39;</span>];
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;none&#39;</span>:
            <span class="keywordflow">break</span>;
          <span class="keywordflow">default</span>:
            $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>]=<span class="stringliteral">&#39;WinAnsiEncoding&#39;</span>;
            <span class="keywordflow">break</span>;
        }
      } <span class="keywordflow">else</span> {
        $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>]=<span class="stringliteral">&#39;WinAnsiEncoding&#39;</span>;
      }
      <span class="comment">// also tell the pages node about the new font</span>
      $this-&gt;<a class="code" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a>($this-&gt;currentNode,<span class="stringliteral">&#39;font&#39;</span>,array(<span class="stringliteral">&#39;fontNum&#39;</span>=&gt;$fontNum,<span class="stringliteral">&#39;objNum&#39;</span>=&gt;$id));
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;add&#39;</span>:
      <span class="keywordflow">foreach</span> (<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a> as $k=&gt;$v){
        <span class="keywordflow">switch</span> ($k){
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;BaseFont&#39;</span>:
            $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>] = $v;
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FirstChar&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;LastChar&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Widths&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontDescriptor&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;SubType&#39;</span>:
          $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;o_font &#39;</span>.$k.<span class="stringliteral">&quot; : &quot;</span>.$v);
            $o[<span class="stringliteral">&#39;info&#39;</span>][$k] = $v;
            <span class="keywordflow">break</span>;
        }
     }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Font\n/Subtype /&quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;SubType&#39;</span>].<span class="stringliteral">&quot;\n&quot;</span>;
      $res.=<span class="stringliteral">&quot;/Name /F&quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fontNum&#39;</span>].<span class="stringliteral">&quot;\n&quot;</span>;
      $res.=<span class="stringliteral">&quot;/BaseFont /&quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;name&#39;</span>].<span class="stringliteral">&quot;\n&quot;</span>;
      <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encodingDictionary&#39;</span>])){
        <span class="comment">// then place a reference to the dictionary</span>
        $res.=<span class="stringliteral">&quot;/Encoding &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encodingDictionary&#39;</span>].<span class="stringliteral">&quot; 0 R\n&quot;</span>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>])){
        <span class="comment">// use the specified encoding</span>
        $res.=<span class="stringliteral">&quot;/Encoding /&quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>].<span class="stringliteral">&quot;\n&quot;</span>;
      }
      <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;FirstChar&#39;</span>])){
        $res.=<span class="stringliteral">&quot;/FirstChar &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;FirstChar&#39;</span>].<span class="stringliteral">&quot;\n&quot;</span>;
      }
      <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;LastChar&#39;</span>])){
        $res.=<span class="stringliteral">&quot;/LastChar &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;LastChar&#39;</span>].<span class="stringliteral">&quot;\n&quot;</span>;
      }
      <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Widths&#39;</span>])){
        $res.=<span class="stringliteral">&quot;/Widths &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Widths&#39;</span>].<span class="stringliteral">&quot; 0 R\n&quot;</span>;
      }
      <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;FontDescriptor&#39;</span>])){
        $res.=<span class="stringliteral">&quot;/FontDescriptor &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;FontDescriptor&#39;</span>].<span class="stringliteral">&quot; 0 R\n&quot;</span>;
      }
      $res.=<span class="stringliteral">&quot;&gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab2907958d0d7da9764c61510b32a3e76"></a><!-- doxytag: member="Cpdf::o_fontDescriptor" ref="ab2907958d0d7da9764c61510b32a3e76" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ab2907958d0d7da9764c61510b32a3e76">o_fontDescriptor</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a font descriptor, needed for including additional fonts </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00562">562</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;fontDescriptor&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /FontDescriptor\n&quot;</span>;
      <span class="keywordflow">foreach</span> ($o[<span class="stringliteral">&#39;info&#39;</span>] as $label =&gt; $value){
        <span class="keywordflow">switch</span> ($label){
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Ascent&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;CapHeight&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Descent&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Flags&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;ItalicAngle&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;StemV&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;AvgWidth&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Leading&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;MaxWidth&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;MissingWidth&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;StemH&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;XHeight&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;CharSet&#39;</span>:
            <span class="keywordflow">if</span> (strlen($value)){
              $res.=<span class="charliteral">&#39;/&#39;</span>.$label.<span class="charliteral">&#39; &#39;</span>.$value.<span class="stringliteral">&quot;\n&quot;</span>;
            }
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontFile&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontFile2&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontFile3&#39;</span>:
            $res.=<span class="charliteral">&#39;/&#39;</span>.$label.<span class="charliteral">&#39; &#39;</span>.$value.<span class="stringliteral">&quot; 0 R\n&quot;</span>;
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontBBox&#39;</span>:
            $res.=<span class="charliteral">&#39;/&#39;</span>.$label.<span class="stringliteral">&#39; [&#39;</span>.$value[0].<span class="charliteral">&#39; &#39;</span>.$value[1].<span class="charliteral">&#39; &#39;</span>.$value[2].<span class="charliteral">&#39; &#39;</span>.$value[3].<span class="stringliteral">&quot;]\n&quot;</span>;
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontName&#39;</span>:
            $res.=<span class="charliteral">&#39;/&#39;</span>.$label.<span class="stringliteral">&#39; /&#39;</span>.$value.<span class="stringliteral">&quot;\n&quot;</span>;
            <span class="keywordflow">break</span>;
        }
      }
      $res.=<span class="stringliteral">&quot;&gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aedda68b5afe6900c14375f2fe4c63bd5"></a><!-- doxytag: member="Cpdf::o_fontEncoding" ref="aedda68b5afe6900c14375f2fe4c63bd5" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aedda68b5afe6900c14375f2fe4c63bd5">o_fontEncoding</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the font encoding </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00613">613</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      <span class="comment">// the options array should contain &#39;differences&#39; and maybe &#39;encoding&#39;</span>
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;fontEncoding&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Encoding\n&quot;</span>;
      <span class="keywordflow">if</span> (!isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>])){
        $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>]=<span class="stringliteral">&#39;WinAnsiEncoding&#39;</span>;
      }
      <span class="keywordflow">if</span> ($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>]!=<span class="stringliteral">&#39;none&#39;</span>){
        $res.=<span class="stringliteral">&quot;/BaseEncoding /&quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;encoding&#39;</span>].<span class="stringliteral">&quot;\n&quot;</span>;
      }
      $res.=<span class="stringliteral">&quot;/Differences \n[&quot;</span>;
      $onum=-100;
      <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;differences&#39;</span>] as $num=&gt;$label){
        <span class="keywordflow">if</span> ($num!=$onum+1){
          <span class="comment">// we cannot make use of consecutive numbering</span>
          $res.= <span class="stringliteral">&quot;\n&quot;</span>.$num.<span class="stringliteral">&quot; /&quot;</span>.$label;
        } <span class="keywordflow">else</span> {
          $res.= <span class="stringliteral">&quot; /&quot;</span>.$label;
        }
        $onum=$num;
      }
      $res.=<span class="stringliteral">&quot;\n]\n&gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac2199fd5ae0ff08a49c57dc48cea87be"></a><!-- doxytag: member="Cpdf::o_image" ref="ac2199fd5ae0ff08a49c57dc48cea87be" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ac2199fd5ae0ff08a49c57dc48cea87be">o_image</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>an image object, will be an XObject in the document, includes description and data </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00943">943</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span>($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      <span class="comment">// make the new object</span>
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;image&#39;</span>,<span class="stringliteral">&#39;data&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;data&#39;</span>],<span class="stringliteral">&#39;info&#39;</span>=&gt;array());
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Type&#39;</span>]=<span class="stringliteral">&#39;/XObject&#39;</span>;
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Subtype&#39;</span>]=<span class="stringliteral">&#39;/Image&#39;</span>;
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Width&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;iw&#39;</span>];
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Height&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;ih&#39;</span>];
      <span class="keywordflow">if</span> (!isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;type&#39;</span>]) || <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;type&#39;</span>]==<span class="stringliteral">&#39;jpg&#39;</span>){
        <span class="keywordflow">if</span> (!isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;channels&#39;</span>])){
          <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;channels&#39;</span>]=3;
        }
        <span class="keywordflow">switch</span>(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;channels&#39;</span>]){
          <span class="keywordflow">case</span> 1:
            $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;ColorSpace&#39;</span>]=<span class="stringliteral">&#39;/DeviceGray&#39;</span>;
            <span class="keywordflow">break</span>;
          <span class="keywordflow">default</span>:
            $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;ColorSpace&#39;</span>]=<span class="stringliteral">&#39;/DeviceRGB&#39;</span>;
            <span class="keywordflow">break</span>;
        }
        $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Filter&#39;</span>]=<span class="stringliteral">&#39;/DCTDecode&#39;</span>;
        $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;BitsPerComponent&#39;</span>]=8;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;type&#39;</span>]==<span class="stringliteral">&#39;png&#39;</span>){
        $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Filter&#39;</span>]=<span class="stringliteral">&#39;/FlateDecode&#39;</span>;
        $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;DecodeParms&#39;</span>]=<span class="stringliteral">&#39;&lt;&lt; /Predictor 15 /Colors &#39;</span>.$options[<span class="stringliteral">&#39;ncolor&#39;</span>].<span class="stringliteral">&#39; /Columns &#39;</span>.<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;iw&#39;</span>].<span class="stringliteral">&#39; /BitsPerComponent &#39;</span>.<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;bitsPerComponent&#39;</span>].<span class="stringliteral">&#39;&gt;&gt;&#39;</span>;
        <span class="keywordflow">if</span> (strlen(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;pdata&#39;</span>])){
          $tmp = <span class="stringliteral">&#39; [ /Indexed /DeviceRGB &#39;</span>.(strlen(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;pdata&#39;</span>])/3-1).<span class="charliteral">&#39; &#39;</span>;
          $this-&gt;numObj++;
          $this-&gt;<a class="code" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);
          $this-&gt;objects[$this-&gt;numObj][<span class="charliteral">&#39;c&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;pdata&#39;</span>];
          $tmp.=$this-&gt;numObj.<span class="stringliteral">&#39; 0 R&#39;</span>;
          $tmp .=<span class="stringliteral">&#39; ]&#39;</span>;
          $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;ColorSpace&#39;</span>] = $tmp;
          <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;transparency&#39;</span>])){
            <span class="keywordflow">switch</span>(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;transparency&#39;</span>][<span class="stringliteral">&#39;type&#39;</span>]){
              <span class="keywordflow">case</span> <span class="stringliteral">&#39;indexed&#39;</span>:
                $tmp=<span class="stringliteral">&#39; [ &#39;</span>.$options[<span class="stringliteral">&#39;transparency&#39;</span>][<span class="stringliteral">&#39;data&#39;</span>].<span class="charliteral">&#39; &#39;</span>.<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;transparency&#39;</span>][<span class="stringliteral">&#39;data&#39;</span>].<span class="stringliteral">&#39;] &#39;</span>;
                $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;Mask&#39;</span>] = $tmp;
                <span class="keywordflow">break</span>;
            }
          }
        } <span class="keywordflow">else</span> {
          $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;ColorSpace&#39;</span>]=<span class="charliteral">&#39;/&#39;</span>.$options[<span class="stringliteral">&#39;color&#39;</span>];
        }
        $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;BitsPerComponent&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;bitsPerComponent&#39;</span>];
      }
      <span class="comment">// assign it a place in the named resource dictionary as an external object, according to</span>
      <span class="comment">// the label passed in with it.</span>
      $this-&gt;<a class="code" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a>($this-&gt;currentNode,<span class="stringliteral">&#39;xObject&#39;</span>,array(<span class="stringliteral">&#39;label&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;label&#39;</span>],<span class="stringliteral">&#39;objNum&#39;</span>=&gt;$id));
      <span class="comment">// also make sure that we have the right procset object for it.</span>
      $this-&gt;<a class="code" href="class_cpdf.html#a8c957eb8366fe5b89727c7ec68700afc">o_procset</a>($this-&gt;procsetObjectId,<span class="stringliteral">&#39;add&#39;</span>,<span class="stringliteral">&#39;ImageC&#39;</span>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $tmp=$o[<span class="stringliteral">&#39;data&#39;</span>];
      $res= <span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt;&quot;</span>;
      <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>] as $k=&gt;$v){
        $res.=<span class="stringliteral">&quot;\n/&quot;</span>.$k.<span class="charliteral">&#39; &#39;</span>.$v;
      }
      <span class="keywordflow">if</span> ($this-&gt;encrypted){
        $this-&gt;<a class="code" href="class_cpdf.html#a593c690c9c88459001b8fee0c1e02b60">encryptInit</a>($id);
        $tmp = $this-&gt;<a class="code" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a>($tmp);
      }
      $res.=<span class="stringliteral">&quot;\n/Length &quot;</span>.strlen($tmp).<span class="stringliteral">&quot; &gt;&gt;\nstream\n&quot;</span>.$tmp.<span class="stringliteral">&quot;\nendstream\nendobj\n&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1b15589e09e12f423f87d8ba3b1b1be4"></a><!-- doxytag: member="Cpdf::o_info" ref="a1b15589e09e12f423f87d8ba3b1b1be4" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a1b15589e09e12f423f87d8ba3b1b1be4">o_info</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>define the document information </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00685">685</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;infoObject=$id;
      $date=<span class="stringliteral">&#39;D:&#39;</span>.date(<span class="stringliteral">&#39;Ymd&#39;</span>);
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;info&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array(<span class="stringliteral">&#39;Creator&#39;</span>=&gt;<span class="stringliteral">&#39;R and OS php pdf writer, http://www.ros.co.nz&#39;</span>,<span class="stringliteral">&#39;CreationDate&#39;</span>=&gt;$date));
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Title&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Author&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Subject&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Keywords&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Creator&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Producer&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;CreationDate&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;ModDate&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;Trapped&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][$action]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      <span class="keywordflow">if</span> ($this-&gt;encrypted){
        $this-&gt;<a class="code" href="class_cpdf.html#a593c690c9c88459001b8fee0c1e02b60">encryptInit</a>($id);
      }
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt;\n&quot;</span>;
      <span class="keywordflow">foreach</span> ($o[<span class="stringliteral">&#39;info&#39;</span>]  as $k=&gt;$v){
        $res.=<span class="charliteral">&#39;/&#39;</span>.$k.<span class="stringliteral">&#39; (&#39;</span>;
        <span class="keywordflow">if</span> ($this-&gt;encrypted){
          $res.=$this-&gt;<a class="code" href="class_cpdf.html#a984113695ea977929b4b7795fbf41cd2">filterText</a>($this-&gt;<a class="code" href="class_cpdf.html#a1720331693e5f6fa093806517a79f0d6">ARC4</a>($v));
        } <span class="keywordflow">else</span> {
          $res.=$this-&gt;<a class="code" href="class_cpdf.html#a984113695ea977929b4b7795fbf41cd2">filterText</a>($v);
        }
        $res.=<span class="stringliteral">&quot;)\n&quot;</span>;
      }
      $res.=<span class="stringliteral">&quot;&gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5e6a4d8146f8dc8424c01107deae2363"></a><!-- doxytag: member="Cpdf::o_outlines" ref="a5e6a4d8146f8dc8424c01107deae2363" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a5e6a4d8146f8dc8424c01107deae2363">o_outlines</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>define the outlines in the doc, empty for now </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00448">448</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;outlines&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array(<span class="stringliteral">&#39;outlines&#39;</span>=&gt;array()));
      $this-&gt;<a class="code" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a>($this-&gt;catalogId,<span class="stringliteral">&#39;outlines&#39;</span>,$id);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;outline&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;outlines&#39;</span>][]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      <span class="keywordflow">if</span> (count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;outlines&#39;</span>])){
        $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Outlines /Kids [&quot;</span>;
        <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;outlines&#39;</span>] as $k=&gt;$v){
          $res.=$v.<span class="stringliteral">&quot; 0 R &quot;</span>;
        }
        $res.=<span class="stringliteral">&quot;] /Count &quot;</span>.count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;outlines&#39;</span>]).<span class="stringliteral">&quot; &gt;&gt;\nendobj&quot;</span>;
      } <span class="keywordflow">else</span> {
        $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Outlines /Count 0 &gt;&gt;\nendobj&quot;</span>;
      }
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa8f8c9faae6d2ef10e350675dde97f8d"></a><!-- doxytag: member="Cpdf::o_page" ref="aa8f8c9faae6d2ef10e350675dde97f8d" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aa8f8c9faae6d2ef10e350675dde97f8d">o_page</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a page object, it also creates a contents object to hold its contents </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00824">824</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;numPages++;
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;page&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array(<span class="stringliteral">&#39;parent&#39;</span>=&gt;$this-&gt;currentNode,<span class="stringliteral">&#39;pageNum&#39;</span>=&gt;$this-&gt;numPages));
      <span class="keywordflow">if</span> (is_array(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>)){
        <span class="comment">// then this must be a page insertion, array shoudl contain &#39;rid&#39;,&#39;pos&#39;=[before|after]</span>
        <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;id&#39;</span>]=$id;
        $this-&gt;<a class="code" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a>($this-&gt;currentNode,<span class="stringliteral">&#39;page&#39;</span>,<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
      } <span class="keywordflow">else</span> {
        $this-&gt;<a class="code" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a>($this-&gt;currentNode,<span class="stringliteral">&#39;page&#39;</span>,$id);
      }
      $this-&gt;currentPage=$id;
      <span class="comment">//make a contents object to go with this page</span>
      $this-&gt;numObj++;
      $this-&gt;<a class="code" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,$id);
      $this-&gt;currentContents=$this-&gt;numObj;
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;contents&#39;</span>]=array();
      $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;contents&#39;</span>][]=$this-&gt;numObj;
      $match = ($this-&gt;numPages%2 ? <span class="stringliteral">&#39;odd&#39;</span> : <span class="stringliteral">&#39;even&#39;</span>);
      <span class="keywordflow">foreach</span>($this-&gt;addLooseObjects as $oId=&gt;$target){
        <span class="keywordflow">if</span> ($target==<span class="stringliteral">&#39;all&#39;</span> || $match==$target){
          $this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;contents&#39;</span>][]=$oId;
        }
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;content&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;contents&#39;</span>][]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;annot&#39;</span>:
      <span class="comment">// add an annotation to this page</span>
      <span class="keywordflow">if</span> (!isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;annot&#39;</span>])){
        $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;annot&#39;</span>]=array();
      }
      <span class="comment">// $options should contain the id of the annotation dictionary</span>
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;annot&#39;</span>][]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Page&quot;</span>;
      $res.=<span class="stringliteral">&quot;\n/Parent &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;parent&#39;</span>].<span class="stringliteral">&quot; 0 R&quot;</span>;
      <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;annot&#39;</span>])){
        $res.=<span class="stringliteral">&quot;\n/Annots [&quot;</span>;
        <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;annot&#39;</span>] as $aId){
          $res.=<span class="stringliteral">&quot; &quot;</span>.$aId.<span class="stringliteral">&quot; 0 R&quot;</span>;
        }
        $res.=<span class="stringliteral">&quot; ]&quot;</span>;
      }
      <a class="code" href="administration_2log_2data_8php.html#af789423037bbc89dc7c850e761177570">$count</a> = count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;contents&#39;</span>]);
      <span class="keywordflow">if</span> (<a class="code" href="administration_2log_2data_8php.html#af789423037bbc89dc7c850e761177570">$count</a>==1){
        $res.=<span class="stringliteral">&quot;\n/Contents &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;contents&#39;</span>][0].<span class="stringliteral">&quot; 0 R&quot;</span>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="administration_2log_2data_8php.html#af789423037bbc89dc7c850e761177570">$count</a>&gt;1){
        $res.=<span class="stringliteral">&quot;\n/Contents [\n&quot;</span>;
        <span class="keywordflow">foreach</span> ($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;contents&#39;</span>] as $cId){
          $res.=$cId.<span class="stringliteral">&quot; 0 R\n&quot;</span>;
        }
        $res.=<span class="stringliteral">&quot;]&quot;</span>;
      }
      $res.=<span class="stringliteral">&quot;\n&gt;&gt;\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a81c56aa681c1462c1a2d29a4b164e1c9"></a><!-- doxytag: member="Cpdf::o_pages" ref="a81c56aa681c1462c1a2d29a4b164e1c9" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>object which is a parent to the pages in the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00350">350</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;pages&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array());
      $this-&gt;<a class="code" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a>($this-&gt;catalogId,<span class="stringliteral">&#39;pages&#39;</span>,$id);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;page&#39;</span>:
      <span class="keywordflow">if</span> (!is_array(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>)){
        <span class="comment">// then it will just be the id of the new page</span>
        $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>][]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      } <span class="keywordflow">else</span> {
        <span class="comment">// then it should be an array having &#39;id&#39;,&#39;rid&#39;,&#39;pos&#39;, where rid=the page to which this one will be placed relative</span>
        <span class="comment">// and pos is either &#39;before&#39; or &#39;after&#39;, saying where this page will fit.</span>
        <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;id&#39;</span>]) &amp;&amp; isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;rid&#39;</span>]) &amp;&amp; isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;pos&#39;</span>])){
          $i = array_search(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;rid&#39;</span>],$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>]);
          <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>][$i]) &amp;&amp; $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>][$i]==<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;rid&#39;</span>]){
            <span class="comment">// then there is a match</span>
            <span class="comment">// make a space</span>
            <span class="keywordflow">switch</span> (<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;pos&#39;</span>]){
              <span class="keywordflow">case</span> <span class="stringliteral">&#39;before&#39;</span>:
                $k = $i;
                <span class="keywordflow">break</span>;
              <span class="keywordflow">case</span> <span class="stringliteral">&#39;after&#39;</span>:
                $k=$i+1;
                <span class="keywordflow">break</span>;
              <span class="keywordflow">default</span>:
                $k=-1;
                <span class="keywordflow">break</span>;
            }
            <span class="keywordflow">if</span> ($k&gt;=0){
              <span class="keywordflow">for</span> ($j=count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>])-1;$j&gt;=$k;$j--){
                $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>][$j+1]=$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>][$j];
              }
              $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>][$k]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;id&#39;</span>];
            }
          }
        } 
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;procset&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;procset&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;mediaBox&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;mediaBox&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>; <span class="comment">// which should be an array of 4 numbers</span>
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;font&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fonts&#39;</span>][]=array(<span class="stringliteral">&#39;objNum&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;objNum&#39;</span>],<span class="stringliteral">&#39;fontNum&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;fontNum&#39;</span>]);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;xObject&#39;</span>:
      $o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;xObjects&#39;</span>][]=array(<span class="stringliteral">&#39;objNum&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;objNum&#39;</span>],<span class="stringliteral">&#39;label&#39;</span>=&gt;<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;label&#39;</span>]);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      <span class="keywordflow">if</span> (count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>])){
        $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Pages\n/Kids [&quot;</span>;
        <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>] as $k=&gt;$v){
          $res.=$v.<span class="stringliteral">&quot; 0 R\n&quot;</span>;
        }
        $res.=<span class="stringliteral">&quot;]\n/Count &quot;</span>.count($this-&gt;objects[$id][<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;pages&#39;</span>]);
        <span class="keywordflow">if</span> ((isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fonts&#39;</span>]) &amp;&amp; count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fonts&#39;</span>])) || isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;procset&#39;</span>])){
          $res.=<span class="stringliteral">&quot;\n/Resources &lt;&lt;&quot;</span>;
          <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;procset&#39;</span>])){
            $res.=<span class="stringliteral">&quot;\n/ProcSet &quot;</span>.$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;procset&#39;</span>].<span class="stringliteral">&quot; 0 R&quot;</span>;
          }
          <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fonts&#39;</span>]) &amp;&amp; count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fonts&#39;</span>])){
            $res.=<span class="stringliteral">&quot;\n/Font &lt;&lt; &quot;</span>;
            <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;fonts&#39;</span>] as $finfo){
              $res.=<span class="stringliteral">&quot;\n/F&quot;</span>.$finfo[<span class="stringliteral">&#39;fontNum&#39;</span>].<span class="stringliteral">&quot; &quot;</span>.$finfo[<span class="stringliteral">&#39;objNum&#39;</span>].<span class="stringliteral">&quot; 0 R&quot;</span>;
            }
            $res.=<span class="stringliteral">&quot; &gt;&gt;&quot;</span>;
          }
          <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;xObjects&#39;</span>]) &amp;&amp; count($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;xObjects&#39;</span>])){
            $res.=<span class="stringliteral">&quot;\n/XObject &lt;&lt; &quot;</span>;
            <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;xObjects&#39;</span>] as $finfo){
              $res.=<span class="stringliteral">&quot;\n/&quot;</span>.$finfo[<span class="stringliteral">&#39;label&#39;</span>].<span class="stringliteral">&quot; &quot;</span>.$finfo[<span class="stringliteral">&#39;objNum&#39;</span>].<span class="stringliteral">&quot; 0 R&quot;</span>;
            }
            $res.=<span class="stringliteral">&quot; &gt;&gt;&quot;</span>;
          }
          $res.=<span class="stringliteral">&quot;\n&gt;&gt;&quot;</span>;
          <span class="keywordflow">if</span> (isset($o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;mediaBox&#39;</span>])){
            $tmp=$o[<span class="stringliteral">&#39;info&#39;</span>][<span class="stringliteral">&#39;mediaBox&#39;</span>];
            $res.=<span class="stringliteral">&quot;\n/MediaBox [&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$tmp[0]).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$tmp[1]).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$tmp[2]).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$tmp[3]).<span class="charliteral">&#39;]&#39;</span>;
          }
        }
        $res.=<span class="stringliteral">&quot;\n &gt;&gt;\nendobj&quot;</span>;
      } <span class="keywordflow">else</span> {
        $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&lt;&lt; /Type /Pages\n/Count 0\n&gt;&gt;\nendobj&quot;</span>;
      }
      <span class="keywordflow">return</span> $res;
    <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8c957eb8366fe5b89727c7ec68700afc"></a><!-- doxytag: member="Cpdf::o_procset" ref="a8c957eb8366fe5b89727c7ec68700afc" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a8c957eb8366fe5b89727c7ec68700afc">o_procset</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the document procset, solves some problems with printing to old PS printers </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00650">650</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;procset&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array(<span class="stringliteral">&#39;PDF&#39;</span>=&gt;1,<span class="stringliteral">&#39;Text&#39;</span>=&gt;1));
      $this-&gt;<a class="code" href="class_cpdf.html#a81c56aa681c1462c1a2d29a4b164e1c9">o_pages</a>($this-&gt;currentNode,<span class="stringliteral">&#39;procset&#39;</span>,$id);
      $this-&gt;procsetObjectId=$id;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;add&#39;</span>:
      <span class="comment">// this is to add new items to the procset list, despite the fact that this is considered</span>
      <span class="comment">// obselete, the items are required for printing to some postscript printers</span>
      <span class="keywordflow">switch</span> (<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>) {
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ImageB&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ImageC&#39;</span>:
        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ImageI&#39;</span>:
          $o[<span class="stringliteral">&#39;info&#39;</span>][<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>]=1;
          <span class="keywordflow">break</span>;
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:
      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n[&quot;</span>;
      <span class="keywordflow">foreach</span> ($o[<span class="stringliteral">&#39;info&#39;</span>] as $label=&gt;$val){
        $res.=<span class="charliteral">&#39;/&#39;</span>.$label.<span class="charliteral">&#39; &#39;</span>;
      }
      $res.=<span class="stringliteral">&quot;]\nendobj&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a37a4d12fd4fe6536921eabccfc55bae3"></a><!-- doxytag: member="Cpdf::o_viewerPreferences" ref="a37a4d12fd4fe6536921eabccfc55bae3" args="($id, $action, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a37a4d12fd4fe6536921eabccfc55bae3">o_viewerPreferences</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>set the viewer preferences </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00262">262</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
  <span class="keywordflow">if</span> ($action!=<span class="stringliteral">&#39;new&#39;</span>){
    $o =&amp; $this-&gt;objects[$id];
  }
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;new&#39;</span>:
      $this-&gt;objects[$id]=array(<span class="charliteral">&#39;t&#39;</span>=&gt;<span class="stringliteral">&#39;viewerPreferences&#39;</span>,<span class="stringliteral">&#39;info&#39;</span>=&gt;array());
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;add&#39;</span>:
      <span class="keywordflow">foreach</span>(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a> as $k=&gt;$v){
        <span class="keywordflow">switch</span> ($k){
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;HideToolbar&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;HideMenubar&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;HideWindowUI&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FitWindow&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;CenterWindow&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;NonFullScreenPageMode&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Direction&#39;</span>:
            $o[<span class="stringliteral">&#39;info&#39;</span>][$k]=$v;
          <span class="keywordflow">break</span>;
        }
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;out&#39;</span>:

      $res=<span class="stringliteral">&quot;\n&quot;</span>.$id.<span class="stringliteral">&quot; 0 obj\n&quot;</span>.<span class="stringliteral">&#39;&lt;&lt; &#39;</span>;
      <span class="keywordflow">foreach</span>($o[<span class="stringliteral">&#39;info&#39;</span>] as $k=&gt;$v){
        $res.=<span class="stringliteral">&quot;\n/&quot;</span>.$k.<span class="charliteral">&#39; &#39;</span>.$v;
      }
      $res.=<span class="stringliteral">&quot;\n&gt;&gt;\n&quot;</span>;
      <span class="keywordflow">return</span> $res;
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac9e094a24b03891a8b8e1ef468b535b7"></a><!-- doxytag: member="Cpdf::openFont" ref="ac9e094a24b03891a8b8e1ef468b535b7" args="($font)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ac9e094a24b03891a8b8e1ef468b535b7">openFont</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>font</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>open the font file and return a php structure containing it. first check if this one has been done before and saved in a form more suited to php note that if a php serialized version does not exist it will try and make one, but will require write access to the directory to do it... it is MUCH faster to have these serialized files.</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01309">1309</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                        {
  <span class="comment">// assume that $font contains both the path and perhaps the extension to the file, split them</span>
  $pos=strrpos($font,<span class="charliteral">&#39;/&#39;</span>);
  <span class="keywordflow">if</span> ($pos===<span class="keyword">false</span>){
    <a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a> = <span class="stringliteral">&#39;./&#39;</span>;
    $name = $font;
  } <span class="keywordflow">else</span> {
    <a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>=substr($font,0,$pos+1);
    $name=substr($font,$pos+1);
  }

  <span class="keywordflow">if</span> (substr($name,-4)==<span class="stringliteral">&#39;.afm&#39;</span>){
    $name=substr($name,0,strlen($name)-4);
  }
  $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;openFont: &#39;</span>.$font.<span class="stringliteral">&#39; - &#39;</span>.$name);
  <span class="keywordflow">if</span> (file_exists(<a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.<span class="stringliteral">&#39;php_&#39;</span>.$name.<span class="stringliteral">&#39;.afm&#39;</span>)){
    $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;openFont: php file exists &#39;</span>.<a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.<span class="stringliteral">&#39;php_&#39;</span>.$name.<span class="stringliteral">&#39;.afm&#39;</span>);
    $tmp = file(<a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.<span class="stringliteral">&#39;php_&#39;</span>.$name.<span class="stringliteral">&#39;.afm&#39;</span>);
    $this-&gt;fonts[$font]=unserialize($tmp[0]);
    <span class="keywordflow">if</span> (!isset($this-&gt;fonts[$font][<span class="stringliteral">&#39;_version_&#39;</span>]) || $this-&gt;fonts[$font][<span class="stringliteral">&#39;_version_&#39;</span>]&lt;1){
      <span class="comment">// if the font file is old, then clear it out and prepare for re-creation</span>
      $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;openFont: clear out, make way for new version.&#39;</span>);
      unset($this-&gt;fonts[$font]);
    }
  }
  <span class="keywordflow">if</span> (!isset($this-&gt;fonts[$font]) &amp;&amp; file_exists(<a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.$name.<span class="stringliteral">&#39;.afm&#39;</span>)){
    <span class="comment">// then rebuild the php_&lt;font&gt;.afm file from the &lt;font&gt;.afm file</span>
    $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;openFont: build php file from &#39;</span>.<a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.$name.<span class="stringliteral">&#39;.afm&#39;</span>);
    <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a> = array();
    <a class="code" href="tokenizer__test_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a> = file(<a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.$name.<span class="stringliteral">&#39;.afm&#39;</span>);
    <span class="keywordflow">foreach</span> (<a class="code" href="tokenizer__test_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a> as $rowA){
      <a class="code" href="administration_2lists_2data__create_8ejs_8php.html#a76772cd03c99434f33a506cf72f49b4f">$row</a>=trim($rowA);
      $pos=strpos(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#a76772cd03c99434f33a506cf72f49b4f">$row</a>,<span class="charliteral">&#39; &#39;</span>);
      <span class="keywordflow">if</span> ($pos){
        <span class="comment">// then there must be some keyword</span>
        $key = substr(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#a76772cd03c99434f33a506cf72f49b4f">$row</a>,0,$pos);
        <span class="keywordflow">switch</span> ($key){
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontName&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FullName&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FamilyName&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Weight&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;ItalicAngle&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;IsFixedPitch&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;CharacterSet&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;UnderlinePosition&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;UnderlineThickness&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Version&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;EncodingScheme&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;CapHeight&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;XHeight&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Ascender&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;Descender&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;StdHW&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;StdVW&#39;</span>:
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;StartCharMetrics&#39;</span>:
            <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$key]=trim(substr(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#a76772cd03c99434f33a506cf72f49b4f">$row</a>,$pos));
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;FontBBox&#39;</span>:
            <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$key]=explode(<span class="charliteral">&#39; &#39;</span>,trim(substr(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#a76772cd03c99434f33a506cf72f49b4f">$row</a>,$pos)));
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:
            <span class="comment">//C 39 ; WX 222 ; N quoteright ; B 53 463 157 718 ;</span>
            $bits=explode(<span class="charliteral">&#39;;&#39;</span>,trim(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#a76772cd03c99434f33a506cf72f49b4f">$row</a>));
            $dtmp=array();
            <span class="keywordflow">foreach</span>($bits as $bit){
              $bits2 = explode(<span class="charliteral">&#39; &#39;</span>,trim($bit));
              <span class="keywordflow">if</span> (strlen($bits2[0])){
                <span class="keywordflow">if</span> (count($bits2)&gt;2){
                  $dtmp[$bits2[0]]=array();
                  <span class="keywordflow">for</span> ($i=1;$i&lt;count($bits2);$i++){
                    $dtmp[$bits2[0]][]=$bits2[$i];
                  }
                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (count($bits2)==2){
                  $dtmp[$bits2[0]]=$bits2[1];
                }
              }
            }
            <span class="keywordflow">if</span> ($dtmp[<span class="charliteral">&#39;C&#39;</span>]&gt;=0){
              <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[<span class="charliteral">&#39;C&#39;</span>][$dtmp[<span class="charliteral">&#39;C&#39;</span>]]=$dtmp;
              <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[<span class="charliteral">&#39;C&#39;</span>][$dtmp[<span class="charliteral">&#39;N&#39;</span>]]=$dtmp;
            } <span class="keywordflow">else</span> {
              <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[<span class="charliteral">&#39;C&#39;</span>][$dtmp[<span class="charliteral">&#39;N&#39;</span>]]=$dtmp;
            }
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="stringliteral">&#39;KPX&#39;</span>:
            <span class="comment">//KPX Adieresis yacute -40</span>
            $bits=explode(<span class="charliteral">&#39; &#39;</span>,trim(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#a76772cd03c99434f33a506cf72f49b4f">$row</a>));
            <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[<span class="stringliteral">&#39;KPX&#39;</span>][$bits[1]][$bits[2]]=$bits[3];
            <span class="keywordflow">break</span>;
        }
      }
    }
    <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[<span class="stringliteral">&#39;_version_&#39;</span>]=1;
    $this-&gt;fonts[$font]=<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>;
    $fp = fopen(<a class="code" href="add__cvs_8php.html#a1659f0a629d408e0f849dbe4ee061e62">$dir</a>.<span class="stringliteral">&#39;php_&#39;</span>.$name.<span class="stringliteral">&#39;.afm&#39;</span>,<span class="charliteral">&#39;w&#39;</span>);
    fwrite($fp,serialize(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>));
    fclose($fp);
  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!isset($this-&gt;fonts[$font])){
    $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;openFont: no font file found&#39;</span>);
<span class="comment">//    echo &#39;Font not Found &#39;.$font;</span>
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="af01751de7cdbbc4b7a2eea6a20cd547b"></a><!-- doxytag: member="Cpdf::openHere" ref="af01751de7cdbbc4b7a2eea6a20cd547b" args="($style, $a=0, $b=0, $c=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#af01751de7cdbbc4b7a2eea6a20cd547b">openHere</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>style</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>a</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>b</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>c</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>specify where the document should open when it first starts </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02952">2952</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="comment">// this function will open the document at a specified page, in a specified style</span>
  <span class="comment">// the values for style, and the required paramters are:</span>
  <span class="comment">// &#39;XYZ&#39;  left, top, zoom</span>
  <span class="comment">// &#39;Fit&#39;</span>
  <span class="comment">// &#39;FitH&#39; top</span>
  <span class="comment">// &#39;FitV&#39; left</span>
  <span class="comment">// &#39;FitR&#39; left,bottom,right</span>
  <span class="comment">// &#39;FitB&#39;</span>
  <span class="comment">// &#39;FitBH&#39; top</span>
  <span class="comment">// &#39;FitBV&#39; left</span>
  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#a2432dc753eab2f8786f3b6c97cfdca59">o_destination</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,array(<span class="stringliteral">&#39;page&#39;</span>=&gt;$this-&gt;currentPage,<span class="stringliteral">&#39;type&#39;</span>=&gt;$style,<span class="stringliteral">&#39;p1&#39;</span>=&gt;<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>,<span class="stringliteral">&#39;p2&#39;</span>=&gt;$b,<span class="stringliteral">&#39;p3&#39;</span>=&gt;$c));
  $id = $this-&gt;catalogId;
  $this-&gt;<a class="code" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a>($id,<span class="stringliteral">&#39;openHere&#39;</span>,$this-&gt;numObj);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa4a5e13c4e4e38cab679bef2100f5a1b"></a><!-- doxytag: member="Cpdf::openObject" ref="aa4a5e13c4e4e38cab679bef2100f5a1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aa4a5e13c4e4e38cab679bef2100f5a1b">openObject</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>make a loose object, the output will go into this object, until it is closed, then will revert to the current one. this object will not appear until it is included within a page. the function will return the object number </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02493">2493</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                     {
  $this-&gt;nStack++;
  $this-&gt;stack[$this-&gt;nStack]=array(<span class="charliteral">&#39;c&#39;</span>=&gt;$this-&gt;currentContents,<span class="charliteral">&#39;p&#39;</span>=&gt;$this-&gt;currentPage);
  <span class="comment">// add a new object of the content type, to hold the data flow</span>
  $this-&gt;numObj++;
  $this-&gt;<a class="code" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);
  $this-&gt;currentContents=$this-&gt;numObj;
  $this-&gt;looseObjects[$this-&gt;numObj]=1;
  
  <span class="keywordflow">return</span> $this-&gt;numObj;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa81bf39d5b682bbccdbf75c269b15729"></a><!-- doxytag: member="Cpdf::output" ref="aa81bf39d5b682bbccdbf75c269b15729" args="($debug=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aa81bf39d5b682bbccdbf75c269b15729">output</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>debug</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>return the pdf stream as a string returned from the function </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01223">1223</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                         {

  <span class="keywordflow">if</span> ($debug){
    <span class="comment">// turn compression off</span>
    $this-&gt;options[<span class="stringliteral">&#39;compression&#39;</span>]=0;
  }

  <span class="keywordflow">if</span> ($this-&gt;arc4_objnum){
    $this-&gt;<a class="code" href="class_cpdf.html#ab9ace0c7741193acf9b665f2cac0139e">ARC4_init</a>($this-&gt;encryptionKey);
  }

  $this-&gt;<a class="code" href="class_cpdf.html#a97cd4a04c03ffbf0f9f1dde0670f25c0">checkAllHere</a>();

  $xref=array();
  $content=<span class="stringliteral">&quot;%PDF-1.3\n%\n&quot;</span>;
<span class="comment">//  $content=&quot;%PDF-1.3\n&quot;;</span>
  $pos=strlen($content);
  <span class="keywordflow">foreach</span>($this-&gt;objects as $k=&gt;$v){
    $tmp=<span class="stringliteral">&#39;o_&#39;</span>.$v[<span class="charliteral">&#39;t&#39;</span>];
    $cont=$this-&gt;$tmp($k,<span class="stringliteral">&#39;out&#39;</span>);
    $content.=$cont;
    $xref[]=$pos;
    $pos+=strlen($cont);
  }
  $content.=<span class="stringliteral">&quot;\nxref\n0 &quot;</span>.(count($xref)+1).<span class="stringliteral">&quot;\n0000000000 65535 f \n&quot;</span>;
  <span class="keywordflow">foreach</span>($xref as $p){
    $content.=substr(<span class="stringliteral">&#39;0000000000&#39;</span>,0,10-strlen($p)).$p.<span class="stringliteral">&quot; 00000 n \n&quot;</span>;
  }
  $content.=<span class="stringliteral">&quot;\ntrailer\n  &lt;&lt; /Size &quot;</span>.(count($xref)+1).<span class="stringliteral">&quot;\n     /Root 1 0 R\n     /Info &quot;</span>.$this-&gt;infoObject.<span class="stringliteral">&quot; 0 R\n&quot;</span>;
  <span class="comment">// if encryption has been applied to this document then add the marker for this dictionary</span>
  <a class="code" href="immunizations_8ejs_8php.html#a8d5a88c29c26abdfa2ad05737bbe0ac9">if</a> ($this-&gt;arc4_objnum &gt; 0){
    $content .= <span class="stringliteral">&quot;/Encrypt &quot;</span>.$this-&gt;arc4_objnum.<span class="stringliteral">&quot; 0 R\n&quot;</span>;
  }
  <span class="keywordflow">if</span> (strlen($this-&gt;fileIdentifier)){
    $content .= <span class="stringliteral">&quot;/ID[&lt;&quot;</span>.$this-&gt;fileIdentifier.<span class="stringliteral">&quot;&gt;&lt;&quot;</span>.$this-&gt;fileIdentifier.<span class="stringliteral">&quot;&gt;]\n&quot;</span>;
  }
  $content .= <span class="stringliteral">&quot;  &gt;&gt;\nstartxref\n&quot;</span>.$pos.<span class="stringliteral">&quot;\n%%EOF\n&quot;</span>;
  <span class="keywordflow">return</span> $content;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a01283c9d18d281852c058bd6660d75a8"></a><!-- doxytag: member="Cpdf::partEllipse" ref="a01283c9d18d281852c058bd6660d75a8" args="($x0, $y0, $astart, $afinish, $r1, $r2=0, $angle=0, $nSeg=8)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a01283c9d18d281852c058bd6660d75a8">partEllipse</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>astart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>afinish</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r2</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>nSeg</em> = <code>8</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>draw a part of an ellipse </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01695">1695</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                         {
  $this-&gt;<a class="code" href="class_cpdf.html#ab56f65d9ba54f403a6bd7a007134808a">ellipse</a>($x0,$y0,$r1,$r2,$angle,$nSeg,$astart,$afinish,0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="aaf7ac386285317f442a825dd02f49fe9"></a><!-- doxytag: member="Cpdf::polygon" ref="aaf7ac386285317f442a825dd02f49fe9" args="($p, $np, $f=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aaf7ac386285317f442a825dd02f49fe9">polygon</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>np</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>f</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>draw a polygon, the syntax for this is similar to the GD polygon command </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01821">1821</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                             {
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$p[0]).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$p[1]).<span class="stringliteral">&#39; m &#39;</span>;
  <span class="keywordflow">for</span> ($i=2;$i&lt;$np*2;$i=$i+2){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].= sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$p[$i]).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$p[$i+1]).<span class="stringliteral">&#39; l &#39;</span>;
  }
  <span class="keywordflow">if</span> ($f==1){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; f&#39;</span>;
  } <span class="keywordflow">else</span> {
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; S&#39;</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a92ee2fbcc0af6cfb8ad13c3ff171747b"></a><!-- doxytag: member="Cpdf::PRVT_getBytes" ref="a92ee2fbcc0af6cfb8ad13c3ff171747b" args="(&amp;$data, $pos, $num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a92ee2fbcc0af6cfb8ad13c3ff171747b">PRVT_getBytes</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>extract an integer from a position in a byte stream</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02626">2626</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="comment">// return the integer represented by $num bytes from $pos within $data</span>
  <a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>=0;
  <span class="keywordflow">for</span> ($i=0;$i&lt;$num;$i++){
    <a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>=<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>*256;
    <a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>+=ord(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>[$pos+$i]);
  }
  <span class="keywordflow">return</span> <a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa809699a6b3919f44b4d62e5f685dc8e"></a><!-- doxytag: member="Cpdf::PRVTadjustWrapText" ref="aa809699a6b3919f44b4d62e5f685dc8e" args="($text, $actual, $width, &amp;$x, &amp;$adjust, $justification)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#aa809699a6b3919f44b4d62e5f685dc8e">PRVTadjustWrapText</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>adjust</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>justification</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>do a part of the calculation for sorting out the justification of the text</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02303">2303</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                             {
  <span class="keywordflow">switch</span> ($justification){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;left&#39;</span>:
      <span class="keywordflow">return</span>;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;right&#39;</span>:
      $x+=$width-$actual;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;center&#39;</span>:
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;centre&#39;</span>:
      $x+=($width-$actual)/2;
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;full&#39;</span>:
      <span class="comment">// count the number of words</span>
      $words = explode(<span class="charliteral">&#39; &#39;</span>,$text);
      $nspaces=count($words)-1;
      <span class="keywordflow">if</span> ($nspaces&gt;0){
        $adjust = ($width-$actual)/$nspaces;
      } <span class="keywordflow">else</span> {
        $adjust=0;
      }
      <span class="keywordflow">break</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a74a8799ea1bd2492c8f166c99ab8c588"></a><!-- doxytag: member="Cpdf::PRVTcheckTextDirective" ref="a74a8799ea1bd2492c8f166c99ab8c588" args="(&amp;$text, $i, &amp;$f)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a74a8799ea1bd2492c8f166c99ab8c588">PRVTcheckTextDirective</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>f</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>wrapper function for PRVTcheckTextDirective1</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01996">1996</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
  $x=0;
  $y=0;
  <span class="keywordflow">return</span> $this-&gt;<a class="code" href="class_cpdf.html#a0431a00e90c0a4cb96e22e9af5c92927">PRVTcheckTextDirective1</a>($text,$i,$f,0,$x,$y);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0431a00e90c0a4cb96e22e9af5c92927"></a><!-- doxytag: member="Cpdf::PRVTcheckTextDirective1" ref="a0431a00e90c0a4cb96e22e9af5c92927" args="(&amp;$text, $i, &amp;$f, $final, &amp;$x, &amp;$y, $size=0, $angle=0, $wordSpaceAdjust=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a0431a00e90c0a4cb96e22e9af5c92927">PRVTcheckTextDirective1</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>final</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>size</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>wordSpaceAdjust</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>checks if the text stream contains a control directive if so then makes some changes and returns the number of characters involved in the directive this has been re-worked to include everything neccesary to fins the current writing point, so that the location can be sent to the callback function if required if the directive does not require a font change, then $f should be set to 0</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02011">2011</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                  {
  $directive = 0;
  $j=$i;
  <span class="keywordflow">if</span> ($text[$j]==<span class="charliteral">&#39;&lt;&#39;</span>){
    $j++;
    <span class="keywordflow">switch</span>($text[$j]){
      <span class="keywordflow">case</span> <span class="charliteral">&#39;/&#39;</span>:
        $j++;
        <span class="keywordflow">if</span> (strlen($text) &lt;= $j){
          <span class="keywordflow">return</span> $directive;
        }
        <span class="keywordflow">switch</span>($text[$j]){
          <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:
          <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:
            $j++;
            <span class="keywordflow">if</span> ($text[$j]==<span class="charliteral">&#39;&gt;&#39;</span>){
              $p = strrpos($this-&gt;currentTextState,$text[$j-1]);
              <span class="keywordflow">if</span> ($p !== <span class="keyword">false</span>){
                <span class="comment">// then there is one to remove</span>
                $this-&gt;currentTextState = substr($this-&gt;currentTextState,0,$p).substr($this-&gt;currentTextState,$p+1);
              }
              $directive=$j-$i+1;
            }
            <span class="keywordflow">break</span>;
          <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:
            <span class="comment">// this this might be a callback function</span>
            $j++;
            $k = strpos($text,<span class="charliteral">&#39;&gt;&#39;</span>,$j);
            <span class="keywordflow">if</span> ($k!==<span class="keyword">false</span> &amp;&amp; $text[$j]==<span class="charliteral">&#39;:&#39;</span>){
              <span class="comment">// then this will be treated as a callback directive</span>
              $directive = $k-$i+1;
              $f=0;
              <span class="comment">// split the remainder on colons to get the function name and the paramater</span>
              $tmp = substr($text,$j+1,$k-$j-1);
              $b1 = strpos($tmp,<span class="charliteral">&#39;:&#39;</span>);
              <span class="keywordflow">if</span> ($b1!==<span class="keyword">false</span>){
                $func = substr($tmp,0,$b1);
                $parm = substr($tmp,$b1+1);
              } <span class="keywordflow">else</span> {
                $func=$tmp;
                $parm=<span class="stringliteral">&#39;&#39;</span>;
              }
              <span class="keywordflow">if</span> (!isset($func) || !strlen(trim($func))){
                $directive=0;
              } <span class="keywordflow">else</span> {
                <span class="comment">// only call the function if this is the final call</span>
                <span class="keywordflow">if</span> ($final){
                  <span class="comment">// need to assess the text position, calculate the text width to this point</span>
                  <span class="comment">// can use getTextWidth to find the text width I think</span>
                  $tmp = $this-&gt;<a class="code" href="class_cpdf.html#ada9e29ddfcdecb498a13811a03bf0716">PRVTgetTextPosition</a>($x,$y,$angle,$size,<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>,substr($text,0,$i));
                  $info = array(<span class="charliteral">&#39;x&#39;</span>=&gt;$tmp[0],<span class="charliteral">&#39;y&#39;</span>=&gt;$tmp[1],<span class="stringliteral">&#39;angle&#39;</span>=&gt;$angle,<span class="stringliteral">&#39;status&#39;</span>=&gt;<span class="stringliteral">&#39;end&#39;</span>,<span class="charliteral">&#39;p&#39;</span>=&gt;$parm,<span class="stringliteral">&#39;nCallback&#39;</span>=&gt;$this-&gt;nCallback);
                  $x=$tmp[0];
                  $y=$tmp[1];
                  <a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = $this-&gt;$func($info);
                  <span class="keywordflow">if</span> (is_array(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>)){
                    <span class="comment">// then the return from the callback function could set the position, to start with, later will do font colour, and font</span>
                    <span class="keywordflow">foreach</span>(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> as $rk=&gt;$rv){
                      <span class="keywordflow">switch</span>($rk){
                        <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:
                        <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:
                          $$rk=$rv;
                          <span class="keywordflow">break</span>;
                      }
                    }
                  }
                  <span class="comment">// also remove from to the stack</span>
                  <span class="comment">// for simplicity, just take from the end, fix this another day</span>
                  $this-&gt;nCallback--;
                  <span class="keywordflow">if</span> ($this-&gt;nCallback&lt;0){
                    $this-&gt;nCallBack=0;
                  }
                }
              }
            }
            <span class="keywordflow">break</span>;
        }
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:
      <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:
        $j++;
        <span class="keywordflow">if</span> ($text[$j]==<span class="charliteral">&#39;&gt;&#39;</span>){
          $this-&gt;currentTextState.=$text[$j-1];
          $directive=$j-$i+1;
        }
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>:
        $noClose=1;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:
        <span class="comment">// this this might be a callback function</span>
        $j++;
        $k = strpos($text,<span class="charliteral">&#39;&gt;&#39;</span>,$j);
        <span class="keywordflow">if</span> ($k!==<span class="keyword">false</span> &amp;&amp; $text[$j]==<span class="charliteral">&#39;:&#39;</span>){
          <span class="comment">// then this will be treated as a callback directive</span>
          $directive = $k-$i+1;
          $f=0;
          <span class="comment">// split the remainder on colons to get the function name and the paramater</span>
<span class="comment">//          $bits = explode(&#39;:&#39;,substr($text,$j+1,$k-$j-1));</span>
          $tmp = substr($text,$j+1,$k-$j-1);
          $b1 = strpos($tmp,<span class="charliteral">&#39;:&#39;</span>);
          <span class="keywordflow">if</span> ($b1!==<span class="keyword">false</span>){
            $func = substr($tmp,0,$b1);
            $parm = substr($tmp,$b1+1);
          } <span class="keywordflow">else</span> {
            $func=$tmp;
            $parm=<span class="stringliteral">&#39;&#39;</span>;
          }
          <span class="keywordflow">if</span> (!isset($func) || !strlen(trim($func))){
            $directive=0;
          } <span class="keywordflow">else</span> {
            <span class="comment">// only call the function if this is the final call, ie, the one actually doing printing, not measurement</span>
            <span class="keywordflow">if</span> ($final){
              <span class="comment">// need to assess the text position, calculate the text width to this point</span>
              <span class="comment">// can use getTextWidth to find the text width I think</span>
              <span class="comment">// also add the text height and decender</span>
              $tmp = $this-&gt;<a class="code" href="class_cpdf.html#ada9e29ddfcdecb498a13811a03bf0716">PRVTgetTextPosition</a>($x,$y,$angle,$size,<a class="code" href="class_cpdf.html#a32de4c103af0783f44fd568d74c6454b">$wordSpaceAdjust</a>,substr($text,0,$i));
              $info = array(<span class="charliteral">&#39;x&#39;</span>=&gt;$tmp[0],<span class="charliteral">&#39;y&#39;</span>=&gt;$tmp[1],<span class="stringliteral">&#39;angle&#39;</span>=&gt;$angle,<span class="stringliteral">&#39;status&#39;</span>=&gt;<span class="stringliteral">&#39;start&#39;</span>,<span class="charliteral">&#39;p&#39;</span>=&gt;$parm,<span class="charliteral">&#39;f&#39;</span>=&gt;$func,<span class="stringliteral">&#39;height&#39;</span>=&gt;$this-&gt;<a class="code" href="class_cpdf.html#a6beae3dc84460fede62c6a0ca8861277">getFontHeight</a>($size),<span class="stringliteral">&#39;decender&#39;</span>=&gt;$this-&gt;<a class="code" href="class_cpdf.html#adedb392d14ce7963b05c5ca389181699">getFontDecender</a>($size));
              $x=$tmp[0];
              $y=$tmp[1];
              <span class="keywordflow">if</span> (!isset($noClose) || !$noClose){
                <span class="comment">// only add to the stack if this is a small &#39;c&#39;, therefore is a start-stop pair</span>
                $this-&gt;nCallback++;
                $info[<span class="stringliteral">&#39;nCallback&#39;</span>]=$this-&gt;nCallback;
                $this-&gt;callback[$this-&gt;nCallback]=$info;
              }
              <a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> = $this-&gt;$func($info);
              <span class="keywordflow">if</span> (is_array(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a>)){
                <span class="comment">// then the return from the callback function could set the position, to start with, later will do font colour, and font</span>
                <span class="keywordflow">foreach</span>(<a class="code" href="administration_2lists_2data__create_8ejs_8php.html#affd9e3eb0aad0a7ca42912cd925f148c">$ret</a> as $rk=&gt;$rv){
                  <span class="keywordflow">switch</span>($rk){
                    <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:
                    <span class="keywordflow">case</span> <span class="charliteral">&#39;y&#39;</span>:
                      $$rk=$rv;
                      <span class="keywordflow">break</span>;
                  }
                }
              }
            }
          }
        }
        <span class="keywordflow">break</span>;
    }
  } 
  <span class="keywordflow">return</span> $directive;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ada9e29ddfcdecb498a13811a03bf0716"></a><!-- doxytag: member="Cpdf::PRVTgetTextPosition" ref="ada9e29ddfcdecb498a13811a03bf0716" args="($x, $y, $angle, $size, $wa, $text)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ada9e29ddfcdecb498a13811a03bf0716">PRVTgetTextPosition</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>wa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>text</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>given a start position and information about how text is to be laid out, calculate where on the page the text will end</p>
<p>private </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01980">1980</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
  <span class="comment">// given this information return an array containing x and y for the end position as elements 0 and 1</span>
  $w = $this-&gt;<a class="code" href="class_cpdf.html#af92fe5c611b3feeafd3282ace477345f">getTextWidth</a>($size,$text);
  <span class="comment">// need to adjust for the number of spaces in this text</span>
  $words = explode(<span class="charliteral">&#39; &#39;</span>,$text);
  $nspaces=count($words)-1;
  $w += $wa*$nspaces;
  <a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a> = deg2rad((<span class="keywordtype">float</span>)$angle);
  <span class="keywordflow">return</span> array(cos(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)*$w+$x,-sin(<a class="code" href="phpdoc_8inc.html#acebf83966ef6d7e5645a6b62ba368f9f">$a</a>)*$w+$y);
}
</pre></div>
</div>
</div>
<a class="anchor" id="adc6135070daab0159a4c75d04ebbc8ac"></a><!-- doxytag: member="Cpdf::rectangle" ref="adc6135070daab0159a4c75d04ebbc8ac" args="($x1, $y1, $width, $height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#adc6135070daab0159a4c75d04ebbc8ac">rectangle</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>draw a rectangle, note that it is the width and height of the rectangle which are the secondary paramaters, not the coordinates of the upper-right corner </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01846">1846</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$x1).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$y1).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$width).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$height).<span class="stringliteral">&#39; re S&#39;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a42c738c855a15be14e5fe6b07834a6c5"></a><!-- doxytag: member="Cpdf::reopenObject" ref="a42c738c855a15be14e5fe6b07834a6c5" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a42c738c855a15be14e5fe6b07834a6c5">reopenObject</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>open an existing object for editing </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02508">2508</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                          {
   $this-&gt;nStack++;
   $this-&gt;stack[$this-&gt;nStack]=array(<span class="charliteral">&#39;c&#39;</span>=&gt;$this-&gt;currentContents,<span class="charliteral">&#39;p&#39;</span>=&gt;$this-&gt;currentPage);
   $this-&gt;currentContents=$id;
   <span class="comment">// also if this object is the primary contents for a page, then set the current page to its parent</span>
   <span class="keywordflow">if</span> (isset($this-&gt;objects[$id][<span class="stringliteral">&#39;onPage&#39;</span>])){
     $this-&gt;currentPage = $this-&gt;objects[$id][<span class="stringliteral">&#39;onPage&#39;</span>];
   }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2f42f38b51682f8457ee605bb3029dc4"></a><!-- doxytag: member="Cpdf::restoreState" ref="a2f42f38b51682f8457ee605bb3029dc4" args="($pageEnd=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a2f42f38b51682f8457ee605bb3029dc4">restoreState</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pageEnd</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>restore a previously saved state </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02474">2474</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
  <span class="keywordflow">if</span> (!$pageEnd){
    $n = $this-&gt;nStateStack;
    $this-&gt;currentColour = $this-&gt;stateStack[$n][<span class="stringliteral">&#39;col&#39;</span>];
    $this-&gt;currentStrokeColour = $this-&gt;stateStack[$n][<span class="stringliteral">&#39;str&#39;</span>];
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.$this-&gt;stateStack[$n][<span class="stringliteral">&#39;lin&#39;</span>];
    $this-&gt;currentLineStyle = $this-&gt;stateStack[$n][<span class="stringliteral">&#39;lin&#39;</span>];
    unset($this-&gt;stateStack[$n]);
    $this-&gt;nStateStack--;
  }
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\nQ&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a854f2a9d1250c69b6c2243d5175ddd83"></a><!-- doxytag: member="Cpdf::saveState" ref="a854f2a9d1250c69b6c2243d5175ddd83" args="($pageEnd=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a854f2a9d1250c69b6c2243d5175ddd83">saveState</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pageEnd</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this will be called at a new page to return the state to what it was on the end of the previous page, before the stack was closed down This is to get around not being able to have open 'q' across pages </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02450">2450</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                              {
  <span class="keywordflow">if</span> ($pageEnd){
    <span class="comment">// this will be called at a new page to return the state to what it was on the </span>
    <span class="comment">// end of the previous page, before the stack was closed down</span>
    <span class="comment">// This is to get around not being able to have open &#39;q&#39; across pages</span>
    $opt = $this-&gt;stateStack[$pageEnd]; <span class="comment">// ok to use this as stack starts numbering at 1</span>
    $this-&gt;<a class="code" href="class_cpdf.html#ad6873769b1aeb31e7acbc3be3de671a5">setColor</a>($opt[<span class="stringliteral">&#39;col&#39;</span>][<span class="charliteral">&#39;r&#39;</span>],$opt[<span class="stringliteral">&#39;col&#39;</span>][<span class="charliteral">&#39;g&#39;</span>],$opt[<span class="stringliteral">&#39;col&#39;</span>][<span class="charliteral">&#39;b&#39;</span>],1);
    $this-&gt;<a class="code" href="class_cpdf.html#a8d3584e9eee400857cd917984d025db4">setStrokeColor</a>($opt[<span class="stringliteral">&#39;str&#39;</span>][<span class="charliteral">&#39;r&#39;</span>],$opt[<span class="stringliteral">&#39;str&#39;</span>][<span class="charliteral">&#39;g&#39;</span>],$opt[<span class="stringliteral">&#39;str&#39;</span>][<span class="charliteral">&#39;b&#39;</span>],1);
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.$opt[<span class="stringliteral">&#39;lin&#39;</span>];
<span class="comment">//    $this-&gt;currentLineStyle = $opt[&#39;lin&#39;];</span>
  } <span class="keywordflow">else</span> {
    $this-&gt;nStateStack++;
    $this-&gt;stateStack[$this-&gt;nStateStack]=array(
      <span class="stringliteral">&#39;col&#39;</span>=&gt;$this-&gt;currentColour
     ,<span class="stringliteral">&#39;str&#39;</span>=&gt;$this-&gt;currentStrokeColour
     ,<span class="stringliteral">&#39;lin&#39;</span>=&gt;$this-&gt;currentLineStyle
    );
  }
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\nq&quot;</span>;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a51b2f9f1095c23b3b75a8f7bf4a04533"></a><!-- doxytag: member="Cpdf::selectFont" ref="a51b2f9f1095c23b3b75a8f7bf4a04533" args="($fontName, $encoding='', $set=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fontName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>set</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>if the font is not loaded then load it and make the required object else just make it the current font the encoding array can contain 'encoding'=&gt; 'none','WinAnsiEncoding','MacRomanEncoding' or 'MacExpertEncoding' note that encoding='none' will need to be used for symbolic fonts and 'differences' =&gt; an array of mappings between numbers 0-&gt;255 and character names. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01420">1420</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
  <span class="keywordflow">if</span> (!isset($this-&gt;fonts[$fontName])){
    <span class="comment">// load the file</span>
    $this-&gt;<a class="code" href="class_cpdf.html#ac9e094a24b03891a8b8e1ef468b535b7">openFont</a>($fontName);
    <span class="keywordflow">if</span> (isset($this-&gt;fonts[$fontName])){
      $this-&gt;numObj++;
      $this-&gt;numFonts++;
      $pos=strrpos($fontName,<span class="charliteral">&#39;/&#39;</span>);
<span class="comment">//      $dir=substr($fontName,0,$pos+1);</span>
      $name=substr($fontName,$pos+1);
      <span class="keywordflow">if</span> (substr($name,-4)==<span class="stringliteral">&#39;.afm&#39;</span>){
        $name=substr($name,0,strlen($name)-4);
      }
      <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>=array(<span class="stringliteral">&#39;name&#39;</span>=&gt;$name);
      <span class="keywordflow">if</span> (is_array($encoding)){
        <span class="comment">// then encoding and differences might be set</span>
        <span class="keywordflow">if</span> (isset($encoding[<span class="stringliteral">&#39;encoding&#39;</span>])){
          <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;encoding&#39;</span>]=$encoding[<span class="stringliteral">&#39;encoding&#39;</span>];
        }
        <span class="keywordflow">if</span> (isset($encoding[<span class="stringliteral">&#39;differences&#39;</span>])){
          <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;differences&#39;</span>]=$encoding[<span class="stringliteral">&#39;differences&#39;</span>];
        }
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (strlen($encoding)){
        <span class="comment">// then perhaps only the encoding has been set</span>
        <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;encoding&#39;</span>]=$encoding;
      }
      $fontObj = $this-&gt;numObj;
      $this-&gt;<a class="code" href="class_cpdf.html#a607aaa24e2d8b46f8c387d0d5144cd9a">o_font</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>);
      $this-&gt;fonts[$fontName][<span class="stringliteral">&#39;fontNum&#39;</span>]=$this-&gt;numFonts;
      <span class="comment">// if this is a &#39;.afm&#39; font, and there is a &#39;.pfa&#39; file to go with it ( as there</span>
      <span class="comment">// should be for all non-basic fonts), then load it into an object and put the</span>
      <span class="comment">// references into the font object</span>
      $basefile = substr($fontName,0,strlen($fontName)-4);
      <span class="keywordflow">if</span> (file_exists($basefile.<span class="stringliteral">&#39;.pfb&#39;</span>)){
        $fbtype = <span class="stringliteral">&#39;pfb&#39;</span>;
      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (file_exists($basefile.<span class="stringliteral">&#39;.ttf&#39;</span>)){
        $fbtype = <span class="stringliteral">&#39;ttf&#39;</span>;
      } <span class="keywordflow">else</span> {
        $fbtype=<span class="stringliteral">&#39;&#39;</span>;
      }
      $fbfile = $basefile.<span class="charliteral">&#39;.&#39;</span>.$fbtype;
      
<span class="comment">//      $pfbfile = substr($fontName,0,strlen($fontName)-4).&#39;.pfb&#39;;</span>
<span class="comment">//      $ttffile = substr($fontName,0,strlen($fontName)-4).&#39;.ttf&#39;;</span>
      $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;selectFont: checking for - &#39;</span>.$fbfile);
      <span class="keywordflow">if</span> (substr($fontName,-4)==<span class="stringliteral">&#39;.afm&#39;</span> &amp;&amp; strlen($fbtype) ){
        $adobeFontName = $this-&gt;fonts[$fontName][<span class="stringliteral">&#39;FontName&#39;</span>];
<span class="comment">//        $fontObj = $this-&gt;numObj;</span>
        $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;selectFont: adding font file - &#39;</span>.$fbfile.<span class="stringliteral">&#39; - &#39;</span>.$adobeFontName);
        <span class="comment">// find the array of fond widths, and put that into an object.</span>
        $firstChar = -1;
        $lastChar = 0;
        $widths = array();
        <span class="keywordflow">foreach</span> ($this-&gt;fonts[$fontName][<span class="charliteral">&#39;C&#39;</span>] as $num=&gt;<a class="code" href="validator__unit__test_8php.html#a0cf5dd496d9f5ff1edf00d234771dcfe">$d</a>){
          <span class="keywordflow">if</span> (intval($num)&gt;0 || $num==<span class="charliteral">&#39;0&#39;</span>){
            <span class="keywordflow">if</span> ($lastChar&gt;0 &amp;&amp; $num&gt;$lastChar+1){
              <span class="keywordflow">for</span>($i=$lastChar+1;$i&lt;$num;$i++){
                $widths[] = 0;
              }
            }
            $widths[] = <a class="code" href="validator__unit__test_8php.html#a0cf5dd496d9f5ff1edf00d234771dcfe">$d</a>[<span class="stringliteral">&#39;WX&#39;</span>];
            <span class="keywordflow">if</span> ($firstChar==-1){
              $firstChar = $num;
            }
            $lastChar = $num;
          }
        }
        <span class="comment">// also need to adjust the widths for the differences array</span>
        <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;differences&#39;</span>])){
          <span class="keywordflow">foreach</span>(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;differences&#39;</span>] as $charNum=&gt;$charName){
            <span class="keywordflow">if</span> ($charNum&gt;$lastChar){
              <span class="keywordflow">for</span>($i=$lastChar+1;$i&lt;=$charNum;$i++){
                $widths[]=0;
              }
              $lastChar=$charNum;
            }
            <span class="keywordflow">if</span> (isset($this-&gt;fonts[$fontName][<span class="charliteral">&#39;C&#39;</span>][$charName])){
              $widths[$charNum-$firstChar]=$this-&gt;fonts[$fontName][<span class="charliteral">&#39;C&#39;</span>][$charName][<span class="stringliteral">&#39;WX&#39;</span>];
            }
          }
        }
        $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;selectFont: FirstChar=&#39;</span>.$firstChar);
        $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;selectFont: LastChar=&#39;</span>.$lastChar);
        $this-&gt;numObj++;
        $this-&gt;<a class="code" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,<span class="stringliteral">&#39;raw&#39;</span>);
        $this-&gt;objects[$this-&gt;numObj][<span class="charliteral">&#39;c&#39;</span>].=<span class="charliteral">&#39;[&#39;</span>;
        <span class="keywordflow">foreach</span>($widths as $width){
          $this-&gt;objects[$this-&gt;numObj][<span class="charliteral">&#39;c&#39;</span>].=<span class="charliteral">&#39; &#39;</span>.$width;
        }
        $this-&gt;objects[$this-&gt;numObj][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&#39; ]&#39;</span>;
        $widthid = $this-&gt;numObj;

        <span class="comment">// load the pfb file, and put that into an object too.</span>
        <span class="comment">// note that pdf supports only binary format type 1 font files, though there is a </span>
        <span class="comment">// simple utility to convert them from pfa to pfb.</span>
        $fp = fopen($fbfile,<span class="stringliteral">&#39;rb&#39;</span>);
        $tmp = get_magic_quotes_runtime();
        set_magic_quotes_runtime(0);
        <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a> = fread($fp,filesize($fbfile));
        set_magic_quotes_runtime($tmp);
        fclose($fp);

        <span class="comment">// create the font descriptor</span>
        $this-&gt;numObj++;
        $fontDescriptorId = $this-&gt;numObj;
        $this-&gt;numObj++;
        $pfbid = $this-&gt;numObj;
        <span class="comment">// determine flags (more than a little flakey, hopefully will not matter much)</span>
        $flags=0;
        <span class="keywordflow">if</span> ($this-&gt;fonts[$fontName][<span class="stringliteral">&#39;ItalicAngle&#39;</span>]!=0){ $flags+=pow(2,6); }
        <span class="keywordflow">if</span> ($this-&gt;fonts[$fontName][<span class="stringliteral">&#39;IsFixedPitch&#39;</span>]==<span class="stringliteral">&#39;true&#39;</span>){ $flags+=1; }
        $flags+=pow(2,5); <span class="comment">// assume non-sybolic</span>

        $list = array(<span class="stringliteral">&#39;Ascent&#39;</span>=&gt;<span class="stringliteral">&#39;Ascender&#39;</span>,<span class="stringliteral">&#39;CapHeight&#39;</span>=&gt;<span class="stringliteral">&#39;CapHeight&#39;</span>,<span class="stringliteral">&#39;Descent&#39;</span>=&gt;<span class="stringliteral">&#39;Descender&#39;</span>,<span class="stringliteral">&#39;FontBBox&#39;</span>=&gt;<span class="stringliteral">&#39;FontBBox&#39;</span>,<span class="stringliteral">&#39;ItalicAngle&#39;</span>=&gt;<span class="stringliteral">&#39;ItalicAngle&#39;</span>);
        $fdopt = array(
         <span class="stringliteral">&#39;Flags&#39;</span>=&gt;$flags
         ,<span class="stringliteral">&#39;FontName&#39;</span>=&gt;$adobeFontName
         ,<span class="stringliteral">&#39;StemV&#39;</span>=&gt;100  <span class="comment">// don&#39;t know what the value for this should be!</span>
        );
        <span class="keywordflow">foreach</span>($list as $k=&gt;$v){
          <span class="keywordflow">if</span> (isset($this-&gt;fonts[$fontName][$v])){
            $fdopt[$k]=$this-&gt;fonts[$fontName][$v];
          }
        }

        <span class="keywordflow">if</span> ($fbtype==<span class="stringliteral">&#39;pfb&#39;</span>){
          $fdopt[<span class="stringliteral">&#39;FontFile&#39;</span>]=$pfbid;
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($fbtype==<span class="stringliteral">&#39;ttf&#39;</span>){
          $fdopt[<span class="stringliteral">&#39;FontFile2&#39;</span>]=$pfbid;
        }
        $this-&gt;<a class="code" href="class_cpdf.html#ab2907958d0d7da9764c61510b32a3e76">o_fontDescriptor</a>($fontDescriptorId,<span class="stringliteral">&#39;new&#39;</span>,$fdopt);        

        <span class="comment">// embed the font program</span>
        $this-&gt;<a class="code" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>);
        $this-&gt;objects[$pfbid][<span class="charliteral">&#39;c&#39;</span>].=<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>;
        <span class="comment">// determine the cruicial lengths within this file</span>
        <span class="keywordflow">if</span> ($fbtype==<span class="stringliteral">&#39;pfb&#39;</span>){
          $l1 = strpos(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,<span class="stringliteral">&#39;eexec&#39;</span>)+6;
          $l2 = strpos(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>,<span class="stringliteral">&#39;00000000&#39;</span>)-$l1;
          $l3 = strlen(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>)-$l2-$l1;
          $this-&gt;<a class="code" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a>($this-&gt;numObj,<span class="stringliteral">&#39;add&#39;</span>,array(<span class="stringliteral">&#39;Length1&#39;</span>=&gt;$l1,<span class="stringliteral">&#39;Length2&#39;</span>=&gt;$l2,<span class="stringliteral">&#39;Length3&#39;</span>=&gt;$l3));
        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ($fbtype==<span class="stringliteral">&#39;ttf&#39;</span>){
          $l1 = strlen(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>);
          $this-&gt;<a class="code" href="class_cpdf.html#ac8729d6b851615394c82bda391f37adb">o_contents</a>($this-&gt;numObj,<span class="stringliteral">&#39;add&#39;</span>,array(<span class="stringliteral">&#39;Length1&#39;</span>=&gt;$l1));
        }


        <span class="comment">// tell the font object about all this new stuff</span>
        $tmp = array(<span class="stringliteral">&#39;BaseFont&#39;</span>=&gt;$adobeFontName,<span class="stringliteral">&#39;Widths&#39;</span>=&gt;$widthid
                                      ,<span class="stringliteral">&#39;FirstChar&#39;</span>=&gt;$firstChar,<span class="stringliteral">&#39;LastChar&#39;</span>=&gt;$lastChar
                                      ,<span class="stringliteral">&#39;FontDescriptor&#39;</span>=&gt;$fontDescriptorId);
        <span class="keywordflow">if</span> ($fbtype==<span class="stringliteral">&#39;ttf&#39;</span>){
          $tmp[<span class="stringliteral">&#39;SubType&#39;</span>]=<span class="stringliteral">&#39;TrueType&#39;</span>;
        }
        $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;adding extra info to font.(&#39;</span>.$fontObj.<span class="charliteral">&#39;)&#39;</span>);
        <span class="keywordflow">foreach</span>($tmp as $fk=&gt;$fv){
          $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>($fk.<span class="stringliteral">&quot; : &quot;</span>.$fv);
        }
        $this-&gt;<a class="code" href="class_cpdf.html#a607aaa24e2d8b46f8c387d0d5144cd9a">o_font</a>($fontObj,<span class="stringliteral">&#39;add&#39;</span>,$tmp);

      } <span class="keywordflow">else</span> {
        $this-&gt;<a class="code" href="class_cpdf.html#a0fe60161c19f81f49f76a2dcb95d48e4">addMessage</a>(<span class="stringliteral">&#39;selectFont: pfb or ttf file not found, ok if this is one of the 14 standard fonts&#39;</span>);
      }


      <span class="comment">// also set the differences here, note that this means that these will take effect only the </span>
      <span class="comment">//first time that a font is selected, else they are ignored</span>
      <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;differences&#39;</span>])){
        $this-&gt;fonts[$fontName][<span class="stringliteral">&#39;differences&#39;</span>]=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;differences&#39;</span>];
      }
    }
  }
  <span class="keywordflow">if</span> ($set &amp;&amp; isset($this-&gt;fonts[$fontName])){
    <span class="comment">// so if for some reason the font was not set in the last one then it will not be selected</span>
    $this-&gt;currentBaseFont=$fontName;
    <span class="comment">// the next line means that if a new font is selected, then the current text state will be</span>
    <span class="comment">// applied to it as well.</span>
    $this-&gt;<a class="code" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a>();
  }
  <span class="keywordflow">return</span> $this-&gt;currentFontNum;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ad6873769b1aeb31e7acbc3be3de671a5"></a><!-- doxytag: member="Cpdf::setColor" ref="ad6873769b1aeb31e7acbc3be3de671a5" args="($r, $g, $b, $force=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ad6873769b1aeb31e7acbc3be3de671a5">setColor</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>force</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>sets the colour for fill operations </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01658">1658</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
  <span class="keywordflow">if</span> ($r&gt;=0 &amp;&amp; ($force || $r!=$this-&gt;currentColour[<span class="charliteral">&#39;r&#39;</span>] || $g!=$this-&gt;currentColour[<span class="charliteral">&#39;g&#39;</span>] || $b!=$this-&gt;currentColour[<span class="charliteral">&#39;b&#39;</span>])){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$r).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$g).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$b).<span class="stringliteral">&#39; rg&#39;</span>;
    $this-&gt;currentColour=array(<span class="charliteral">&#39;r&#39;</span>=&gt;$r,<span class="charliteral">&#39;g&#39;</span>=&gt;$g,<span class="charliteral">&#39;b&#39;</span>=&gt;$b);
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7c32053581b4a1c223a8c924bdd888d6"></a><!-- doxytag: member="Cpdf::setCurrentFont" ref="a7c32053581b4a1c223a8c924bdd888d6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a7c32053581b4a1c223a8c924bdd888d6">setCurrentFont</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>sets up the current font, based on the font families, and the current text state note that this system is quite flexible, a &lt;<b>&gt;&lt;<em>&gt; font can be completely different to a &lt;<em>&gt;&lt;<b>&gt; font, and even &lt;<b>&gt;&lt;<b>&gt; will have to be defined within the family to have meaning This function is to be called whenever the currentTextState is changed, it will update the currentFont setting to whatever the appropriatte family one is. If the user calls selectFont themselves then that will reset the currentBaseFont, and the currentFont This function will change the currentFont to whatever it should be, but will not change the currentBaseFont.</b></b></b></em></em></b></p>
<p><b><em><em><b><b><b>  private </b></b></b></em></em></b></p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01614">1614</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                         {
  <span class="keywordflow">if</span> (strlen($this-&gt;currentBaseFont)==0){
    <span class="comment">// then assume an initial font</span>
    $this-&gt;<a class="code" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a>(<span class="stringliteral">&#39;./fonts/Helvetica.afm&#39;</span>);
  }
  $cf = substr($this-&gt;currentBaseFont,strrpos($this-&gt;currentBaseFont,<span class="charliteral">&#39;/&#39;</span>)+1);
  <span class="keywordflow">if</span> (strlen($this-&gt;currentTextState)
    &amp;&amp; isset($this-&gt;fontFamilies[$cf]) 
      &amp;&amp; isset($this-&gt;fontFamilies[$cf][$this-&gt;currentTextState])){
    <span class="comment">// then we are in some state or another</span>
    <span class="comment">// and this font has a family, and the current setting exists within it</span>
    <span class="comment">// select the font, then return it</span>
    $nf = substr($this-&gt;currentBaseFont,0,strrpos($this-&gt;currentBaseFont,<span class="charliteral">&#39;/&#39;</span>)+1).$this-&gt;fontFamilies[$cf][$this-&gt;currentTextState];
    $this-&gt;<a class="code" href="class_cpdf.html#a51b2f9f1095c23b3b75a8f7bf4a04533">selectFont</a>($nf,<span class="stringliteral">&#39;&#39;</span>,0);
    $this-&gt;currentFont = $nf;
    $this-&gt;currentFontNum = $this-&gt;fonts[$nf][<span class="stringliteral">&#39;fontNum&#39;</span>];
  } <span class="keywordflow">else</span> {
    <span class="comment">// the this font must not have the right family member for the current state</span>
    <span class="comment">// simply assume the base font</span>
    $this-&gt;currentFont = $this-&gt;currentBaseFont;
    $this-&gt;currentFontNum = $this-&gt;fonts[$this-&gt;currentFont][<span class="stringliteral">&#39;fontNum&#39;</span>];    
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2449e87b218d05a506d4ca97fdb6d13a"></a><!-- doxytag: member="Cpdf::setEncryption" ref="a2449e87b218d05a506d4ca97fdb6d13a" args="($userPass='', $ownerPass='', $pc=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a2449e87b218d05a506d4ca97fdb6d13a">setEncryption</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>userPass</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>ownerPass</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>pc</em> = <code>array()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>set the encryption of the document can be used to turn it on and/or set the passwords which it will have. also the functions that the user will have are set here, such as print, modify, add </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01187">1187</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
  $p=bindec(11000000);

  <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a> = array(
     <span class="stringliteral">&#39;print&#39;</span>=&gt;4
    ,<span class="stringliteral">&#39;modify&#39;</span>=&gt;8
    ,<span class="stringliteral">&#39;copy&#39;</span>=&gt;16
    ,<span class="stringliteral">&#39;add&#39;</span>=&gt;32
  );
  <span class="keywordflow">foreach</span>($pc as $k=&gt;$v){
    <span class="keywordflow">if</span> ($v &amp;&amp; isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[$k])){
      $p+=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[$k];
    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[$v])){
      $p+=<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[$v];
    }
  }
  <span class="comment">// implement encryption on the document</span>
  <span class="keywordflow">if</span> ($this-&gt;arc4_objnum == 0){
    <span class="comment">// then the block does not exist already, add it.</span>
    $this-&gt;numObj++;
    <span class="keywordflow">if</span> (strlen($ownerPass)==0){
      $ownerPass=$userPass;
    }
    $this-&gt;<a class="code" href="class_cpdf.html#af77067434721b4808184e6d7793fa85c">o_encryption</a>($this-&gt;numObj,<span class="stringliteral">&#39;new&#39;</span>,array(<span class="stringliteral">&#39;user&#39;</span>=&gt;$userPass,<span class="stringliteral">&#39;owner&#39;</span>=&gt;$ownerPass,<span class="charliteral">&#39;p&#39;</span>=&gt;$p));
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a5ddaeab8f233dcdc13d1f3f13fa53367"></a><!-- doxytag: member="Cpdf::setFontFamily" ref="a5ddaeab8f233dcdc13d1f3f13fa53367" args="($family, $options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a5ddaeab8f233dcdc13d1f3f13fa53367">setFontFamily</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>family</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>define font families, this is used to initialize the font families for the default fonts and for the user to add new ones for their fonts. The default bahavious can be overridden should that be desired. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02988">2988</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
  <span class="keywordflow">if</span> (!is_array(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>)){
    <span class="keywordflow">if</span> ($family==<span class="stringliteral">&#39;init&#39;</span>){
      <span class="comment">// set the known family groups</span>
      <span class="comment">// these font families will be used to enable bold and italic markers to be included</span>
      <span class="comment">// within text streams. html forms will be used... &lt;b&gt;&lt;/b&gt; &lt;i&gt;&lt;/i&gt;</span>
      $this-&gt;fontFamilies[<span class="stringliteral">&#39;Helvetica.afm&#39;</span>]=array(
         <span class="charliteral">&#39;b&#39;</span>=&gt;<span class="stringliteral">&#39;Helvetica-Bold.afm&#39;</span>
        ,<span class="charliteral">&#39;i&#39;</span>=&gt;<span class="stringliteral">&#39;Helvetica-Oblique.afm&#39;</span>
        ,<span class="stringliteral">&#39;bi&#39;</span>=&gt;<span class="stringliteral">&#39;Helvetica-BoldOblique.afm&#39;</span>
        ,<span class="stringliteral">&#39;ib&#39;</span>=&gt;<span class="stringliteral">&#39;Helvetica-BoldOblique.afm&#39;</span>
      );
      $this-&gt;fontFamilies[<span class="stringliteral">&#39;Courier.afm&#39;</span>]=array(
         <span class="charliteral">&#39;b&#39;</span>=&gt;<span class="stringliteral">&#39;Courier-Bold.afm&#39;</span>
        ,<span class="charliteral">&#39;i&#39;</span>=&gt;<span class="stringliteral">&#39;Courier-Oblique.afm&#39;</span>
        ,<span class="stringliteral">&#39;bi&#39;</span>=&gt;<span class="stringliteral">&#39;Courier-BoldOblique.afm&#39;</span>
        ,<span class="stringliteral">&#39;ib&#39;</span>=&gt;<span class="stringliteral">&#39;Courier-BoldOblique.afm&#39;</span>
      );
      $this-&gt;fontFamilies[<span class="stringliteral">&#39;Times-Roman.afm&#39;</span>]=array(
         <span class="charliteral">&#39;b&#39;</span>=&gt;<span class="stringliteral">&#39;Times-Bold.afm&#39;</span>
        ,<span class="charliteral">&#39;i&#39;</span>=&gt;<span class="stringliteral">&#39;Times-Italic.afm&#39;</span>
        ,<span class="stringliteral">&#39;bi&#39;</span>=&gt;<span class="stringliteral">&#39;Times-BoldItalic.afm&#39;</span>
        ,<span class="stringliteral">&#39;ib&#39;</span>=&gt;<span class="stringliteral">&#39;Times-BoldItalic.afm&#39;</span>
      );
    }
  } <span class="keywordflow">else</span> {
    <span class="comment">// the user is trying to set a font family</span>
    <span class="comment">// note that this can also be used to set the base ones to something else</span>
    <span class="keywordflow">if</span> (strlen($family)){
      $this-&gt;fontFamilies[$family] = <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>;
    }
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8e3b86cfcb5e8d0ad44fa5196f40a6b1"></a><!-- doxytag: member="Cpdf::setLineStyle" ref="a8e3b86cfcb5e8d0ad44fa5196f40a6b1" args="($width=1, $cap='', $join='', $dash='', $phase=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a8e3b86cfcb5e8d0ad44fa5196f40a6b1">setLineStyle</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>width</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>cap</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>join</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dash</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>phase</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this sets the line drawing style. width, is the thickness of the line in user units cap is the type of cap to put on the line, values can be 'butt','round','square' where the diffference between 'square' and 'butt' is that 'square' projects a flat end past the end of the line. join can be 'miter', 'round', 'bevel' dash is an array which sets the dash pattern, is a series of length values, which are the lengths of the on and off dashes. (2) represents 2 on, 2 off, 2 on , 2 off ... (2,1) is 2 on, 1 off, 2 on, 1 off.. etc phase is a modifier on the dash pattern which is used to shift the point at which the pattern starts. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01792">1792</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                  {

  <span class="comment">// this is quite inefficient in that it sets all the parameters whenever 1 is changed, but will fix another day</span>
  $string = <span class="stringliteral">&#39;&#39;</span>;
  <span class="keywordflow">if</span> ($width&gt;0){
    $string.= $width.<span class="stringliteral">&#39; w&#39;</span>;
  }
  $ca = array(<span class="stringliteral">&#39;butt&#39;</span>=&gt;0,<span class="stringliteral">&#39;round&#39;</span>=&gt;1,<span class="stringliteral">&#39;square&#39;</span>=&gt;2);
  <span class="keywordflow">if</span> (isset($ca[$cap])){
    $string.= <span class="charliteral">&#39; &#39;</span>.$ca[$cap].<span class="stringliteral">&#39; J&#39;</span>;
  }
  $ja = array(<span class="stringliteral">&#39;miter&#39;</span>=&gt;0,<span class="stringliteral">&#39;round&#39;</span>=&gt;1,<span class="stringliteral">&#39;bevel&#39;</span>=&gt;2);
  <span class="keywordflow">if</span> (isset($ja[$join])){
    $string.= <span class="charliteral">&#39; &#39;</span>.$ja[$join].<span class="stringliteral">&#39; j&#39;</span>;
  }
  <span class="keywordflow">if</span> (is_array($dash)){
    $string.= <span class="stringliteral">&#39; [&#39;</span>;
    <span class="keywordflow">foreach</span> ($dash as $len){
      $string.=<span class="charliteral">&#39; &#39;</span>.$len;
    }
    $string.= <span class="stringliteral">&#39; ] &#39;</span>.$phase.<span class="stringliteral">&#39; d&#39;</span>;
  }
  $this-&gt;currentLineStyle = $string;
  $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.$string;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abfa522165e81ef739cd49cf26ffab7ed"></a><!-- doxytag: member="Cpdf::setPreferences" ref="abfa522165e81ef739cd49cf26ffab7ed" args="($label, $value=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#abfa522165e81ef739cd49cf26ffab7ed">setPreferences</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>set the viewer preferences of the document, it is up to the browser to obey these. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02610">2610</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
  <span class="comment">// this will only work if the label is one of the valid ones.</span>
  <span class="keywordflow">if</span> (is_array($label)){
    <span class="keywordflow">foreach</span> ($label as $l=&gt;$v){
      $this-&gt;<a class="code" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a>($this-&gt;catalogId,<span class="stringliteral">&#39;viewerPreferences&#39;</span>,array($l=&gt;$v));
    }
  } <span class="keywordflow">else</span> {
    $this-&gt;<a class="code" href="class_cpdf.html#ad5269fc1648ba039f9ab1d372b89aa55">o_catalog</a>($this-&gt;catalogId,<span class="stringliteral">&#39;viewerPreferences&#39;</span>,array($label=&gt;$value));
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8d3584e9eee400857cd917984d025db4"></a><!-- doxytag: member="Cpdf::setStrokeColor" ref="a8d3584e9eee400857cd917984d025db4" args="($r, $g, $b, $force=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a8d3584e9eee400857cd917984d025db4">setStrokeColor</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>force</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>sets the colour for stroke operations </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01668">1668</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
  <span class="keywordflow">if</span> ($r&gt;=0 &amp;&amp; ($force || $r!=$this-&gt;currentStrokeColour[<span class="charliteral">&#39;r&#39;</span>] || $g!=$this-&gt;currentStrokeColour[<span class="charliteral">&#39;g&#39;</span>] || $b!=$this-&gt;currentStrokeColour[<span class="charliteral">&#39;b&#39;</span>])){
    $this-&gt;objects[$this-&gt;currentContents][<span class="charliteral">&#39;c&#39;</span>].=<span class="stringliteral">&quot;\n&quot;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$r).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$g).<span class="charliteral">&#39; &#39;</span>.sprintf(<span class="stringliteral">&#39;%.3f&#39;</span>,$b).<span class="stringliteral">&#39; RG&#39;</span>;
    $this-&gt;currentStrokeColour=array(<span class="charliteral">&#39;r&#39;</span>=&gt;$r,<span class="charliteral">&#39;g&#39;</span>=&gt;$g,<span class="charliteral">&#39;b&#39;</span>=&gt;$b);
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae592038df692dd6d0cfca2f781e6b0ae"></a><!-- doxytag: member="Cpdf::stopObject" ref="ae592038df692dd6d0cfca2f781e6b0ae" args="($id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#ae592038df692dd6d0cfca2f781e6b0ae">stopObject</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>stop an object from appearing on pages from this point on </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l02536">2536</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                        {
  <span class="comment">// if an object has been appearing on pages up to now, then stop it, this page will</span>
  <span class="comment">// be the last one that could contian it.</span>
  <span class="keywordflow">if</span> (isset($this-&gt;addLooseObjects[$id])){
    $this-&gt;addLooseObjects[$id]=<span class="stringliteral">&#39;&#39;</span>;
  }
}
</pre></div>
</div>
</div>
<a class="anchor" id="a27bdbd15ab2ad7f53187295651b345e7"></a><!-- doxytag: member="Cpdf::stream" ref="a27bdbd15ab2ad7f53187295651b345e7" args="($options='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a27bdbd15ab2ad7f53187295651b345e7">stream</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>''</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>output the pdf code, streaming it to the browser the relevant headers are set so that hopefully the browser will recognise it </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l01902">1902</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                            {
  <span class="comment">// setting the options allows the adjustment of the headers</span>
  <span class="comment">// values at the moment are:</span>
  <span class="comment">// &#39;Content-Disposition&#39;=&gt;&#39;filename&#39;  - sets the filename, though not too sure how well this will </span>
  <span class="comment">//        work as in my trial the browser seems to use the filename of the php file with .pdf on the end</span>
  <span class="comment">// &#39;Accept-Ranges&#39;=&gt;1 or 0 - if this is not set to 1, then this header is not included, off by default</span>
  <span class="comment">//    this header seems to have caused some problems despite tha fact that it is supposed to solve</span>
  <span class="comment">//    them, so I am leaving it off by default.</span>
  <span class="comment">// &#39;compress&#39;=&gt; 1 or 0 - apply content stream compression, this is on (1) by default</span>
  <span class="keywordflow">if</span> (!is_array(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>)){
    <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>=array();
  }
  <span class="keywordflow">if</span> ( isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;compress&#39;</span>]) &amp;&amp; <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;compress&#39;</span>]==0){
    $tmp = $this-&gt;<a class="code" href="class_cpdf.html#aa81bf39d5b682bbccdbf75c269b15729">output</a>(1);
  } <span class="keywordflow">else</span> {
    $tmp = $this-&gt;<a class="code" href="class_cpdf.html#aa81bf39d5b682bbccdbf75c269b15729">output</a>();
  }
  header(<span class="stringliteral">&quot;Content-type: application/pdf&quot;</span>);
  header(<span class="stringliteral">&quot;Content-Length: &quot;</span>.strlen(ltrim($tmp)));
  $fileName = (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;Content-Disposition&#39;</span>])?<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;Content-Disposition&#39;</span>]:<span class="stringliteral">&#39;file.pdf&#39;</span>);
  header(<span class="stringliteral">&quot;Content-Disposition: inline; filename=&quot;</span>.$fileName);
  <span class="keywordflow">if</span> (isset(<a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;Accept-Ranges&#39;</span>]) &amp;&amp; <a class="code" href="class_cpdf.html#a011800c63ece4cbbfa77136a20607023">$options</a>[<span class="stringliteral">&#39;Accept-Ranges&#39;</span>]==1){
    header(<span class="stringliteral">&quot;Accept-Ranges: &quot;</span>.strlen(ltrim($tmp))); 
  }
  <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> ltrim($tmp);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a2b030911f9e13bcb79cf4ec5c7fda100"></a><!-- doxytag: member="Cpdf::transaction" ref="a2b030911f9e13bcb79cf4ec5c7fda100" args="($action)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_cpdf.html#a2b030911f9e13bcb79cf4ec5c7fda100">transaction</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>action</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a few functions which should allow the document to be treated transactionally. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l03032">3032</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>
<div class="fragment"><pre class="fragment">                             {
  <span class="keywordflow">switch</span> ($action){
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;start&#39;</span>:
      <span class="comment">// store all the data away into the checkpoint variable</span>
      <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a> = get_object_vars($this);
      $this-&gt;checkpoint = <a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>;
      unset(<a class="code" href="administration_2lists_2data_8php.html#a6efc15b5a2314dd4b5aaa556a375c6d6">$data</a>);
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;commit&#39;</span>:
      <span class="keywordflow">if</span> (is_array($this-&gt;checkpoint) &amp;&amp; isset($this-&gt;checkpoint[<span class="stringliteral">&#39;checkpoint&#39;</span>])){
        $tmp = $this-&gt;checkpoint[<span class="stringliteral">&#39;checkpoint&#39;</span>];
        $this-&gt;checkpoint = $tmp;
        unset($tmp);
      } <span class="keywordflow">else</span> {
        $this-&gt;checkpoint=<span class="stringliteral">&#39;&#39;</span>;
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;rewind&#39;</span>:
      <span class="comment">// do not destroy the current checkpoint, but move us back to the state then, so that we can try again</span>
      <span class="keywordflow">if</span> (is_array($this-&gt;checkpoint)){
        <span class="comment">// can only abort if were inside a checkpoint</span>
        $tmp = $this-&gt;checkpoint;
        <span class="keywordflow">foreach</span> ($tmp as $k=&gt;$v){
          <span class="keywordflow">if</span> ($k != <span class="stringliteral">&#39;checkpoint&#39;</span>){
            $this-&gt;$k=$v;
          }
        }
        unset($tmp);
      }
      <span class="keywordflow">break</span>;
    <span class="keywordflow">case</span> <span class="stringliteral">&#39;abort&#39;</span>:
      <span class="keywordflow">if</span> (is_array($this-&gt;checkpoint)){
        <span class="comment">// can only abort if were inside a checkpoint</span>
        $tmp = $this-&gt;checkpoint;
        <span class="keywordflow">foreach</span> ($tmp as $k=&gt;$v){
          $this-&gt;$k=$v;
        }
        unset($tmp);
      }
      <span class="keywordflow">break</span>;
  }

}
</pre></div>
</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="a8f094bbb6c6f5db373d4b4e3c4ed0595"></a><!-- doxytag: member="Cpdf::$addLooseObjects" ref="a8f094bbb6c6f5db373d4b4e3c4ed0595" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$addLooseObjects = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>array contains infomation about how the loose objects are to be added to the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00114">114</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a8b0d646c9b1820820ea01f0db2c22339"></a><!-- doxytag: member="Cpdf::$arc4" ref="a8b0d646c9b1820820ea01f0db2c22339" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$arc4 = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the ancryption array for the document encryption is stored here </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00159">159</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a7da30b74291ccb1aa4f0368140a36018"></a><!-- doxytag: member="Cpdf::$arc4_objnum" ref="a7da30b74291ccb1aa4f0368140a36018" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$arc4_objnum = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the object Id of the encryption information </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00163">163</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="abc7c2ac0d93d22f71221e8b60512c860"></a><!-- doxytag: member="Cpdf::$callback" ref="abc7c2ac0d93d22f71221e8b60512c860" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$callback = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>array which forms a stack to keep track of nested callback functions </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00179">179</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab73b03ba4d8210e1551ba6b4277c4735"></a><!-- doxytag: member="Cpdf::$catalogId" ref="ab73b03ba4d8210e1551ba6b4277c4735" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$catalogId</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the objectId (number within the objects array) of the document catalog </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00039">39</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="aeb2b7ad87c29b9898f9f05782a5de508"></a><!-- doxytag: member="Cpdf::$checkpoint" ref="aeb2b7ad87c29b9898f9f05782a5de508" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$checkpoint = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>store the stack for the transaction commands, each item in here is a record of the values of all the variables within the class, so that the user can rollback at will (from each 'start' command) note that this includes the objects array, so these can be large. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00194">194</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="afe5d6644791e89099b37ce806592903a"></a><!-- doxytag: member="Cpdf::$currentBaseFont" ref="afe5d6644791e89099b37ce806592903a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentBaseFont = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the current base font </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00052">52</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9c9591fc5b60e6bc98bc8898232d4844"></a><!-- doxytag: member="Cpdf::$currentColour" ref="a9c9591fc5b60e6bc98bc8898232d4844" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentColour = array('r'=&gt;-1,'g'=&gt;-1,'b'=&gt;-1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>current colour for fill operations, defaults to inactive value, all three components should be between 0 and 1 inclusive when active </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00076">76</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a39303dffdd053136f221e31bb18ccd6b"></a><!-- doxytag: member="Cpdf::$currentContents" ref="a39303dffdd053136f221e31bb18ccd6b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentContents</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>object number of the currently active contents block </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00068">68</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a2d5823c32698fc3761bb1254a0282b5e"></a><!-- doxytag: member="Cpdf::$currentFont" ref="a2d5823c32698fc3761bb1254a0282b5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentFont = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a record of the current font </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00048">48</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a40d5e19fffea92115faffb8a58d5c6d6"></a><!-- doxytag: member="Cpdf::$currentFontNum" ref="a40d5e19fffea92115faffb8a58d5c6d6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentFontNum = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the number of the current font within the font array </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00056">56</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6e74a726b7c21bfd7d927955ae767188"></a><!-- doxytag: member="Cpdf::$currentLineStyle" ref="a6e74a726b7c21bfd7d927955ae767188" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentLineStyle = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>current style that lines are drawn in </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00084">84</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a640e9f9a022022672baf0926e7b079ef"></a><!-- doxytag: member="Cpdf::$currentNode" ref="a640e9f9a022022672baf0926e7b079ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentNode</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00060">60</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="af64cef3e8e7fe1dc79ff3293c12fb4cb"></a><!-- doxytag: member="Cpdf::$currentPage" ref="af64cef3e8e7fe1dc79ff3293c12fb4cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentPage</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>object number of the current page </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00064">64</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9320b72ab89c1d8aeb76a607560f85a7"></a><!-- doxytag: member="Cpdf::$currentStrokeColour" ref="a9320b72ab89c1d8aeb76a607560f85a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentStrokeColour = array('r'=&gt;-1,'g'=&gt;-1,'b'=&gt;-1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>current colour for stroke operations (lines etc.) </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00080">80</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac7a9fec297babb986a440fa02032be15"></a><!-- doxytag: member="Cpdf::$currentTextState" ref="ac7a9fec297babb986a440fa02032be15" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$currentTextState = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>track if the current font is bolded or italicised </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00151">151</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a122da4689a596dd289cea157977eb02c"></a><!-- doxytag: member="Cpdf::$destinations" ref="a122da4689a596dd289cea157977eb02c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$destinations = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>store label-&gt;id pairs for named destinations, these will be used to replace internal links done this way so that destinations can be defined after the location that links to them </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00188">188</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a4ac37790931818c0ac730fa8b4e58760"></a><!-- doxytag: member="Cpdf::$encrypted" ref="a4ac37790931818c0ac730fa8b4e58760" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$encrypted = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>a flag to say if a document is to be encrypted or not </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00171">171</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a730bbd8ecf60f264748611532e4c6f01"></a><!-- doxytag: member="Cpdf::$encryptionKey" ref="a730bbd8ecf60f264748611532e4c6f01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$encryptionKey = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the ancryption key for the encryption of all the document content (structure is not encrypted) </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00175">175</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="aaf05a37af8d9a97b51844158c9f04981"></a><!-- doxytag: member="Cpdf::$fileIdentifier" ref="aaf05a37af8d9a97b51844158c9f04981" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$fileIdentifier = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the file identifier, used to uniquely identify a pdf document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00167">167</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6f59caca64a9cd3619591fde1bfd443f"></a><!-- doxytag: member="Cpdf::$firstPageId" ref="a6f59caca64a9cd3619591fde1bfd443f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$firstPageId</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the objectId of the first page of the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00132">132</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a3632d1cfb98c70776f2bf64fefeb1292"></a><!-- doxytag: member="Cpdf::$fontFamilies" ref="a3632d1cfb98c70776f2bf64fefeb1292" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$fontFamilies = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>store the information about the relationship between font families this used so that the code knows which font is the bold version of another font, etc. the value of this array is initialised in the constuctor function. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00147">147</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac330cfe6dbddd6c5d814439f97fbaf69"></a><!-- doxytag: member="Cpdf::$fonts" ref="ac330cfe6dbddd6c5d814439f97fbaf69" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$fonts = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>array carrying information about the fonts that the system currently knows about used to ensure that a font is not loaded twice, among other things </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00044">44</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="ae60fb73fb55ea5cf46351c519f2e16fd"></a><!-- doxytag: member="Cpdf::$infoObject" ref="ae60fb73fb55ea5cf46351c519f2e16fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$infoObject = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the objectId of the information object for the document this contains authorship, title etc. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00119">119</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="aedb3e9d19ff1ebfaa5added699a9671d"></a><!-- doxytag: member="Cpdf::$looseObjects" ref="aedb3e9d19ff1ebfaa5added699a9671d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$looseObjects = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>an array which contains information about the objects which are not firmly attached to pages these have been added with the addObject function </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00110">110</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a21a183f927a6d243fe6b4ba3a6c4d4c8"></a><!-- doxytag: member="Cpdf::$messages" ref="a21a183f927a6d243fe6b4ba3a6c4d4c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$messages = ''</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>messages are stored here during processing, these can be selected afterwards to give some useful debug information </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00155">155</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a894ee84a4cce4aed0afd68456ef6685d"></a><!-- doxytag: member="Cpdf::$nCallback" ref="a894ee84a4cce4aed0afd68456ef6685d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$nCallback = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the number of callback functions in the callback array </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00183">183</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a9de4b5d2209348f2e4479bdfbaa81c6a"></a><!-- doxytag: member="Cpdf::$nStack" ref="a9de4b5d2209348f2e4479bdfbaa81c6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$nStack = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of elements within the object Id storage stack </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00105">105</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a45de2d60d68c9dcdd4aff475303520f3"></a><!-- doxytag: member="Cpdf::$nStateStack" ref="a45de2d60d68c9dcdd4aff475303520f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$nStateStack = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of elements within the state stack </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00093">93</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a78cfbb4859f40b0d205596bf7542bc10"></a><!-- doxytag: member="Cpdf::$numFonts" ref="a78cfbb4859f40b0d205596bf7542bc10" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$numFonts = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of fonts within the system </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00072">72</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="afa03e46e7e7be49ab81a9a3599af2871"></a><!-- doxytag: member="Cpdf::$numImages" ref="afa03e46e7e7be49ab81a9a3599af2871" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$numImages = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of images being tracked within the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00123">123</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a46f3313956a33faef75586addfc256a3"></a><!-- doxytag: member="Cpdf::$numObj" ref="a46f3313956a33faef75586addfc256a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$numObj = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the current number of pdf objects in the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00031">31</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="ab340b7e706b6bd02b4f70ff942898102"></a><!-- doxytag: member="Cpdf::$numPages" ref="ab340b7e706b6bd02b4f70ff942898102" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$numPages = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>number of page objects within the document </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00097">97</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a255f6b6db4c45b1418e9c15cf4e2bcdd"></a><!-- doxytag: member="Cpdf::$objects" ref="a255f6b6db4c45b1418e9c15cf4e2bcdd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$objects = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>this array contains all of the pdf objects, ready for final assembly </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00035">35</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a011800c63ece4cbbfa77136a20607023"></a><!-- doxytag: member="Cpdf::$options" ref="a011800c63ece4cbbfa77136a20607023" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$options = array('compression'=&gt;1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>an array containing options about the document it defaults to turning on the compression of the objects </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00128">128</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a39e9c2190f8061439c35f7d2a8240318"></a><!-- doxytag: member="Cpdf::$procsetObjectId" ref="a39e9c2190f8061439c35f7d2a8240318" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$procsetObjectId</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>the object Id of the procset object </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00141">141</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a6a0169b26b5301f906b1ec481b3f1eea"></a><!-- doxytag: member="Cpdf::$stack" ref="a6a0169b26b5301f906b1ec481b3f1eea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$stack = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>object Id storage stack </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00101">101</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="af19bb712a3b92c4f0fbcdf1add3f0bdd"></a><!-- doxytag: member="Cpdf::$stateStack" ref="af19bb712a3b92c4f0fbcdf1add3f0bdd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$stateStack = array()</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>an array which is used to save the state of the document, mainly the colours and styles it is used to temporarily change to another state, the change back to what it was before </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00089">89</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<a class="anchor" id="a32de4c103af0783f44fd568d74c6454b"></a><!-- doxytag: member="Cpdf::$wordSpaceAdjust" ref="a32de4c103af0783f44fd568d74c6454b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$wordSpaceAdjust = 0</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>used to track the last used value of the inter-word spacing, this is so that it is known when the spacing is changed. </p>

<p>Definition at line <a class="el" href="class_8pdf_8php_source.html#l00137">137</a> of file <a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/wamp/www/MitosEHR/lib/PhpDocumentor/phpDocumentor/Converters/PDF/default/<a class="el" href="class_8pdf_8php_source.html">class.pdf.php</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="class_cpdf.html">Cpdf</a>      </li>

    <li class="footer">Generated on Mon Feb 6 2012 00:16:25 for MitosEHR by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
