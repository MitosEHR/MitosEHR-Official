<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MitosEHR: C:/wamp/www/MitosEHR/lib/phpThumbs-1.7.9/phpThumb.php File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo_medium.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MitosEHR
   &#160;<span id="projectnumber">Vega v1.0</span>
   </div>
   <div id="projectbrief">Electronic Health Record</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('php_thumb_8php.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">C:/wamp/www/MitosEHR/lib/phpThumbs-1.7.9/phpThumb.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="php_thumb_8php_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>(@$_GET['phpThumbDebug']== '4')&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#ade129c0247821a212c504c942b8b276f">SendSaveAsFileHeaderIfNeeded</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>(@$_GET['phpThumbDebug']== '5')&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#a1046a0a26a07aea6db565bc651ec6e51">RedirectToCachedFile</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>(@ini_get('magic_quotes_runtime'))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#a21d98a10797e2b2d5b826d42a0fc9cbf">$starttime</a> = array_sum(explode(' ', microtime()))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#a1102b627fc78f79861c9271417c605c5">$phpThumb</a> = new phpThumb()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>(@$_GET['phpThumbDebug']== '1')&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#ac4860cc4cf36c1934eaa5362310af460">$parsed_url_referer</a> = <a class="el" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>(@$_SERVER['HTTP_REFERER'])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>($phpThumb-&gt;<br class="typebreak"/>
config_nooffsitelink_require_refer <br class="typebreak"/>
&amp;&amp;!in_array(@$parsed_url_referer['host'], <br class="typebreak"/>
$phpThumb-&gt;<br class="typebreak"/>
config_nohotlink_valid_domains))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#a34e071823656d093df510c217363bb61">$parsed_url_src</a> = <a class="el" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>(@$_GET['src'])</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>(@$_GET['phpThumbDebug']== '2')&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#a173fd7202f9dac3c9d2e2fc80c512940">$PHPTHUMB_DEFAULTS_DISABLEGETPARAMS</a> = (bool) (@$PHPTHUMB_CONFIG['cache_default_only_suffix'] &amp;&amp; (strpos($PHPTHUMB_CONFIG['cache_default_only_suffix'], '*') !== false))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>(!empty($PHPTHUMB_DEFAULTS)&amp;&amp;is_array($PHPTHUMB_DEFAULTS))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#ae43c190c11f16793628da099e45ed3ee">$allowedGETparameters</a> = array('src', 'new', 'w', 'h', 'wp', 'hp', 'wl', 'hl', 'ws', 'hs', 'f', 'q', 'sx', 'sy', 'sw', 'sh', 'zc', 'bc', 'bg', 'bgt', 'fltr', 'xto', 'ra', 'ar', 'aoe', 'far', 'iar', 'maxb', 'down', 'phpThumbDebug', 'hash', 'md5s', 'sfn', 'dpi', 'sia', 'nocache')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a>(@$_GET['phpThumbDebug']== '3')&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="php_thumb_8php.html#a5b2c559ec858186c5929b449bef74811">$CanPassThroughDirectly</a> = true</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a1046a0a26a07aea6db565bc651ec6e51"></a><!-- doxytag: member="phpThumb.php::RedirectToCachedFile" ref="a1046a0a26a07aea6db565bc651ec6e51" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> (@$_GET['phpThumbDebug']== '5') <a class="el" href="php_thumb_8php.html#a1046a0a26a07aea6db565bc651ec6e51">RedirectToCachedFile</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00415">415</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>
<div class="fragment"><pre class="fragment">                                {
        global <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>, $PHPTHUMB_CONFIG;

        $nice_cachefile = str_replace(DIRECTORY_SEPARATOR, <span class="charliteral">&#39;/&#39;</span>, $phpThumb-&gt;cache_filename);
        $nice_docroot   = str_replace(DIRECTORY_SEPARATOR, <span class="charliteral">&#39;/&#39;</span>, rtrim($PHPTHUMB_CONFIG[<span class="stringliteral">&#39;document_root&#39;</span>], <span class="stringliteral">&#39;/\\&#39;</span>));

        $parsed_url = <a class="code" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>(@$_SERVER[<span class="stringliteral">&#39;HTTP_REFERER&#39;</span>]);

        $nModified  = filemtime($phpThumb-&gt;cache_filename);

        <span class="keywordflow">if</span> ($phpThumb-&gt;config_nooffsitelink_enabled &amp;&amp; @$_SERVER[<span class="stringliteral">&#39;HTTP_REFERER&#39;</span>] &amp;&amp; !in_array(@$parsed_url[<span class="stringliteral">&#39;host&#39;</span>], $phpThumb-&gt;config_nooffsitelink_valid_domains)) {

                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Would have used cached (image/&#39;</span>.$phpThumb-&gt;thumbnailFormat.<span class="stringliteral">&#39;) file &quot;&#39;</span>.$phpThumb-&gt;cache_filename.<span class="stringliteral">&#39;&quot; (Last-Modified: &#39;</span>.gmdate(<span class="stringliteral">&#39;D, d M Y H:i:s&#39;</span>, $nModified).<span class="stringliteral">&#39; GMT), but skipping because $_SERVER[HTTP_REFERER] (&#39;</span>.@$_SERVER[<span class="stringliteral">&#39;HTTP_REFERER&#39;</span>].<span class="stringliteral">&#39;) is not in $phpThumb-&gt;config_nooffsitelink_valid_domains (&#39;</span>.implode(<span class="charliteral">&#39;;&#39;</span>, $phpThumb-&gt;config_nooffsitelink_valid_domains).<span class="charliteral">&#39;)&#39;</span>, __FILE__, __LINE__);

        } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($phpThumb-&gt;phpThumbDebug) {

                $phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;skipped using cached image&#39;</span>, __FILE__, __LINE__);
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Would have used cached file, but skipping due to phpThumbDebug&#39;</span>, __FILE__, __LINE__);
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;* Would have sent headers (1): Last-Modified: &#39;</span>.gmdate(<span class="stringliteral">&#39;D, d M Y H:i:s&#39;</span>, $nModified).<span class="stringliteral">&#39; GMT&#39;</span>, __FILE__, __LINE__);
                <span class="keywordflow">if</span> ($getimagesize = @GetImageSize($phpThumb-&gt;cache_filename)) {
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;* Would have sent headers (2): Content-Type: &#39;</span>.<a class="code" href="classphpthumb__functions.html#af58958c94226ace6fd0facaf44a3cd6d">phpthumb_functions::ImageTypeToMIMEtype</a>($getimagesize[2]), __FILE__, __LINE__);
                }
                <span class="keywordflow">if</span> (ereg(<span class="charliteral">&#39;^&#39;</span>.preg_quote($nice_docroot).<span class="stringliteral">&#39;(.*)$&#39;</span>, $nice_cachefile, $matches)) {
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;* Would have sent headers (3): Location: &#39;</span>.dirname($matches[1]).<span class="charliteral">&#39;/&#39;</span>.urlencode(basename($matches[1])), __FILE__, __LINE__);
                } <span class="keywordflow">else</span> {
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;* Would have sent data: readfile(&#39;</span>.$phpThumb-&gt;cache_filename.<span class="charliteral">&#39;)&#39;</span>, __FILE__, __LINE__);
                }

        } <span class="keywordflow">else</span> {

                <span class="keywordflow">if</span> (headers_sent()) {
                        $phpThumb-&gt;ErrorImage(<span class="stringliteral">&#39;Headers already sent (&#39;</span>.basename(__FILE__).<span class="stringliteral">&#39; line &#39;</span>.__LINE__.<span class="charliteral">&#39;)&#39;</span>);
                        <a class="code" href="lib_2php_thumbs-1_87_89_2cache_2index_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a>;
                }
                <a class="code" href="php_thumb_8php.html#ade129c0247821a212c504c942b8b276f">SendSaveAsFileHeaderIfNeeded</a>();

                header(<span class="stringliteral">&#39;Last-Modified: &#39;</span>.gmdate(<span class="stringliteral">&#39;D, d M Y H:i:s&#39;</span>, $nModified).<span class="stringliteral">&#39; GMT&#39;</span>);
                <span class="keywordflow">if</span> (@$_SERVER[<span class="stringliteral">&#39;HTTP_IF_MODIFIED_SINCE&#39;</span>] &amp;&amp; ($nModified == strtotime($_SERVER[<span class="stringliteral">&#39;HTTP_IF_MODIFIED_SINCE&#39;</span>])) &amp;&amp; @$_SERVER[<span class="stringliteral">&#39;SERVER_PROTOCOL&#39;</span>]) {
                        header($_SERVER[<span class="stringliteral">&#39;SERVER_PROTOCOL&#39;</span>].<span class="stringliteral">&#39; 304 Not Modified&#39;</span>);
                        <a class="code" href="lib_2php_thumbs-1_87_89_2cache_2index_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a>;
                }

                <span class="keywordflow">if</span> ($getimagesize = @GetImageSize($phpThumb-&gt;cache_filename)) {
                        header(<span class="stringliteral">&#39;Content-Type: &#39;</span>.<a class="code" href="classphpthumb__functions.html#af58958c94226ace6fd0facaf44a3cd6d">phpthumb_functions::ImageTypeToMIMEtype</a>($getimagesize[2]));
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (eregi(<span class="stringliteral">&#39;\.ico$&#39;</span>, $phpThumb-&gt;cache_filename)) {
                        header(<span class="stringliteral">&#39;Content-Type: image/x-icon&#39;</span>);
                }
                <span class="keywordflow">if</span> (!@$PHPTHUMB_CONFIG[<span class="stringliteral">&#39;cache_force_passthru&#39;</span>] &amp;&amp; ereg(<span class="charliteral">&#39;^&#39;</span>.preg_quote($nice_docroot).<span class="stringliteral">&#39;(.*)$&#39;</span>, $nice_cachefile, $matches)) {
                        header(<span class="stringliteral">&#39;Location: &#39;</span>.dirname($matches[1]).<span class="charliteral">&#39;/&#39;</span>.urlencode(basename($matches[1])));
                } <span class="keywordflow">else</span> {
                        @readfile($phpThumb-&gt;cache_filename);
                }
                <a class="code" href="lib_2php_thumbs-1_87_89_2cache_2index_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a>;

        }
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}

<span class="comment">// check to see if file already exists in cache, and output it with no processing if it does</span>
$phpThumb-&gt;SetCacheFilename();
<span class="keywordflow">if</span> (@is_file($phpThumb-&gt;cache_filename)) {
        <a class="code" href="php_thumb_8php.html#a1046a0a26a07aea6db565bc651ec6e51">RedirectToCachedFile</a>();
} <span class="keywordflow">else</span> {
        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Cached file &quot;&#39;</span>.$phpThumb-&gt;cache_filename.<span class="stringliteral">&#39;&quot; does not exist, processing as normal&#39;</span>, __FILE__, __LINE__);
}

<span class="comment">// Debug output, to try and help me diagnose problems</span>
$phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;phpThumbDebug[6]&#39;</span>, __FILE__, __LINE__);
<span class="keywordflow">if</span> (@$_GET[<span class="stringliteral">&#39;phpThumbDebug&#39;</span>] == <span class="charliteral">&#39;6&#39;</span>) {
        $phpThumb-&gt;phpThumbDebug();
}

<span class="keywordflow">if</span> ($phpThumb-&gt;rawImageData) {

        <span class="comment">// great</span>

} <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (@$_GET[<span class="stringliteral">&#39;new&#39;</span>]) {

        <span class="comment">// generate a blank image resource of the specified size/background color/opacity</span>
        <span class="keywordflow">if</span> (($phpThumb-&gt;w &lt;= 0) || ($phpThumb-&gt;h &lt;= 0)) {
                $phpThumb-&gt;ErrorImage(<span class="stringliteral">&#39;&quot;w&quot; and &quot;h&quot; parameters required for &quot;new&quot;&#39;</span>);
        }
        @list($bghexcolor, $opacity) = explode(<span class="charliteral">&#39;|&#39;</span>, $_GET[<span class="stringliteral">&#39;new&#39;</span>]);
        <span class="keywordflow">if</span> (!<a class="code" href="classphpthumb__functions.html#aa88047663adfed917d5fb0bece3913b8">phpthumb_functions::IsHexColor</a>($bghexcolor)) {
                $phpThumb-&gt;ErrorImage(<span class="stringliteral">&#39;BGcolor parameter for &quot;new&quot; is not valid&#39;</span>);
        }
        $opacity = (strlen($opacity) ? $opacity : 100);
        <span class="keywordflow">if</span> ($phpThumb-&gt;gdimg_source = <a class="code" href="classphpthumb__functions.html#a02caac9e703a9c106e3fea3a6215130d">phpthumb_functions::ImageCreateFunction</a>($phpThumb-&gt;w, $phpThumb-&gt;h)) {
                $alpha = (100 - min(100, max(0, $opacity))) * 1.27;
                <span class="keywordflow">if</span> ($alpha) {
                        $phpThumb-&gt;setParameter(<span class="stringliteral">&#39;is_alpha&#39;</span>, <span class="keyword">true</span>);
                        ImageAlphaBlending($phpThumb-&gt;gdimg_source, <span class="keyword">false</span>);
                        ImageSaveAlpha($phpThumb-&gt;gdimg_source, <span class="keyword">true</span>);
                }
                $new_background_color = <a class="code" href="classphpthumb__functions.html#a9a63d0b70df4136de64ab0cd351e7ff3">phpthumb_functions::ImageHexColorAllocate</a>($phpThumb-&gt;gdimg_source, $bghexcolor, <span class="keyword">false</span>, $alpha);
                ImageFilledRectangle($phpThumb-&gt;gdimg_source, 0, 0, $phpThumb-&gt;w, $phpThumb-&gt;h, $new_background_color);
        } <span class="keywordflow">else</span> {
                $phpThumb-&gt;ErrorImage(<span class="stringliteral">&#39;failed to create &quot;new&quot; image (&#39;</span>.$phpThumb-&gt;w.<span class="charliteral">&#39;x&#39;</span>.$phpThumb-&gt;h.<span class="charliteral">&#39;)&#39;</span>);
        }

} <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (!$phpThumb-&gt;src) {

        $phpThumb-&gt;ErrorImage(<span class="stringliteral">&#39;Usage: &#39;</span>.$_SERVER[<span class="stringliteral">&#39;PHP_SELF&#39;</span>].<span class="stringliteral">&#39;?src=/path/and/filename.jpg&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.<span class="stringliteral">&#39;read Usage comments for details&#39;</span>);

} <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (eregi(<span class="stringliteral">&#39;^(f|ht)tp\://&#39;</span>, $phpThumb-&gt;src)) {

        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;$phpThumb-&gt;src (&#39;</span>.$phpThumb-&gt;src.<span class="stringliteral">&#39;) is remote image, attempting to download&#39;</span>, __FILE__, __LINE__);
        <span class="keywordflow">if</span> ($phpThumb-&gt;config_http_user_agent) {
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Setting &quot;user_agent&quot; to &quot;&#39;</span>.$phpThumb-&gt;config_http_user_agent.<span class="charliteral">&#39;&quot;&#39;</span>, __FILE__, __LINE__);
                ini_set(<span class="stringliteral">&#39;user_agent&#39;</span>, $phpThumb-&gt;config_http_user_agent);
        }
        $cleanedupurl = <a class="code" href="classphpthumb__functions.html#a0ee9ff5a7384b1b204b77ad31f4588f3">phpthumb_functions::CleanUpURLencoding</a>($phpThumb-&gt;src);
        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;CleanUpURLencoding(&#39;</span>.$phpThumb-&gt;src.<span class="stringliteral">&#39;) returned &quot;&#39;</span>.$cleanedupurl.<span class="charliteral">&#39;&quot;&#39;</span>, __FILE__, __LINE__);
        $phpThumb-&gt;src = $cleanedupurl;
        unset($cleanedupurl);
        <span class="keywordflow">if</span> ($rawImageData = <a class="code" href="classphpthumb__functions.html#ab3a344937946aa396752b10e457f8d73">phpthumb_functions::SafeURLread</a>($phpThumb-&gt;src, $error, $phpThumb-&gt;config_http_fopen_timeout, $phpThumb-&gt;config_http_follow_redirect)) {
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;SafeURLread(&#39;</span>.$phpThumb-&gt;src.<span class="stringliteral">&#39;) succeeded&#39;</span>.($error ? <span class="stringliteral">&#39; with messsages: &quot;&#39;</span>.$error.<span class="charliteral">&#39;&quot;&#39;</span> : <span class="stringliteral">&#39;&#39;</span>), __FILE__, __LINE__);
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Setting source data from URL &quot;&#39;</span>.$phpThumb-&gt;src.<span class="charliteral">&#39;&quot;&#39;</span>, __FILE__, __LINE__);
                $phpThumb-&gt;setSourceData($rawImageData, urlencode($phpThumb-&gt;src));
        } <span class="keywordflow">else</span> {
                $phpThumb-&gt;ErrorImage($error);
        }
}

<span class="comment">// Debug output, to try and help me diagnose problems</span>
$phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;phpThumbDebug[7]&#39;</span>, __FILE__, __LINE__);
<span class="keywordflow">if</span> (@$_GET[<span class="stringliteral">&#39;phpThumbDebug&#39;</span>] == <span class="charliteral">&#39;7&#39;</span>) {
        $phpThumb-&gt;phpThumbDebug();
}

$phpThumb-&gt;GenerateThumbnail();

<span class="comment">// Debug output, to try and help me diagnose problems</span>
$phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;phpThumbDebug[8]&#39;</span>, __FILE__, __LINE__);
<span class="keywordflow">if</span> (@$_GET[<span class="stringliteral">&#39;phpThumbDebug&#39;</span>] == <span class="charliteral">&#39;8&#39;</span>) {
        $phpThumb-&gt;phpThumbDebug();
}

<span class="keywordflow">if</span> ($phpThumb-&gt;config_allow_parameter_file &amp;&amp; $phpThumb-&gt;file) {

        $phpThumb-&gt;RenderToFile($phpThumb-&gt;ResolveFilenameToAbsolute($phpThumb-&gt;file));
        <span class="keywordflow">if</span> ($phpThumb-&gt;config_allow_parameter_goto &amp;&amp; $phpThumb-&gt;goto &amp;&amp; eregi(<span class="stringliteral">&#39;^(f|ht)tps?://&#39;</span>, $phpThumb-&gt;goto)) {
                <span class="comment">// redirect to another URL after image has been rendered to file</span>
                header(<span class="stringliteral">&#39;Location: &#39;</span>.$phpThumb-&gt;goto);
                <a class="code" href="lib_2php_thumbs-1_87_89_2cache_2index_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a>;
        }

} <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (@$PHPTHUMB_CONFIG[<span class="stringliteral">&#39;high_security_enabled&#39;</span>] &amp;&amp; @$_GET[<span class="stringliteral">&#39;nocache&#39;</span>]) {

        <span class="comment">// cache disabled, don&#39;t write cachefile</span>

} <span class="keywordflow">else</span> {

        <a class="code" href="classphpthumb__functions.html#a224289e3e7fff1ccd097aae04b3ed181">phpthumb_functions::EnsureDirectoryExists</a>(dirname($phpThumb-&gt;cache_filename));
        <span class="keywordflow">if</span> ((file_exists($phpThumb-&gt;cache_filename) &amp;&amp; is_writable($phpThumb-&gt;cache_filename)) || is_writable(dirname($phpThumb-&gt;cache_filename))) {

                $phpThumb-&gt;CleanUpCacheDirectory();
                <span class="keywordflow">if</span> ($phpThumb-&gt;RenderToFile($phpThumb-&gt;cache_filename) &amp;&amp; is_readable($phpThumb-&gt;cache_filename)) {
                        chmod($phpThumb-&gt;cache_filename, 0644);
                        <a class="code" href="php_thumb_8php.html#a1046a0a26a07aea6db565bc651ec6e51">RedirectToCachedFile</a>();
                } <span class="keywordflow">else</span> {
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Failed: RenderToFile(&#39;</span>.$phpThumb-&gt;cache_filename.<span class="charliteral">&#39;)&#39;</span>, __FILE__, __LINE__);
                }

        } <span class="keywordflow">else</span> {

                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Cannot write to $phpThumb-&gt;cache_filename (&#39;</span>.$phpThumb-&gt;cache_filename.<span class="stringliteral">&#39;) because that directory (&#39;</span>.dirname($phpThumb-&gt;cache_filename).<span class="stringliteral">&#39;) is not writable&#39;</span>, __FILE__, __LINE__);

        }

}

<span class="comment">// Debug output, to try and help me diagnose problems</span>
$phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;phpThumbDebug[9]&#39;</span>, __FILE__, __LINE__);
<span class="keywordflow">if</span> (@$_GET[<span class="stringliteral">&#39;phpThumbDebug&#39;</span>] == <span class="charliteral">&#39;9&#39;</span>) {
        $phpThumb-&gt;phpThumbDebug();
}

<span class="keywordflow">if</span> (!$phpThumb-&gt;OutputThumbnail()) {
        $phpThumb-&gt;ErrorImage(<span class="stringliteral">&#39;Error in OutputThumbnail():&#39;</span>.<span class="stringliteral">&quot;\n&quot;</span>.$phpThumb-&gt;debugmessages[(count($phpThumb-&gt;debugmessages) - 1)]);
}

<span class="comment">// Debug output, to try and help me diagnose problems</span>
$phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;phpThumbDebug[10]&#39;</span>, __FILE__, __LINE__);
<span class="keywordflow">if</span> (@$_GET[<span class="stringliteral">&#39;phpThumbDebug&#39;</span>] == <span class="stringliteral">&#39;10&#39;</span>) {
        $phpThumb-&gt;phpThumbDebug();
}
</pre></div>
</div>
</div>
<a class="anchor" id="ade129c0247821a212c504c942b8b276f"></a><!-- doxytag: member="phpThumb.php::SendSaveAsFileHeaderIfNeeded" ref="ade129c0247821a212c504c942b8b276f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> (@$_GET['phpThumbDebug']== '4') <a class="el" href="php_thumb_8php.html#ade129c0247821a212c504c942b8b276f">SendSaveAsFileHeaderIfNeeded</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00317">317</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
        <span class="keywordflow">if</span> (headers_sent()) {
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
        global <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>;
        $downloadfilename = <a class="code" href="classphpthumb__functions.html#a110676c86529253850f744796baeb62d">phpthumb_functions::SanitizeFilename</a>(@$_GET[<span class="stringliteral">&#39;sia&#39;</span>] ? $_GET[<span class="stringliteral">&#39;sia&#39;</span>] : (@$_GET[<span class="stringliteral">&#39;down&#39;</span>] ? $_GET[<span class="stringliteral">&#39;down&#39;</span>] : <span class="stringliteral">&#39;phpThumb_generated_thumbnail&#39;</span>.(@$_GET[<span class="charliteral">&#39;f&#39;</span>] ? $_GET[<span class="charliteral">&#39;f&#39;</span>] : <span class="stringliteral">&#39;jpg&#39;</span>)));
        <span class="keywordflow">if</span> (@$downloadfilename) {
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;SendSaveAsFileHeaderIfNeeded() sending header: Content-Disposition: &#39;</span>.(@$_GET[<span class="stringliteral">&#39;down&#39;</span>] ? <span class="stringliteral">&#39;attachment&#39;</span> : <span class="stringliteral">&#39;inline&#39;</span>).<span class="stringliteral">&#39;; filename=&quot;&#39;</span>.$downloadfilename.<span class="charliteral">&#39;&quot;&#39;</span>, __FILE__, __LINE__);
                header(<span class="stringliteral">&#39;Content-Disposition: &#39;</span>.(@$_GET[<span class="stringliteral">&#39;down&#39;</span>] ? <span class="stringliteral">&#39;attachment&#39;</span> : <span class="stringliteral">&#39;inline&#39;</span>).<span class="stringliteral">&#39;; filename=&quot;&#39;</span>.$downloadfilename.<span class="charliteral">&#39;&quot;&#39;</span>);
        }
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
}

$phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;$CanPassThroughDirectly=&quot;&#39;</span>.intval(<a class="code" href="php_thumb_8php.html#a5b2c559ec858186c5929b449bef74811">$CanPassThroughDirectly</a>).<span class="stringliteral">&#39;&quot; &amp;&amp; $phpThumb-&gt;src=&quot;&#39;</span>.$phpThumb-&gt;src.<span class="charliteral">&#39;&quot;&#39;</span>, __FILE__, __LINE__);
<span class="keywordflow">while</span> (<a class="code" href="php_thumb_8php.html#a5b2c559ec858186c5929b449bef74811">$CanPassThroughDirectly</a> &amp;&amp; $phpThumb-&gt;src) {
        <span class="comment">// no parameters set, passthru</span>

        <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39;^http\://.+\.(jpe?g|gif|png)$&#39;</span>, $phpThumb-&gt;src)) {
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Passing HTTP source through directly as Location: redirect (&#39;</span>.$phpThumb-&gt;src.<span class="charliteral">&#39;)&#39;</span>, __FILE__, __LINE__);
                header(<span class="stringliteral">&#39;Location: &#39;</span>.$phpThumb-&gt;src);
                <a class="code" href="lib_2php_thumbs-1_87_89_2cache_2index_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a>;
        }

        $SourceFilename = $phpThumb-&gt;ResolveFilenameToAbsolute($phpThumb-&gt;src);

        <span class="comment">// security and size checks</span>
        <span class="keywordflow">if</span> ($phpThumb-&gt;getimagesizeinfo = @GetImageSize($SourceFilename)) {
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Direct passthru GetImageSize() returned [w=&#39;</span>.$phpThumb-&gt;getimagesizeinfo[0].<span class="stringliteral">&#39;;h=&#39;</span>.$phpThumb-&gt;getimagesizeinfo[1].<span class="stringliteral">&#39;;t=&#39;</span>.$phpThumb-&gt;getimagesizeinfo[2].<span class="charliteral">&#39;]&#39;</span>, __FILE__, __LINE__);

                <span class="keywordflow">if</span> (!@$_GET[<span class="charliteral">&#39;w&#39;</span>] &amp;&amp; !@$_GET[<span class="stringliteral">&#39;wp&#39;</span>] &amp;&amp; !@$_GET[<span class="stringliteral">&#39;wl&#39;</span>] &amp;&amp; !@$_GET[<span class="stringliteral">&#39;ws&#39;</span>] &amp;&amp; !@$_GET[<span class="charliteral">&#39;h&#39;</span>] &amp;&amp; !@$_GET[<span class="stringliteral">&#39;hp&#39;</span>] &amp;&amp; !@$_GET[<span class="stringliteral">&#39;hl&#39;</span>] &amp;&amp; !@$_GET[<span class="stringliteral">&#39;hs&#39;</span>]) {
                        <span class="comment">// no resizing needed</span>
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Passing &quot;&#39;</span>.$SourceFilename.<span class="stringliteral">&#39;&quot; through directly, no resizing required (&quot;&#39;</span>.$phpThumb-&gt;getimagesizeinfo[0].<span class="stringliteral">&#39;&quot;x&quot;&#39;</span>.$phpThumb-&gt;getimagesizeinfo[1].<span class="stringliteral">&#39;&quot;)&#39;</span>, __FILE__, __LINE__);
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ((($phpThumb-&gt;getimagesizeinfo[0] &lt;= @$_GET[<span class="charliteral">&#39;w&#39;</span>]) || ($phpThumb-&gt;getimagesizeinfo[1] &lt;= @$_GET[<span class="charliteral">&#39;h&#39;</span>])) &amp;&amp; ((@$_GET[<span class="charliteral">&#39;w&#39;</span>] == $phpThumb-&gt;getimagesizeinfo[0]) || (@$_GET[<span class="charliteral">&#39;h&#39;</span>] == $phpThumb-&gt;getimagesizeinfo[1]))) {
                        <span class="comment">// image fits into &#39;w&#39;x&#39;h&#39; box, and at least one dimension matches exactly, therefore no resizing needed</span>
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Passing &quot;&#39;</span>.$SourceFilename.<span class="stringliteral">&#39;&quot; through directly, no resizing required (&quot;&#39;</span>.$phpThumb-&gt;getimagesizeinfo[0].<span class="stringliteral">&#39;&quot;x&quot;&#39;</span>.$phpThumb-&gt;getimagesizeinfo[1].<span class="stringliteral">&#39;&quot; fits inside &quot;&#39;</span>.@$_GET[<span class="charliteral">&#39;w&#39;</span>].<span class="stringliteral">&#39;&quot;x&quot;&#39;</span>.@$_GET[<span class="charliteral">&#39;h&#39;</span>].<span class="stringliteral">&#39;&quot;)&#39;</span>, __FILE__, __LINE__);
                } <span class="keywordflow">else</span> {
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Not passing &quot;&#39;</span>.$SourceFilename.<span class="stringliteral">&#39;&quot; through directly because resizing required (from &quot;&#39;</span>.$phpThumb-&gt;getimagesizeinfo[0].<span class="stringliteral">&#39;&quot;x&quot;&#39;</span>.$phpThumb-&gt;getimagesizeinfo[1].<span class="stringliteral">&#39;&quot; to &quot;&#39;</span>.@$_GET[<span class="charliteral">&#39;w&#39;</span>].<span class="stringliteral">&#39;&quot;x&quot;&#39;</span>.@$_GET[<span class="charliteral">&#39;h&#39;</span>].<span class="stringliteral">&#39;&quot;)&#39;</span>, __FILE__, __LINE__);
                        <span class="keywordflow">break</span>;
                }
                <span class="keywordflow">switch</span> ($phpThumb-&gt;getimagesizeinfo[2]) {
                        <span class="keywordflow">case</span> 1: <span class="comment">// GIF</span>
                        <span class="keywordflow">case</span> 2: <span class="comment">// JPG</span>
                        <span class="keywordflow">case</span> 3: <span class="comment">// PNG</span>
                                <span class="comment">// great, let it through</span>
                                <span class="keywordflow">break</span>;
                        <span class="keywordflow">default</span>:
                                <span class="comment">// browser probably can&#39;t handle format, remangle it to JPEG/PNG/GIF</span>
                                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Not passing &quot;&#39;</span>.$SourceFilename.<span class="stringliteral">&#39;&quot; through directly because $phpThumb-&gt;getimagesizeinfo[2] = &quot;&#39;</span>.$phpThumb-&gt;getimagesizeinfo[2].<span class="charliteral">&#39;&quot;&#39;</span>, __FILE__, __LINE__);
                                <span class="keywordflow">break</span> 2;
                }

                $ImageCreateFunctions = array(1=&gt;<span class="stringliteral">&#39;ImageCreateFromGIF&#39;</span>, 2=&gt;<span class="stringliteral">&#39;ImageCreateFromJPEG&#39;</span>, 3=&gt;<span class="stringliteral">&#39;ImageCreateFromPNG&#39;</span>);
                $theImageCreateFunction = @$ImageCreateFunctions[$phpThumb-&gt;getimagesizeinfo[2]];
                <span class="keywordflow">if</span> ($phpThumb-&gt;config_disable_onlycreateable_passthru || (function_exists($theImageCreateFunction) &amp;&amp; ($dummyImage = @$theImageCreateFunction($SourceFilename)))) {

                        <span class="comment">// great</span>
                        <span class="keywordflow">if</span> (@is_resource($dummyImage)) {
                                unset($dummyImage);
                        }

                        <span class="keywordflow">if</span> (headers_sent()) {
                                $phpThumb-&gt;ErrorImage(<span class="stringliteral">&#39;Headers already sent (&#39;</span>.basename(__FILE__).<span class="stringliteral">&#39; line &#39;</span>.__LINE__.<span class="charliteral">&#39;)&#39;</span>);
                                <a class="code" href="lib_2php_thumbs-1_87_89_2cache_2index_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a>;
                        }
                        <span class="keywordflow">if</span> (@$_GET[<span class="stringliteral">&#39;phpThumbDebug&#39;</span>]) {
                                $phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;skipped direct $SourceFilename passthru&#39;</span>, __FILE__, __LINE__);
                                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Would have passed &quot;&#39;</span>.$SourceFilename.<span class="stringliteral">&#39;&quot; through directly, but skipping due to phpThumbDebug&#39;</span>, __FILE__, __LINE__);
                                <span class="keywordflow">break</span>;
                        }

                        <a class="code" href="php_thumb_8php.html#ade129c0247821a212c504c942b8b276f">SendSaveAsFileHeaderIfNeeded</a>();
                        header(<span class="stringliteral">&#39;Last-Modified: &#39;</span>.gmdate(<span class="stringliteral">&#39;D, d M Y H:i:s&#39;</span>, @filemtime($SourceFilename)).<span class="stringliteral">&#39; GMT&#39;</span>);
                        <span class="keywordflow">if</span> ($contentType = <a class="code" href="classphpthumb__functions.html#af58958c94226ace6fd0facaf44a3cd6d">phpthumb_functions::ImageTypeToMIMEtype</a>(@$phpThumb-&gt;getimagesizeinfo[2])) {
                                header(<span class="stringliteral">&#39;Content-Type: &#39;</span>.$contentType);
                        }
                        @readfile($SourceFilename);
                        <a class="code" href="lib_2php_thumbs-1_87_89_2cache_2index_8php.html#a6733eb5f605d09eaede9845835d71c4e">exit</a>;

                } <span class="keywordflow">else</span> {
                        $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Not passing &quot;&#39;</span>.$SourceFilename.<span class="stringliteral">&#39;&quot; through directly because ($phpThumb-&gt;config_disable_onlycreateable_passthru = &quot;&#39;</span>.$phpThumb-&gt;config_disable_onlycreateable_passthru.<span class="stringliteral">&#39;&quot;) and &#39;</span>.$theImageCreateFunction.<span class="stringliteral">&#39;() failed&#39;</span>, __FILE__, __LINE__);
                        <span class="keywordflow">break</span>;
                }

        } <span class="keywordflow">else</span> {
                $phpThumb-&gt;DebugMessage(<span class="stringliteral">&#39;Not passing &quot;&#39;</span>.$SourceFilename.<span class="stringliteral">&#39;&quot; through directly because GetImageSize() failed&#39;</span>, __FILE__, __LINE__);
                <span class="keywordflow">break</span>;
        }
        <span class="keywordflow">break</span>;
}

<span class="comment">// Debug output, to try and help me diagnose problems</span>
$phpThumb-&gt;DebugTimingMessage(<span class="stringliteral">&#39;phpThumbDebug[5]&#39;</span>, __FILE__, __LINE__);
<span class="keywordflow">if</span> (@$_GET[<span class="stringliteral">&#39;phpThumbDebug&#39;</span>] == <span class="charliteral">&#39;5&#39;</span>) {
        $phpThumb-&gt;phpThumbDebug();
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="ae43c190c11f16793628da099e45ed3ee"></a><!-- doxytag: member="phpThumb.php::$allowedGETparameters" ref="ae43c190c11f16793628da099e45ed3ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> (!empty($PHPTHUMB_DEFAULTS)&amp;&amp;is_array($PHPTHUMB_DEFAULTS)) $allowedGETparameters = array('src', 'new', 'w', 'h', 'wp', 'hp', 'wl', 'hl', 'ws', 'hs', 'f', 'q', 'sx', 'sy', 'sw', 'sh', 'zc', 'bc', 'bg', 'bgt', 'fltr', 'xto', 'ra', 'ar', 'aoe', 'far', 'iar', 'maxb', 'down', 'phpThumbDebug', 'hash', 'md5s', 'sfn', 'dpi', 'sia', 'nocache')</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00232">232</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>

</div>
</div>
<a class="anchor" id="a5b2c559ec858186c5929b449bef74811"></a><!-- doxytag: member="phpThumb.php::$CanPassThroughDirectly" ref="a5b2c559ec858186c5929b449bef74811" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> (@$_GET['phpThumbDebug']== '3') $CanPassThroughDirectly = true</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00266">266</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>

</div>
</div>
<a class="anchor" id="ac4860cc4cf36c1934eaa5362310af460"></a><!-- doxytag: member="phpThumb.php::$parsed_url_referer" ref="ac4860cc4cf36c1934eaa5362310af460" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> (@$_GET['phpThumbDebug']== '1') $parsed_url_referer = <a class="el" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>(@$_SERVER['HTTP_REFERER'])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00172">172</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>

</div>
</div>
<a class="anchor" id="a34e071823656d093df510c217363bb61"></a><!-- doxytag: member="phpThumb.php::$parsed_url_src" ref="a34e071823656d093df510c217363bb61" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> ($phpThumb-&gt;config_nooffsitelink_require_refer &amp;&amp;!in_array(@$parsed_url_referer['host'], $phpThumb-&gt;config_nohotlink_valid_domains)) $parsed_url_src = <a class="el" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>(@$_GET['src'])</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00176">176</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>

</div>
</div>
<a class="anchor" id="a1102b627fc78f79861c9271417c605c5"></a><!-- doxytag: member="phpThumb.php::$phpThumb" ref="a1102b627fc78f79861c9271417c605c5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$phpThumb = new phpThumb()</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00034">34</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>

</div>
</div>
<a class="anchor" id="a173fd7202f9dac3c9d2e2fc80c512940"></a><!-- doxytag: member="phpThumb.php::$PHPTHUMB_DEFAULTS_DISABLEGETPARAMS" ref="a173fd7202f9dac3c9d2e2fc80c512940" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> (@$_GET['phpThumbDebug']== '2') $PHPTHUMB_DEFAULTS_DISABLEGETPARAMS = (bool) (@$PHPTHUMB_CONFIG['cache_default_only_suffix'] &amp;&amp; (strpos($PHPTHUMB_CONFIG['cache_default_only_suffix'], '*') !== false))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00219">219</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>

</div>
</div>
<a class="anchor" id="a21d98a10797e2b2d5b826d42a0fc9cbf"></a><!-- doxytag: member="phpThumb.php::$starttime" ref="a21d98a10797e2b2d5b826d42a0fc9cbf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_setup_8inc_8php.html#ad0184337b31d13763ec8751feff4aabe">if</a> (@ini_get('magic_quotes_runtime')) $starttime = array_sum(explode(' ', microtime()))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="php_thumb_8php_source.html#l00018">18</a> of file <a class="el" href="php_thumb_8php_source.html">phpThumb.php</a>.</p>

</div>
</div>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="php_thumb_8php.html">phpThumb.php</a>      </li>

    <li class="footer">Generated on Mon Feb 6 2012 00:16:23 for MitosEHR by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
