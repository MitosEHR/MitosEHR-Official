<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MitosEHR: C:/wamp/www/MitosEHR/lib/phpThumbs-1.7.9/demo/phpThumb.demo.check.php Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo_medium.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MitosEHR
   &#160;<span id="projectnumber">Vega v1.0</span>
   </div>
   <div id="projectbrief">Electronic Health Record</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('php_thumb_8demo_8check_8php.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">C:/wamp/www/MitosEHR/lib/phpThumbs-1.7.9/demo/phpThumb.demo.check.php</div>  </div>
</div><!--header-->
<div class="contents">
<a href="php_thumb_8demo_8check_8php.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 &lt;?php
<a name="l00004"></a>00004 <span class="comment">//        available at http://phpthumb.sourceforge.net     ///</span>
<a name="l00007"></a>00007 <span class="comment"></span><span class="comment">// phpThumb.demo.check.php                                  //</span>
<a name="l00008"></a>00008 <span class="comment">// James Heinrich &lt;info@silisoftware.com&gt;                   //</span>
<a name="l00009"></a>00009 <span class="comment">//                                                          //</span>
<a name="l00010"></a>00010 <span class="comment">// Configuration analyzer for phpThumb settings and server  //</span>
<a name="l00011"></a>00011 <span class="comment">// settings that may affect phpThumb performance            //</span>
<a name="l00012"></a>00012 <span class="comment">// Live demo is at http://phpthumb.sourceforge.net/demo/    //</span>
<a name="l00013"></a>00013 <span class="comment">//                                                          //</span>
<a name="l00015"></a>00015 <span class="comment"></span>
<a name="l00016"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">00016</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_string&#39;</span>]  = <span class="stringliteral">&#39;unknown&#39;</span>;
<a name="l00017"></a><a class="code" href="php_thumb_8demo_8check_8php.html#ab117303405551f61aec5f0c7e18bd881">00017</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_numeric&#39;</span>] = 0;
<a name="l00018"></a>00018 <span class="comment">//ob_start();</span>
<a name="l00019"></a>00019 <span class="keywordflow">if</span> (!include_once(<span class="stringliteral">&#39;../phpthumb.functions.php&#39;</span>)) {
<a name="l00020"></a>00020         ob_end_flush();
<a name="l00021"></a>00021         die(<span class="stringliteral">&#39;failed to include_once(&quot;../phpthumb.functions.php&quot;)&#39;</span>);
<a name="l00022"></a>00022 }
<a name="l00023"></a>00023 <span class="keywordflow">if</span> (!include_once(<span class="stringliteral">&#39;../phpthumb.class.php&#39;</span>)) {
<a name="l00024"></a>00024         <span class="comment">//ob_end_flush();</span>
<a name="l00025"></a>00025         die(<span class="stringliteral">&#39;failed to include_once(&quot;../phpthumb.class.php&quot;)&#39;</span>);
<a name="l00026"></a>00026 }
<a name="l00027"></a>00027 <span class="comment">//ob_end_clean();</span>
<a name="l00028"></a><a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">00028</a> <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a> = <span class="keyword">new</span> phpThumb();
<a name="l00029"></a>00029 <span class="keywordflow">if</span> (include_once(<span class="stringliteral">&#39;../phpThumb.config.php&#39;</span>)) {
<a name="l00030"></a>00030         <span class="keywordflow">foreach</span> ($PHPTHUMB_CONFIG as $key =&gt; $value) {
<a name="l00031"></a>00031                 $keyname = <span class="stringliteral">&#39;config_&#39;</span>.$key;
<a name="l00032"></a>00032                 <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#ac80ddbce5c268e2e3cef41e39f41c9f9">setParameter</a>($keyname, $value);
<a name="l00033"></a>00033         }
<a name="l00034"></a>00034 }
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_string&#39;</span>]  = <a class="code" href="classphpthumb__functions.html#aaaad487d4c5a61befc88ae061f8a64fe">phpthumb_functions::gd_version</a>(<span class="keyword">true</span>);
<a name="l00037"></a>00037 <a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_numeric&#39;</span>] = <a class="code" href="classphpthumb__functions.html#aaaad487d4c5a61befc88ae061f8a64fe">phpthumb_functions::gd_version</a>(<span class="keyword">false</span>);
<a name="l00038"></a><a class="code" href="php_thumb_8demo_8check_8php.html#ad1f321ab5b4c67d74022713a2273b02c">00038</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;im_version&#39;</span>] = <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#a62b9ce7ae0bbe8bdef4820ba9f60c289">ImageMagickVersion</a>();
<a name="l00039"></a><a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">00039</a> <a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a>                  = gd_info();
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 ?&gt;
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 &lt;!DOCTYPE HTML PUBLIC <span class="stringliteral">&quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot;</span> <span class="stringliteral">&quot;http://www.w3.org/TR/html4/loose.dtd&quot;</span>&gt;
<a name="l00044"></a>00044 &lt;html&gt;
<a name="l00045"></a>00045 &lt;head&gt;
<a name="l00046"></a>00046         &lt;title&gt;phpThumb configuration analyzer&lt;/title&gt;
<a name="l00047"></a>00047         &lt;link rel=<span class="stringliteral">&quot;stylesheet&quot;</span> type=<span class="stringliteral">&quot;text/css&quot;</span> href=<span class="stringliteral">&quot;/style.css&quot;</span> title=<span class="stringliteral">&quot;style sheet&quot;</span>&gt;
<a name="l00048"></a>00048 &lt;/head&gt;
<a name="l00049"></a>00049 &lt;body bgcolor=<span class="stringliteral">&quot;#CCCCCC&quot;</span>&gt;
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 This demo analyzes your settings (phpThumb.config.php and server/PHP) <a class="code" href="php_thumb_8demo_8check_8php.html#a033a4ad9dabb361619d4269baa32c2da">for</a> &lt;<a class="code" href="classa.html">a</a> href=&quot;http:<span class="comment">//phpthumb.sourceforge.net&quot;&gt;&lt;b&gt;phpThumb()&lt;/b&gt;&lt;/a&gt;.&lt;br&gt;</span>
<a name="l00052"></a>00052 &lt;br&gt;
<a name="l00053"></a>00053 &lt;table border=&quot;1&quot;&gt;
<a name="l00054"></a>00054         &lt;tr&gt;&lt;<a class="code" href="file__dialog_8php.html#a4c7354b9bcf8e1c1ff1c0d28b0d4276a">th</a> colspan=&quot;8&quot;&gt;&amp;lt;-- bad . . . . . good --&amp;gt;&lt;/<a class="code" href="file__dialog_8php.html#a4c7354b9bcf8e1c1ff1c0d28b0d4276a">th</a>&gt;&lt;/tr&gt;
<a name="l00055"></a>00055         &lt;tr&gt;
<a name="l00056"></a>00056                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;red&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00057"></a>00057                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;orange&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00058"></a>00058                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;yellow&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00059"></a>00059                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;olive&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00060"></a>00060                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;darkgreen&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00061"></a>00061                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;green&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00062"></a>00062                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;lightgreen&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00063"></a>00063                 &lt;<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a> bgcolor=&quot;lime&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/<a class="code" href="file__dialog_8php.html#a1473726ef73758eecc3291c232d25d3c">td</a>&gt;
<a name="l00064"></a>00064         &lt;/tr&gt;
<a name="l00065"></a>00065 &lt;/table&gt;
<a name="l00066"></a>00066 &lt;table border=&quot;1&quot; cellspacing=&quot;0&quot; cellpadding=&quot;2&quot;&gt;
<a name="l00067"></a>00067 &lt;tr bgcolor=&quot;<span class="preprocessor">#EEEEEE&quot;&gt;&lt;th&gt;Setting&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;Value&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;/tr&gt;</span>
<a name="l00068"></a>00068 <span class="preprocessor"></span>&lt;?php
<a name="l00069"></a>00069 
<a name="l00070"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">00070</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;raw&#39;</span>] = array(
<a name="l00071"></a>00071         <span class="stringliteral">&#39;latest&#39;</span> =&gt; <a class="code" href="classphpthumb__functions.html#ab3a344937946aa396752b10e457f8d73">phpthumb_functions::SafeURLread</a>(<span class="stringliteral">&#39;http://phpthumb.sourceforge.net/?latestversion=1&#39;</span>, $dummy),
<a name="l00072"></a>00072         <span class="stringliteral">&#39;this&#39;</span>   =&gt; <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;phpthumb_version,
<a name="l00073"></a>00073 );
<a name="l00074"></a>00074 <span class="keywordflow">foreach</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;raw&#39;</span>] as $key =&gt; $value) {
<a name="l00075"></a>00075         eregi(<span class="stringliteral">&#39;^([0-9\.]+)\-?(([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2}))?&#39;</span>, $value, $matches);
<a name="l00076"></a>00076         @list($huge, $major, $minor) = @explode(<span class="charliteral">&#39;.&#39;</span>, @$matches[1]);
<a name="l00077"></a>00077         @list($year, $month, $day, $hour, $min) = @$matches[3];
<a name="l00078"></a>00078         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][$key]  = $matches[1];
<a name="l00079"></a>00079         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;huge&#39;</span>][$key]  = $huge;
<a name="l00080"></a>00080         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;major&#39;</span>][$key] = $major;
<a name="l00081"></a>00081         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;minor&#39;</span>][$key] = $minor;
<a name="l00082"></a>00082         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;stamp&#39;</span>][$key] = $matches[2];
<a name="l00083"></a>00083         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;year&#39;</span>][$key]  = $year;
<a name="l00084"></a>00084         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;month&#39;</span>][$key] = $month;
<a name="l00085"></a>00085         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;day&#39;</span>][$key]   = $day;
<a name="l00086"></a>00086         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;hour&#39;</span>][$key]  = $hour;
<a name="l00087"></a>00087         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;min&#39;</span>][$key]   = $min;
<a name="l00088"></a>00088         <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;date&#39;</span>][$key]  = @mktime($hour, $min, 0, $month, $day, $year);
<a name="l00089"></a>00089 }
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a2007a2042e35b0571aa4108c9068e8a9">00091</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a2007a2042e35b0571aa4108c9068e8a9">$downloadlatest</a> = <span class="stringliteral">&#39;Download the latest version from &lt;a href=&quot;http://phpthumb.sourceforge.net&quot;&gt;http://phpthumb.sourceforge.net&lt;/a&gt;&#39;</span>;
<a name="l00092"></a>00092 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th nowrap&gt;Latest phpThumb version:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;&#39;</span>.$versions[<span class="stringliteral">&#39;raw&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>].<span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;&#39;</span>.<a class="code" href="php_thumb_8demo_8check_8php.html#a2007a2042e35b0571aa4108c9068e8a9">$downloadlatest</a>.<span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00093"></a>00093 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th nowrap&gt;This phpThumb version:&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 <span class="keywordflow">if</span> (!<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>]) {
<a name="l00096"></a>00096         <span class="comment">// failed to get latest version number</span>
<a name="l00097"></a>00097         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;white&#39;</span>;
<a name="l00098"></a>00098         $message = <span class="stringliteral">&#39;Latest version unknown.&lt;br&gt;&#39;</span>.$downloadlatest;
<a name="l00099"></a>00099 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][<span class="stringliteral">&#39;this&#39;</span>], <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>], <span class="charliteral">&#39;&gt;&#39;</span>)) {
<a name="l00100"></a>00100         <span class="comment">// new than latest, must be beta version</span>
<a name="l00101"></a>00101         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lightblue&#39;</span>;
<a name="l00102"></a>00102         $message = <span class="stringliteral">&#39;This must be a pre-release beta version. Please report bugs to &lt;a href=&quot;mailto:info@silisoftware.com&quot;&gt;info@silisoftware.com&lt;/a&gt;&#39;</span>;
<a name="l00103"></a>00103 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ((<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>] == <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][<span class="stringliteral">&#39;this&#39;</span>]) &amp;&amp; (<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;stamp&#39;</span>][<span class="stringliteral">&#39;this&#39;</span>] &gt; <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;stamp&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>])) {
<a name="l00104"></a>00104         <span class="comment">// new than latest, must be beta version</span>
<a name="l00105"></a>00105         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lightblue&#39;</span>;
<a name="l00106"></a>00106         $message = <span class="stringliteral">&#39;You must be using a pre-release beta version. Please report bugs to &lt;a href=&quot;mailto:info@silisoftware.com&quot;&gt;info@silisoftware.com&lt;/a&gt;&#39;</span>;
<a name="l00107"></a>00107 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>] == <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;base&#39;</span>][<span class="stringliteral">&#39;this&#39;</span>]) {
<a name="l00108"></a>00108         <span class="comment">// latest version</span>
<a name="l00109"></a>00109         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00110"></a>00110         $message = <span class="stringliteral">&#39;You are using the latest released version.&#39;</span>;
<a name="l00111"></a>00111 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;huge&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>].<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;major&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>] == <a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;huge&#39;</span>][<span class="stringliteral">&#39;this&#39;</span>].<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;major&#39;</span>][<span class="stringliteral">&#39;this&#39;</span>]) {
<a name="l00112"></a>00112         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;olive&#39;</span>;
<a name="l00113"></a>00113         $message = <span class="stringliteral">&#39;One (or more) minor version(s) have been released since this version.&lt;br&gt;&#39;</span>.$downloadlatest;
<a name="l00114"></a>00114 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (floatval(<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;huge&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>].str_pad(<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;major&#39;</span>][<span class="stringliteral">&#39;latest&#39;</span>], 2, <span class="charliteral">&#39;0&#39;</span>, STR_PAD_LEFT)) &lt; floatval(<a class="code" href="php_thumb_8demo_8check_8php.html#a472d5d8f14cb6f160bae44d85d968e10">$versions</a>[<span class="stringliteral">&#39;huge&#39;</span>][<span class="stringliteral">&#39;this&#39;</span>].str_pad($t_major, 2, <span class="charliteral">&#39;0&#39;</span>, STR_PAD_LEFT))) {
<a name="l00115"></a>00115         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;yellow&#39;</span>;
<a name="l00116"></a>00116         $message = <span class="stringliteral">&#39;One (or more) major version(s) have been released since this version, you really should upgrade.&lt;br&gt;&#39;</span>.$downloadlatest;
<a name="l00117"></a>00117 } <span class="keywordflow">else</span> {
<a name="l00118"></a>00118         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00119"></a>00119         $message = <span class="stringliteral">&#39;Fundamental changes have been made since this version.&lt;br&gt;&#39;</span>.$downloadlatest;
<a name="l00120"></a>00120 }
<a name="l00121"></a>00121 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$phpThumb-&gt;phpthumb_version;
<a name="l00122"></a>00122 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;&#39;</span>.$message.<span class="stringliteral">&#39;.&lt;br&gt;&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;phpThumb.config.php:&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00126"></a>00126 <span class="keywordflow">if</span> (file_exists(<span class="stringliteral">&#39;../phpThumb.config.php&#39;</span>) &amp;&amp; !file_exists(<span class="stringliteral">&#39;../phpThumb.config.php.default&#39;</span>)) {
<a name="l00127"></a>00127         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lime&quot;&gt;&quot;phpThumb.config.php&quot; exists and &quot;phpThumb.config.php.default&quot; does not&#39;</span>;
<a name="l00128"></a>00128 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (file_exists(<span class="stringliteral">&#39;../phpThumb.config.php&#39;</span>) &amp;&amp; file_exists(<span class="stringliteral">&#39;../phpThumb.config.php.default&#39;</span>)) {
<a name="l00129"></a>00129         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;yellow&quot;&gt;&quot;phpThumb.config.php&quot; and &quot;phpThumb.config.php.default&quot; both exist&#39;</span>;
<a name="l00130"></a>00130 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (!file_exists(<span class="stringliteral">&#39;../phpThumb.config.php&#39;</span>) &amp;&amp; file_exists(<span class="stringliteral">&#39;../phpThumb.config.php.default&#39;</span>)) {
<a name="l00131"></a>00131         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;yellow&quot;&gt;rename &quot;phpThumb.config.php.default&quot; to &quot;phpThumb.config.php&quot;&#39;</span>;
<a name="l00132"></a>00132 } <span class="keywordflow">else</span> {
<a name="l00133"></a>00133         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;yellow&quot;&gt;&quot;phpThumb.config.php&quot; not found (nor &quot;phpThumb.config.php&quot;)&#39;</span>;
<a name="l00134"></a>00134 }
<a name="l00135"></a>00135 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;&quot;phpThumb.config.php.default&quot; that comes in the distribution must be renamed to &quot;phpThumb.config.php&quot; before phpThumb.php can be used. Avoid having both files present to minimize confusion.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00136"></a>00136 
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;cache directory:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;&#39;</span>;
<a name="l00139"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a7159b2a785ac35a7a04ffea57d616b0c">00139</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a7159b2a785ac35a7a04ffea57d616b0c">$orig_config_cache_directory</a> = <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_cache_directory;
<a name="l00140"></a>00140 <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#aabeb053ae1be8517687e11f68955affd">setCacheDirectory</a>();
<a name="l00141"></a>00141 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(     is_dir(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_cache_directory) ? <span class="stringliteral">&#39;lime;&quot;&gt;exists&#39;</span> : <span class="stringliteral">&#39;red;&quot;&gt;does NOT exist&#39;</span>).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00142"></a>00142 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(is_readable(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_cache_directory) ? <span class="stringliteral">&#39;lime;&quot;&gt;readable&#39;</span> : <span class="stringliteral">&#39;red;&quot;&gt;NOT readable&#39;</span>).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00143"></a>00143 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(is_writable(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_cache_directory) ? <span class="stringliteral">&#39;lime;&quot;&gt;writable&#39;</span> : <span class="stringliteral">&#39;red;&quot;&gt;NOT writable&#39;</span>).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00144"></a>00144 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;Original: &quot;&#39;</span>.htmlentities(<a class="code" href="php_thumb_8demo_8check_8php.html#a7159b2a785ac35a7a04ffea57d616b0c">$orig_config_cache_directory</a>).<span class="stringliteral">&#39;&quot;&lt;br&gt;Resolved: &quot;&#39;</span>.htmlentities(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_cache_directory).<span class="stringliteral">&#39;&quot;&lt;br&gt;Must exist and be both readable and writable by PHP.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00145"></a>00145 
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;cache write test:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;&#39;</span>;
<a name="l00148"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a863670ff2c90a1dc616ebab121dbb296">00148</a> <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;rawImageData = <span class="stringliteral">&#39;phpThumb.demo.check.php_cachetest&#39;</span>;
<a name="l00149"></a>00149 <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#a5a0ad9153330752259ca0e350cc4fa44">SetCacheFilename</a>();
<a name="l00150"></a>00150 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div&gt;&#39;</span>.htmlentities(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename ? implode(<span class="stringliteral">&#39; / &#39;</span>, split(<span class="stringliteral">&#39;[/\\]&#39;</span>, <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename)) : <span class="stringliteral">&#39;NO CACHE FILENAME RESOLVED&#39;</span>).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00151"></a>00151 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div&gt;directory &#39;</span>.(is_dir(dirname(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename)) ? <span class="stringliteral">&#39;exists&#39;</span> : <span class="stringliteral">&#39;does NOT exist&#39;</span>).<span class="stringliteral">&#39; (before EnsureDirectoryExists())&lt;/div&gt;&#39;</span>;
<a name="l00152"></a>00152 <a class="code" href="classphpthumb__functions.html#a224289e3e7fff1ccd097aae04b3ed181">phpthumb_functions::EnsureDirectoryExists</a>(dirname(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename));
<a name="l00153"></a>00153 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(is_dir(dirname(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename)) ? <span class="stringliteral">&#39;lime;&quot;&gt;directory exists&#39;</span> : <span class="stringliteral">&#39;red;&quot;&gt;directory does NOT exist&#39;</span>).<span class="stringliteral">&#39; (after EnsureDirectoryExists())&lt;/div&gt;&#39;</span>;
<a name="l00154"></a>00154 <span class="keywordflow">if</span> ($fp = @fopen(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename, <span class="stringliteral">&#39;wb&#39;</span>)) {
<a name="l00155"></a>00155         fwrite($fp, <span class="stringliteral">&#39;this is a test from &#39;</span>.__FILE__);
<a name="l00156"></a>00156         fclose($fp);
<a name="l00157"></a>00157         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: lime;&quot;&gt;write test succeeded&lt;/div&gt;&#39;</span>;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159         $old_perms = substr(sprintf(<span class="stringliteral">&#39;%o&#39;</span>, fileperms(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename)), -4);
<a name="l00160"></a>00160         @chmod(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename, 0644);
<a name="l00161"></a>00161         clearstatcache();
<a name="l00162"></a>00162         $new_perms = substr(sprintf(<span class="stringliteral">&#39;%o&#39;</span>, fileperms(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename)), -4);
<a name="l00163"></a>00163         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(($new_perms == <span class="stringliteral">&#39;0644&#39;</span>) ? <span class="stringliteral">&#39;lime&#39;</span> : (($new_perms &gt; <span class="stringliteral">&#39;0644&#39;</span>) ? <span class="stringliteral">&#39;orange&#39;</span> : <span class="stringliteral">&#39;red&#39;</span>)).<span class="stringliteral">&#39;;&quot;&gt;chmod($phpThumb-&gt;cache_filename, 0644) from &quot;&#39;</span>.htmlentities($old_perms).<span class="stringliteral">&#39;&quot; resulted in permissions &quot;&#39;</span>.htmlentities($new_perms).<span class="stringliteral">&#39;&quot;&lt;/div&gt;&#39;</span>;
<a name="l00164"></a>00164 
<a name="l00165"></a>00165         <span class="keywordflow">if</span> (@unlink(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;cache_filename)) {
<a name="l00166"></a>00166                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: lime;&quot;&gt;delete test succeeded&lt;/div&gt;&#39;</span>;
<a name="l00167"></a>00167         } <span class="keywordflow">else</span> {
<a name="l00168"></a>00168                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: red;&quot;&gt;delete test FAILED&lt;/div&gt;&#39;</span>;
<a name="l00169"></a>00169         }
<a name="l00170"></a>00170         <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#ac0f2cb8ffb6073b83cdcea5c25b10cbb">CleanUpCacheDirectory</a>();
<a name="l00171"></a>00171 } <span class="keywordflow">else</span> {
<a name="l00172"></a>00172         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: red;&quot;&gt;write test FAILED&lt;/div&gt;&#39;</span>;
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 <span class="comment">//echo &#39;&lt;/th&gt;&lt;td&gt;Original: &quot;&#39;.htmlentities($orig_config_cache_directory).&#39;&quot;&lt;br&gt;Resolved: &quot;&#39;.htmlentities($phpThumb-&gt;config_cache_directory).&#39;&quot;&lt;br&gt;Must exist and be both readable and writable by PHP.&lt;/td&gt;&lt;/tr&gt;&#39;;</span>
<a name="l00175"></a>00175 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;Created and deletes a sample cache file to see if you actually have create/delete permission&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00176"></a>00176 
<a name="l00177"></a>00177 
<a name="l00178"></a>00178 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;temp directory:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;&#39;</span>;
<a name="l00179"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a3d1766c9eb410f75e62121bf57cc7942">00179</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a3d1766c9eb410f75e62121bf57cc7942">$orig_config_temp_directory</a> = <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_temp_directory;
<a name="l00180"></a>00180 <a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#ad1351cd5e7f10718ff06ae752d23349c">phpThumb_tempnam</a>();
<a name="l00181"></a>00181 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(     is_dir(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_temp_directory) ? <span class="stringliteral">&#39;lime;&quot;&gt;exists&#39;</span> : <span class="stringliteral">&#39;red;&quot;&gt;does NOT exist&#39;</span>).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00182"></a>00182 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(is_readable(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_temp_directory) ? <span class="stringliteral">&#39;lime;&quot;&gt;readable&#39;</span> : <span class="stringliteral">&#39;red;&quot;&gt;NOT readable&#39;</span>).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00183"></a>00183 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.(is_writable(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_temp_directory) ? <span class="stringliteral">&#39;lime;&quot;&gt;writable&#39;</span> : <span class="stringliteral">&#39;red;&quot;&gt;NOT writable&#39;</span>).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00184"></a>00184 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;Original: &quot;&#39;</span>.htmlentities(<a class="code" href="php_thumb_8demo_8check_8php.html#a3d1766c9eb410f75e62121bf57cc7942">$orig_config_temp_directory</a>).<span class="stringliteral">&#39;&quot;&lt;br&gt;Resolved: &quot;&#39;</span>.htmlentities(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;config_temp_directory).<span class="stringliteral">&#39;&quot;&lt;br&gt;Must exist and be both readable and writable by PHP.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;PHP version:&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00188"></a>00188 <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;5.0.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
<a name="l00189"></a>00189         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00190"></a>00190 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.4.2&#39;</span>, <span class="charliteral">&#39;=&#39;</span>)) {
<a name="l00191"></a>00191         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;darkgreen&#39;</span>;
<a name="l00192"></a>00192 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.3.3&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
<a name="l00193"></a>00193         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lightgreen&#39;</span>;
<a name="l00194"></a>00194 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.2.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
<a name="l00195"></a>00195         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;green&#39;</span>;
<a name="l00196"></a>00196 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.1.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
<a name="l00197"></a>00197         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;yellow&#39;</span>;
<a name="l00198"></a>00198 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.0.6&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
<a name="l00199"></a>00199         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00200"></a>00200 } <span class="keywordflow">else</span> {
<a name="l00201"></a>00201         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;red&#39;</span>;
<a name="l00202"></a>00202 }
<a name="l00203"></a>00203 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.phpversion();
<a name="l00204"></a>00204 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;PHP5 is ideal (support for numerous built-in filters which are much faster than my code).&lt;br&gt;PHP v4.4.2 contains a bug in fopen over HTTP (phpThumb has a workaround)&lt;br&gt;PHP v4.3.2+ supports ImageSaveAlpha which is required for proper PNG/ICO output.&lt;br&gt;ImageRotate requires PHP v4.3.0+ (but buggy before v4.3.3).&lt;br&gt;EXIF thumbnail extraction requires PHP v4.2.0+.&lt;br&gt;Most things will work back to PHP v4.1.0, and mostly (perhaps buggy) back to v4.0.6, but no guarantees for any version older than that.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;GD version:&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00208"></a>00208 <span class="keywordflow">if</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_numeric&#39;</span>] &gt;= 2) {
<a name="l00209"></a>00209         <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39;bundled&#39;</span>, @<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_string&#39;</span>])) {
<a name="l00210"></a>00210                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00211"></a>00211         } <span class="keywordflow">else</span> {
<a name="l00212"></a>00212                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;yellow&#39;</span>;
<a name="l00213"></a>00213         }
<a name="l00214"></a>00214 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;im_version&#39;</span>]) {
<a name="l00215"></a>00215         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00216"></a>00216 } <span class="keywordflow">else</span> {
<a name="l00217"></a>00217         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;red&#39;</span>;
<a name="l00218"></a>00218 }
<a name="l00219"></a>00219 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.@<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_string&#39;</span>];
<a name="l00220"></a>00220 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;GD2-bundled version is ideal.&lt;br&gt;GD2 (non-bundled) is second choice, but there are a number of bugs in the non-bundled version. ImageRotate is only available in the bundled version of GD2.&lt;br&gt;GD1 will also (mostly) work, at much-reduced image quality and several features disabled. phpThumb can perform most operations with ImageMagick only, even if GD is not available.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00221"></a>00221 
<a name="l00222"></a>00222 
<a name="l00223"></a>00223 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;ImageMagick version:&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00224"></a>00224 <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39; ([0-9]+)/([0-9]+)/([0-9]+) &#39;</span>, <a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;im_version&#39;</span>], $matches)) {
<a name="l00225"></a>00225         list($dummy, $m, <a class="code" href="validator__unit__test_8php.html#a0cf5dd496d9f5ff1edf00d234771dcfe">$d</a>, $y) = $matches;
<a name="l00226"></a>00226         <span class="keywordflow">if</span> ($y &lt; 70) {
<a name="l00227"></a>00227                 $y += 2000;
<a name="l00228"></a>00228         } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($y &lt; 100) {
<a name="l00229"></a>00229                 $y += 1900;
<a name="l00230"></a>00230         }
<a name="l00231"></a>00231         $IMreleaseDate = mktime(12, 0, 0, $m, <a class="code" href="validator__unit__test_8php.html#a0cf5dd496d9f5ff1edf00d234771dcfe">$d</a>, $y);
<a name="l00232"></a>00232         $IMversionAge = (time() - $IMreleaseDate) / 86400;
<a name="l00233"></a>00233 }
<a name="l00234"></a>00234 <span class="keywordflow">if</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;im_version&#39;</span>]) {
<a name="l00235"></a>00235         <span class="keywordflow">if</span> ($IMversionAge &lt; (365 * 1)) {
<a name="l00236"></a>00236                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00237"></a>00237         } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($IMversionAge &lt; (365 * 2)) {
<a name="l00238"></a>00238                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;lightgreen&#39;</span>;
<a name="l00239"></a>00239         } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($IMversionAge &lt; (365 * 3)) {
<a name="l00240"></a>00240                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;green&#39;</span>;
<a name="l00241"></a>00241         } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($IMversionAge &lt; (365 * 4)) {
<a name="l00242"></a>00242                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;darkgreen&#39;</span>;
<a name="l00243"></a>00243         } <span class="keywordflow">else</span> {
<a name="l00244"></a>00244                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;olive&#39;</span>;
<a name="l00245"></a>00245         }
<a name="l00246"></a>00246 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (@<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_string&#39;</span>]) {
<a name="l00247"></a>00247         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00248"></a>00248 } <span class="keywordflow">else</span> {
<a name="l00249"></a>00249         <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;red&#39;</span>;
<a name="l00250"></a>00250 }
<a name="l00251"></a>00251 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&quot;&gt;&quot;&#39;</span>.$phpThumb-&gt;ImageMagickCommandlineBase().<span class="stringliteral">&#39;&quot;&lt;br&gt;&#39;</span>.(<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;im_version&#39;</span>] ? <a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;im_version&#39;</span>] : <span class="stringliteral">&#39;n/a&#39;</span>).(@$IMversionAge ? <span class="stringliteral">&#39;&lt;br&gt;&lt;br&gt;This version of ImageMagick is &#39;</span>.(($IMversionAge &lt; 180) ? number_format($IMversionAge / 30, 2).<span class="stringliteral">&#39; months&#39;</span> : number_format($IMversionAge / 365, 2).<span class="stringliteral">&#39; years&#39;</span>).<span class="stringliteral">&#39; old&lt;br&gt;(see www.imagemagick.org for new versions)&#39;</span> : <span class="stringliteral">&#39;&#39;</span>);
<a name="l00252"></a>00252 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;ImageMagick is faster than GD, can process larger images without PHP memory_limit issues, can resize animated GIFs. phpThumb can perform most operations with ImageMagick only, even if GD is not available.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00253"></a>00253 
<a name="l00254"></a>00254 
<a name="l00255"></a>00255 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;ImageMagick features:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;|&#39;</span>;
<a name="l00256"></a><a class="code" href="php_thumb_8demo_8check_8php.html#ab45b8bde8535f30f866c05e15aa29993">00256</a> <a class="code" href="php_thumb_8demo_8check_8php.html#ab45b8bde8535f30f866c05e15aa29993">$GDfeatures</a>[<span class="stringliteral">&#39;red&#39;</span>]    = array(<span class="stringliteral">&#39;help&#39;</span>, <span class="stringliteral">&#39;thumbnail&#39;</span>, <span class="stringliteral">&#39;resize&#39;</span>, <span class="stringliteral">&#39;crop&#39;</span>, <span class="stringliteral">&#39;repage&#39;</span>, <span class="stringliteral">&#39;coalesce&#39;</span>, <span class="stringliteral">&#39;gravity&#39;</span>, <span class="stringliteral">&#39;background&#39;</span>, <span class="stringliteral">&#39;interlace&#39;</span>, <span class="stringliteral">&#39;flatten&#39;</span>, <span class="stringliteral">&#39;border&#39;</span>, <span class="stringliteral">&#39;bordercolor&#39;</span>, <span class="stringliteral">&#39;dither&#39;</span>, <span class="stringliteral">&#39;quality&#39;</span>);
<a name="l00257"></a><a class="code" href="php_thumb_8demo_8check_8php.html#aa39d69ebc927d9cbbd26707a8142fd74">00257</a> <a class="code" href="php_thumb_8demo_8check_8php.html#ab45b8bde8535f30f866c05e15aa29993">$GDfeatures</a>[<span class="stringliteral">&#39;orange&#39;</span>] = array(<span class="stringliteral">&#39;version&#39;</span>, <span class="stringliteral">&#39;blur&#39;</span>, <span class="stringliteral">&#39;colorize&#39;</span>, <span class="stringliteral">&#39;colors&#39;</span>, <span class="stringliteral">&#39;colorspace&#39;</span>, <span class="stringliteral">&#39;contrast&#39;</span>, <span class="stringliteral">&#39;contrast-stretch&#39;</span>, <span class="stringliteral">&#39;edge&#39;</span>, <span class="stringliteral">&#39;emboss&#39;</span>, <span class="stringliteral">&#39;fill&#39;</span>, <span class="stringliteral">&#39;flip&#39;</span>, <span class="stringliteral">&#39;flop&#39;</span>, <span class="stringliteral">&#39;gamma&#39;</span>, <span class="stringliteral">&#39;gaussian&#39;</span>, <span class="stringliteral">&#39;level&#39;</span>, <span class="stringliteral">&#39;modulate&#39;</span>, <span class="stringliteral">&#39;monochrome&#39;</span>, <span class="stringliteral">&#39;negate&#39;</span>, <span class="stringliteral">&#39;normalize&#39;</span>, <span class="stringliteral">&#39;rotate&#39;</span>, <span class="stringliteral">&#39;sepia-tone&#39;</span>, <span class="stringliteral">&#39;threshold&#39;</span>, <span class="stringliteral">&#39;unsharp&#39;</span>);
<a name="l00258"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a6415d22e6459a27b21ea80a866c72ec1">00258</a> <span class="keywordflow">foreach</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#ab45b8bde8535f30f866c05e15aa29993">$GDfeatures</a> as $missingcolor =&gt; $features) {
<a name="l00259"></a>00259         <span class="keywordflow">foreach</span> ($features as $dummy =&gt; $feature) {
<a name="l00260"></a>00260                 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;| &lt;span style=&quot;background-color: &#39;</span>.($phpThumb-&gt;ImageMagickSwitchAvailable($feature) ? <span class="stringliteral">&#39;lime&#39;</span> : $missingcolor).<span class="stringliteral">&#39;;&quot;&gt;&#39;</span>.htmlentities($feature).<span class="stringliteral">&#39;&lt;/span&gt; |&#39;</span>;
<a name="l00261"></a>00261         }
<a name="l00262"></a>00262 }
<a name="l00263"></a>00263 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;|&lt;/th&gt;&lt;td&gt;All of these parameters may be called by phpThumb, depending on parameters used.  Green means the feature is available; red means a critical feature is missing; orange means an optional filter/feature is missing.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00264"></a>00264 
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;ImageMagick formats:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;&lt;textarea rows=&quot;10&quot; cols=&quot;50&quot; wrap=&quot;off&quot;&gt;&#39;</span>;
<a name="l00267"></a>00267 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> htmlentities(<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#a67d822f0863cd93a7df4fa1c4b2daecd">ImageMagickFormatsList</a>());
<a name="l00268"></a>00268 <a class="code" href="bug-eofquotes_8php.html#ac4fd59c9ee95bff469a7cd55e16f0449">echo</a> <span class="stringliteral">&#39;&lt;/textarea&gt;&lt;/th&gt;&lt;td&gt;ImageMagick can only read/write formats as listed here. You may need to recompile ImageMagick if you need to use a format not listed&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00269"></a>00269 
<a name="l00270"></a>00270 
<a name="l00271"></a>00271 echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;GD features:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;&#39;</span>;
<a name="l00272"></a>00272 <a class="code" href="php_thumb_8demo_8check_8php.html#ab45b8bde8535f30f866c05e15aa29993">$GDfeatures</a>[<span class="stringliteral">&#39;red&#39;</span>]    = array(<span class="stringliteral">&#39;JPG Support&#39;</span>, <span class="stringliteral">&#39;PNG Support&#39;</span>);
<a name="l00273"></a>00273 <a class="code" href="php_thumb_8demo_8check_8php.html#ab45b8bde8535f30f866c05e15aa29993">$GDfeatures</a>[<span class="stringliteral">&#39;orange&#39;</span>] = array(<span class="stringliteral">&#39;GIF Read Support&#39;</span>, <span class="stringliteral">&#39;GIF Create Support&#39;</span>, <span class="stringliteral">&#39;FreeType Support&#39;</span>);
<a name="l00274"></a>00274 <span class="keywordflow">foreach</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#ab45b8bde8535f30f866c05e15aa29993">$GDfeatures</a> as $missingcolor =&gt; $features) {
<a name="l00275"></a>00275         <span class="keywordflow">foreach</span> ($features as $dummy =&gt; $feature) {
<a name="l00276"></a>00276                 echo <span class="stringliteral">&#39;&lt;div style=&quot;background-color: &#39;</span>.($gd_info[$feature] ? <span class="stringliteral">&#39;lime&#39;</span> : $missingcolor).<span class="stringliteral">&#39;;&quot;&gt;&#39;</span>.htmlentities($feature).<span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>;
<a name="l00277"></a>00277         }
<a name="l00278"></a>00278 }
<a name="l00279"></a>00279 echo <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;PNG support is required for watermarks, overlays, calls to ImageMagick and other internal operations.&lt;br&gt;JPG support is obviously quite useful, but ImageMagick can substitute&lt;br&gt;GIF read support can be bypassed with ImageMagick and/or internal GIF routines.&lt;br&gt;GIF create support can be bypassed with ImageMagick (if no filters are applied)&lt;br&gt;FreeType support is needed for TTF overlays.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00280"></a>00280 
<a name="l00281"></a>00281 
<a name="l00282"></a>00282 echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;GD extension &quot;EXIF&quot;&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00283"></a>00283 <span class="keywordflow">if</span> (extension_loaded(<span class="stringliteral">&#39;exif&#39;</span>)) {
<a name="l00284"></a>00284         echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00285"></a><a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">00285</a> } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (@<a class="code" href="php_thumb_8demo_8check_8php.html#a9fc19f5767062100c17dfcd62a18cf40">$ServerInfo</a>[<span class="stringliteral">&#39;gd_string&#39;</span>]) {
<a name="l00286"></a>00286         echo <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00287"></a>00287 }
<a name="l00288"></a>00288 echo <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.(extension_loaded(<span class="stringliteral">&#39;exif&#39;</span>) ? <span class="stringliteral">&#39;TRUE&#39;</span> : <span class="stringliteral">&#39;FALSE&#39;</span>);
<a name="l00289"></a>00289 echo <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;EXIF extension required for auto-rotate images. Also required to extract EXIF thumbnail to use as source if source image is too large for PHP memory_limit and ImageMagick is unavailable.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00290"></a>00290 
<a name="l00291"></a>00291 
<a name="l00292"></a>00292 echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;php_sapi_name()&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00293"></a><a class="code" href="php_thumb_8demo_8check_8php.html#ad475c14b05e96964a42b4c3859f4aff4">00293</a> <a class="code" href="php_thumb_8demo_8check_8php.html#ad475c14b05e96964a42b4c3859f4aff4">$php_sapi_name</a> = strtolower(function_exists(<span class="stringliteral">&#39;php_sapi_name&#39;</span>) ? php_sapi_name() : <span class="stringliteral">&#39;&#39;</span>);
<a name="l00294"></a>00294 <span class="keywordflow">if</span> (!<a class="code" href="php_thumb_8demo_8check_8php.html#ad475c14b05e96964a42b4c3859f4aff4">$php_sapi_name</a> || (eregi(<span class="charliteral">&#39;~&#39;</span>, dirname($_SERVER[<span class="stringliteral">&#39;PHP_SELF&#39;</span>])) &amp;&amp; (<a class="code" href="php_thumb_8demo_8check_8php.html#ad475c14b05e96964a42b4c3859f4aff4">$php_sapi_name</a> != <span class="stringliteral">&#39;apache&#39;</span>))) {
<a name="l00295"></a>00295         echo <span class="stringliteral">&#39;red&#39;</span>;
<a name="l00296"></a>00296 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#ad475c14b05e96964a42b4c3859f4aff4">$php_sapi_name</a> == <span class="stringliteral">&#39;cgi-fcgi&#39;</span>) {
<a name="l00297"></a>00297         echo <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00298"></a>00298 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#ad475c14b05e96964a42b4c3859f4aff4">$php_sapi_name</a> == <span class="stringliteral">&#39;cgi&#39;</span>) {
<a name="l00299"></a>00299         echo <span class="stringliteral">&#39;yellow&#39;</span>;
<a name="l00300"></a>00300 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#ad475c14b05e96964a42b4c3859f4aff4">$php_sapi_name</a> == <span class="stringliteral">&#39;apache&#39;</span>) {
<a name="l00301"></a>00301         echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00302"></a>00302 } <span class="keywordflow">else</span> {
<a name="l00303"></a>00303         echo <span class="stringliteral">&#39;green&#39;</span>;
<a name="l00304"></a>00304 }
<a name="l00305"></a>00305 echo <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$php_sapi_name.<span class="stringliteral">&#39;&lt;/th&gt;&#39;</span>;
<a name="l00306"></a>00306 echo <span class="stringliteral">&#39;&lt;td&gt;SAPI mode preferred to CGI mode. FCGI mode has unconfirmed strange behavior (notably more than one space in &quot;wmt&quot; filter text causes errors). If not working in &quot;apache&quot; (SAPI) mode, &lt;i&gt;apache_lookup_uri()&lt;/i&gt; will not work.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;Server Software&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00310"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a21f2f1ca62b06bd0a188ee2e239db5ff">00310</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a21f2f1ca62b06bd0a188ee2e239db5ff">$server_software</a> = getenv(<span class="stringliteral">&#39;SERVER_SOFTWARE&#39;</span>);
<a name="l00311"></a>00311 <span class="keywordflow">if</span> (!<a class="code" href="php_thumb_8demo_8check_8php.html#a21f2f1ca62b06bd0a188ee2e239db5ff">$server_software</a>) {
<a name="l00312"></a>00312         echo <span class="stringliteral">&#39;red&#39;</span>;
<a name="l00313"></a>00313 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (eregi(<span class="stringliteral">&#39;^Apache/([0-9\.]+)&#39;</span>, <a class="code" href="php_thumb_8demo_8check_8php.html#a21f2f1ca62b06bd0a188ee2e239db5ff">$server_software</a>, $matches)) {
<a name="l00314"></a>00314         <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>($matches[1], <span class="stringliteral">&#39;2.0.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
<a name="l00315"></a>00315                 echo <span class="stringliteral">&#39;lightgreen&#39;</span>;
<a name="l00316"></a>00316         } <span class="keywordflow">else</span> {
<a name="l00317"></a>00317                 echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00318"></a>00318         }
<a name="l00319"></a>00319 } <span class="keywordflow">else</span> {
<a name="l00320"></a>00320         echo <span class="stringliteral">&#39;darkgreen&#39;</span>;
<a name="l00321"></a>00321 }
<a name="l00322"></a>00322 echo <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$server_software.<span class="stringliteral">&#39;&lt;/th&gt;&#39;</span>;
<a name="l00323"></a>00323 echo <span class="stringliteral">&#39;&lt;td&gt;Apache v1.x has the fewest compatability problems. IIS has numerous annoyances. Apache v2.x is broken when lookup up &lt;i&gt;/~user/filename.jpg&lt;/i&gt; style relative filenames using &lt;i&gt;apache_lookup_uri()&lt;/i&gt;.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 
<a name="l00326"></a>00326 echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;curl_version:&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00327"></a><a class="code" href="php_thumb_8demo_8check_8php.html#aaf650bea5bf4627e22c03e71b845b87c">00327</a> <a class="code" href="php_thumb_8demo_8check_8php.html#aaf650bea5bf4627e22c03e71b845b87c">$curl_version</a> = (function_exists(<span class="stringliteral">&#39;curl_version&#39;</span>) ? curl_version() : <span class="stringliteral">&#39;&#39;</span>);
<a name="l00328"></a>00328 <span class="keywordflow">if</span> (is_array(<a class="code" href="php_thumb_8demo_8check_8php.html#aaf650bea5bf4627e22c03e71b845b87c">$curl_version</a>)) {
<a name="l00329"></a>00329         <a class="code" href="php_thumb_8demo_8check_8php.html#aaf650bea5bf4627e22c03e71b845b87c">$curl_version</a> = @<a class="code" href="php_thumb_8demo_8check_8php.html#aaf650bea5bf4627e22c03e71b845b87c">$curl_version</a>[<span class="stringliteral">&#39;version&#39;</span>];
<a name="l00330"></a>00330 }
<a name="l00331"></a>00331 <span class="keywordflow">if</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#aaf650bea5bf4627e22c03e71b845b87c">$curl_version</a>) {
<a name="l00332"></a>00332         echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00333"></a>00333 } <span class="keywordflow">else</span> {
<a name="l00334"></a>00334         echo <span class="stringliteral">&#39;yellow&#39;</span>;
<a name="l00335"></a>00335 }
<a name="l00336"></a>00336 echo <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.$curl_version.<span class="stringliteral">&#39;&lt;/th&gt;&#39;</span>;
<a name="l00337"></a>00337 echo <span class="stringliteral">&#39;&lt;td&gt;Best if available. HTTP source images will be unavailable if CURL unavailable and &lt;i&gt;allow_url_fopen&lt;/i&gt; is also disabled.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00338"></a>00338 
<a name="l00339"></a>00339 echo <span class="stringliteral">&#39;&lt;tr bgcolor=&quot;#EEEEEE&quot;&gt;&lt;th colspan=&quot;4&quot;&gt;&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00340"></a>00340 echo <span class="stringliteral">&#39;&lt;tr bgcolor=&quot;#EEEEEE&quot;&gt;&lt;th&gt;function_exists:&lt;/th&gt;&lt;th colspan=&quot;2&quot;&gt;Value&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00341"></a>00341 
<a name="l00342"></a><a class="code" href="php_thumb_8demo_8check_8php.html#ab54d96bbc12fd7896af863677487eb01">00342</a> <a class="code" href="php_thumb_8demo_8check_8php.html#ab54d96bbc12fd7896af863677487eb01">$FunctionsExist</a> = array(
<a name="l00343"></a>00343         <span class="stringliteral">&#39;ImageRotate&#39;</span>           =&gt; array(<span class="stringliteral">&#39;orange&#39;</span>,     <span class="stringliteral">&#39;required for &quot;ra&quot; and &quot;ar&quot; filters.&#39;</span>),
<a name="l00344"></a>00344         <span class="stringliteral">&#39;exif_read_data&#39;</span>        =&gt; array(<span class="stringliteral">&#39;yellow&#39;</span>,     <span class="stringliteral">&#39;required for &quot;ar&quot; filter.&#39;</span>),
<a name="l00345"></a>00345         <span class="stringliteral">&#39;exif_thumbnail&#39;</span>        =&gt; array(<span class="stringliteral">&#39;yellow&#39;</span>,     <span class="stringliteral">&#39;required to extract EXIF thumbnails.&#39;</span>),
<a name="l00346"></a>00346         <span class="stringliteral">&#39;memory_get_usage&#39;</span>      =&gt; array(<span class="stringliteral">&#39;lightgreen&#39;</span>, <span class="stringliteral">&#39;mostly used for troubleshooting.&#39;</span>),
<a name="l00347"></a>00347         <span class="stringliteral">&#39;version_compare&#39;</span>       =&gt; array(<span class="stringliteral">&#39;darkgreen&#39;</span>,  <span class="stringliteral">&#39;available in PHP v4.1.0+, internal workaround available&#39;</span>),
<a name="l00348"></a>00348         <span class="stringliteral">&#39;file_get_contents&#39;</span>     =&gt; array(<span class="stringliteral">&#39;darkgreen&#39;</span>,  <span class="stringliteral">&#39;available in PHP v4.3.0+, internal workaround available&#39;</span>),
<a name="l00349"></a>00349         <span class="stringliteral">&#39;file_put_contents&#39;</span>     =&gt; array(<span class="stringliteral">&#39;darkgreen&#39;</span>,  <span class="stringliteral">&#39;available in PHP v5.0.0+, internal workaround available&#39;</span>),
<a name="l00350"></a>00350         <span class="stringliteral">&#39;is_executable&#39;</span>         =&gt; array(<span class="stringliteral">&#39;yellow&#39;</span>,     <span class="stringliteral">&#39;available in PHP3, except only PHP5 for Windows. poor internal workaround available&#39;</span>),
<a name="l00351"></a>00351         <span class="stringliteral">&#39;gd_info&#39;</span>               =&gt; array(<span class="stringliteral">&#39;olive&#39;</span>,      <span class="stringliteral">&#39;available in PHP v4.3.0+ (with bundled GD2), internal workaround available&#39;</span>),
<a name="l00352"></a>00352         <span class="stringliteral">&#39;ImageTypes&#39;</span>            =&gt; array(<span class="stringliteral">&#39;red&#39;</span>,        <span class="stringliteral">&#39;required for GD image output.&#39;</span>),
<a name="l00353"></a>00353         <span class="stringliteral">&#39;ImageCreateFromJPEG&#39;</span>   =&gt; array(<span class="stringliteral">&#39;orange&#39;</span>,     <span class="stringliteral">&#39;required for JPEG source images using GD.&#39;</span>),
<a name="l00354"></a>00354         <span class="stringliteral">&#39;ImageCreateFromGIF&#39;</span>    =&gt; array(<span class="stringliteral">&#39;yellow&#39;</span>,     <span class="stringliteral">&#39;useful for GIF source images using GD.&#39;</span>),
<a name="l00355"></a>00355         <span class="stringliteral">&#39;ImageCreateFromPNG&#39;</span>    =&gt; array(<span class="stringliteral">&#39;orange&#39;</span>,     <span class="stringliteral">&#39;required for PNG source images using GD and other source image formats using ImageMagick.&#39;</span>),
<a name="l00356"></a>00356         <span class="stringliteral">&#39;ImageCreateFromWBMP&#39;</span>   =&gt; array(<span class="stringliteral">&#39;yellow&#39;</span>,     <span class="stringliteral">&#39;required for WBMP source images using GD.&#39;</span>),
<a name="l00357"></a>00357         <span class="stringliteral">&#39;ImageCreateFromString&#39;</span> =&gt; array(<span class="stringliteral">&#39;orange&#39;</span>,     <span class="stringliteral">&#39;required for HTTP and non-file image sources.&#39;</span>),
<a name="l00358"></a>00358         <span class="stringliteral">&#39;ImageCreateTrueColor&#39;</span>  =&gt; array(<span class="stringliteral">&#39;orange&#39;</span>,     <span class="stringliteral">&#39;required for all non-ImageMagick filters.&#39;</span>),
<a name="l00359"></a>00359         <span class="stringliteral">&#39;ImageIsTrueColor&#39;</span>      =&gt; array(<span class="stringliteral">&#39;olive&#39;</span>,      <span class="stringliteral">&#39;available in PHP v4.3.2+ with GD v2.0.1+&#39;</span>),
<a name="l00360"></a>00360         <span class="stringliteral">&#39;ImageFilter&#39;</span>           =&gt; array(<span class="stringliteral">&#39;yellow&#39;</span>,     <span class="stringliteral">&#39;PHP5 only. Required for some filters (but most can use ImageMagick instead)&#39;</span>),
<a name="l00361"></a>00361 );
<a name="l00362"></a>00362 <span class="keywordflow">foreach</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#ab54d96bbc12fd7896af863677487eb01">$FunctionsExist</a> as $function =&gt; $details) {
<a name="l00363"></a>00363         list($color, $description) = $details;
<a name="l00364"></a>00364         echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;&#39;</span>.$function.<span class="stringliteral">&#39;&lt;/th&gt;&lt;th colspan=&quot;2&quot; bgcolor=&quot;&#39;</span>;
<a name="l00365"></a>00365         <span class="keywordflow">if</span> (function_exists(strtolower($function))) {
<a name="l00366"></a>00366                 echo <span class="stringliteral">&#39;lime&quot;&gt;TRUE&#39;</span>;
<a name="l00367"></a>00367         } <span class="keywordflow">else</span> {
<a name="l00368"></a>00368                 echo $color.<span class="stringliteral">&#39;&quot;&gt;FALSE&#39;</span>;
<a name="l00369"></a>00369         }
<a name="l00370"></a>00370         echo <span class="stringliteral">&#39;&lt;/th&gt;&lt;td&gt;&#39;</span>.$description.<span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00371"></a>00371 }
<a name="l00372"></a>00372 
<a name="l00373"></a>00373 
<a name="l00374"></a>00374 echo <span class="stringliteral">&#39;&lt;tr bgcolor=&quot;#EEEEEE&quot;&gt;&lt;th colspan=&quot;4&quot;&gt;&amp;nbsp;&lt;/th&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00375"></a>00375 echo <span class="stringliteral">&#39;&lt;tr bgcolor=&quot;#EEEEEE&quot;&gt;&lt;th&gt;Setting&lt;/th&gt;&lt;th&gt;Master Value&lt;/th&gt;&lt;th&gt;Local Value&lt;/th&gt;&lt;th&gt;Comments&lt;/th&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00376"></a>00376 
<a name="l00377"></a>00377 
<a name="l00378"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a3221b39580482af846709d68ada2832e">00378</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a3221b39580482af846709d68ada2832e">$SettingFeatures</a> = array(
<a name="l00379"></a>00379         <span class="stringliteral">&#39;magic_quotes_runtime&#39;</span> =&gt; array(<span class="stringliteral">&#39;red&#39;</span>,    <span class="stringliteral">&#39;lime&#39;</span>,   <span class="stringliteral">&#39;This setting is evil. Turn it off.&#39;</span>),
<a name="l00380"></a>00380         <span class="stringliteral">&#39;magic_quotes_gpc&#39;</span>     =&gt; array(<span class="stringliteral">&#39;yellow&#39;</span>, <span class="stringliteral">&#39;lime&#39;</span>,   <span class="stringliteral">&#39;This setting is bad. Turn it off, if possible. phpThumb will attempt to work around it if it is enabled.&#39;</span>),
<a name="l00381"></a>00381         <span class="stringliteral">&#39;safe_mode&#39;</span>            =&gt; array(<span class="stringliteral">&#39;orange&#39;</span>, <span class="stringliteral">&#39;lime&#39;</span>,   <span class="stringliteral">&#39;Best if off. Calls to ImageMagick will be disabled if safe_mode is set to prevent writing temp files (limiting max image resolution, no animated GIF resize). Raw image data sources (e.g. from MySQL database) may not work. Temp files may be disabled. Features will be limited. If disabled in Master but enabled in Local, edit httpd.conf and set (php_admin_value safe_mode &quot;Off&quot;) between &lt;VirtualHost&gt; tags&#39;</span>),
<a name="l00382"></a>00382         <span class="stringliteral">&#39;allow_url_fopen&#39;</span>      =&gt; array(<span class="stringliteral">&#39;lime&#39;</span>,   <span class="stringliteral">&#39;yellow&#39;</span>, <span class="stringliteral">&#39;Best if on. HTTP source images will be unavailable if disabled and CURL is unavailable.&#39;</span>),
<a name="l00383"></a>00383 );
<a name="l00384"></a>00384 
<a name="l00385"></a>00385 <span class="keywordflow">foreach</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#a3221b39580482af846709d68ada2832e">$SettingFeatures</a> as $feature =&gt; $FeaturesDetails) {
<a name="l00386"></a>00386         list($color_true, $color_false, $reason) = $FeaturesDetails;
<a name="l00387"></a>00387         echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;&#39;</span>.$feature.<span class="stringliteral">&#39;:&lt;/th&gt;&#39;</span>;
<a name="l00388"></a>00388         echo <span class="stringliteral">&#39;&lt;th bgcolor=&quot;&#39;</span>.(@get_cfg_var($feature) ? $color_true : $color_false).<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#ac6144c2648d4394fba9a1d3d75d442fc">phpThumbDebugVarDump</a>((<span class="keywordtype">bool</span>) @get_cfg_var($feature)).<span class="stringliteral">&#39;&lt;/th&gt;&#39;</span>;
<a name="l00389"></a>00389         echo <span class="stringliteral">&#39;&lt;th bgcolor=&quot;&#39;</span>.(@ini_get($feature)     ? $color_true : $color_false).<span class="stringliteral">&#39;&quot;&gt;&#39;</span>.<a class="code" href="php_thumb_8demo_8check_8php.html#aa255ed2e2f11993a251707f14a754498">$phpThumb</a>-&gt;<a class="code" href="classphpthumb.html#ac6144c2648d4394fba9a1d3d75d442fc">phpThumbDebugVarDump</a>((<span class="keywordtype">bool</span>) @ini_get($feature)).<span class="stringliteral">&#39;&lt;/th&gt;&#39;</span>;
<a name="l00390"></a>00390         echo <span class="stringliteral">&#39;&lt;td&gt;&#39;</span>.htmlentities($reason).<span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00391"></a>00391 }
<a name="l00392"></a>00392 
<a name="l00393"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a750f7e0c157758d992d263a4000e4d31">00393</a> <a class="code" href="php_thumb_8demo_8check_8php.html#a750f7e0c157758d992d263a4000e4d31">$MissingFunctionSeverity</a> = array(
<a name="l00394"></a>00394         <span class="stringliteral">&#39;shell_exec&#39;</span> =&gt; <span class="stringliteral">&#39;red&#39;</span>,
<a name="l00395"></a>00395         <span class="stringliteral">&#39;system&#39;</span>     =&gt; <span class="stringliteral">&#39;red&#39;</span>,
<a name="l00396"></a>00396         <span class="stringliteral">&#39;passthru&#39;</span>   =&gt; <span class="stringliteral">&#39;red&#39;</span>,
<a name="l00397"></a>00397         <span class="stringliteral">&#39;exec&#39;</span>       =&gt; <span class="stringliteral">&#39;red&#39;</span>,
<a name="l00398"></a>00398         <span class="stringliteral">&#39;curl_exec&#39;</span>  =&gt; <span class="stringliteral">&#39;orange&#39;</span>,
<a name="l00399"></a>00399 );
<a name="l00400"></a><a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">00400</a> <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[0] = explode(<span class="charliteral">&#39;,&#39;</span>, @get_cfg_var(<span class="stringliteral">&#39;disable_functions&#39;</span>));
<a name="l00401"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a5343e3103a76a26375f2a0dd78e53404">00401</a> <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[1] = explode(<span class="charliteral">&#39;,&#39;</span>,     @ini_get(<span class="stringliteral">&#39;disable_functions&#39;</span>));
<a name="l00402"></a>00402 echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;disable_functions:&lt;/th&gt;&#39;</span>;
<a name="l00403"></a><a class="code" href="php_thumb_8demo_8check_8php.html#a033a4ad9dabb361619d4269baa32c2da">00403</a> <span class="keywordflow">for</span> ($i = 0; $i &lt;= 1; $i++) {
<a name="l00404"></a>00404         <span class="comment">//echo &#39;&lt;th bgcolor=&quot;&#39;.(count($DisabledFunctions[$i]) ? &#39;yellow&#39; : &#39;lime&#39;).&#39;&quot;&gt;&#39;;</span>
<a name="l00405"></a>00405         echo <span class="stringliteral">&#39;&lt;th&gt;&#39;</span>;
<a name="l00406"></a>00406         $disabled_functions = <span class="stringliteral">&#39;&#39;</span>;
<a name="l00407"></a>00407         <span class="keywordflow">foreach</span> (<a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[$i] as $key =&gt; $value) {
<a name="l00408"></a>00408                 <span class="keywordflow">if</span> (@<a class="code" href="php_thumb_8demo_8check_8php.html#a750f7e0c157758d992d263a4000e4d31">$MissingFunctionSeverity</a>[$value]) {
<a name="l00409"></a>00409                         <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[$i][$key] = <span class="stringliteral">&#39;&lt;span style=&quot;background-color: &#39;</span>.$MissingFunctionSeverity[$value].<span class="stringliteral">&#39;;&quot;&gt;&#39;</span>.$value.<span class="stringliteral">&#39;&lt;/span&gt;&#39;</span>;
<a name="l00410"></a>00410                 }
<a name="l00411"></a>00411         }
<a name="l00412"></a>00412         echo implode(<span class="stringliteral">&#39;, &#39;</span>, <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[$i]);
<a name="l00413"></a>00413         echo <span class="stringliteral">&#39;&lt;/th&gt;&#39;</span>;
<a name="l00414"></a>00414 }
<a name="l00415"></a>00415 echo <span class="stringliteral">&#39;&lt;td&gt;Best if nothing disabled. Calls to ImageMagick will be prevented if exec+system+shell_exec+passthru are disabled.&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00416"></a>00416 
<a name="l00417"></a>00417 
<a name="l00418"></a>00418 echo <span class="stringliteral">&#39;&lt;tr&gt;&lt;th&gt;memory_limit:&lt;/th&gt;&lt;th bgcolor=&quot;&#39;</span>;
<a name="l00419"></a><a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">00419</a> <a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> = @get_cfg_var(<span class="stringliteral">&#39;memory_limit&#39;</span>);
<a name="l00420"></a>00420 <span class="keywordflow">if</span> (!<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a>) {
<a name="l00421"></a>00421         echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00422"></a>00422 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> &gt;= 32) {
<a name="l00423"></a>00423         echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00424"></a>00424 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> &gt;= 24) {
<a name="l00425"></a>00425         echo <span class="stringliteral">&#39;lightgreen&#39;</span>;
<a name="l00426"></a>00426 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> &gt;= 16) {
<a name="l00427"></a>00427         echo <span class="stringliteral">&#39;green&#39;</span>;
<a name="l00428"></a>00428 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> &gt;= 12) {
<a name="l00429"></a>00429         echo <span class="stringliteral">&#39;darkgreen&#39;</span>;
<a name="l00430"></a>00430 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> &gt;= 8) {
<a name="l00431"></a>00431         echo <span class="stringliteral">&#39;olive&#39;</span>;
<a name="l00432"></a>00432 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> &gt;= 4) {
<a name="l00433"></a>00433         echo <span class="stringliteral">&#39;yellow&#39;</span>;
<a name="l00434"></a>00434 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> &gt;= 2) {
<a name="l00435"></a>00435         echo <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00436"></a>00436 } <span class="keywordflow">else</span> {
<a name="l00437"></a>00437         echo <span class="stringliteral">&#39;red&#39;</span>;
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 echo <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.($memory_limit ? <a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> : <span class="stringliteral">&#39;&lt;i&gt;unlimited&lt;/i&gt;&#39;</span>).<span class="stringliteral">&#39;&lt;/th&gt;&lt;th bgcolor=&quot;&#39;</span>;
<a name="l00440"></a>00440 <a class="code" href="php_thumb_8demo_8check_8php.html#aa20d90128c90677dcc442774ebc34b60">$memory_limit</a> = @ini_get(<span class="stringliteral">&#39;memory_limit&#39;</span>);
<a name="l00441"></a>00441 <span class="keywordflow">if</span> (!$memory_limit) {
<a name="l00442"></a>00442         echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00443"></a>00443 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($memory_limit &gt;= 32) {
<a name="l00444"></a>00444         echo <span class="stringliteral">&#39;lime&#39;</span>;
<a name="l00445"></a>00445 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($memory_limit &gt;= 24) {
<a name="l00446"></a>00446         echo <span class="stringliteral">&#39;lightgreen&#39;</span>;
<a name="l00447"></a>00447 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($memory_limit &gt;= 16) {
<a name="l00448"></a>00448         echo <span class="stringliteral">&#39;green&#39;</span>;
<a name="l00449"></a>00449 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($memory_limit &gt;= 12) {
<a name="l00450"></a>00450         echo <span class="stringliteral">&#39;darkgreen&#39;</span>;
<a name="l00451"></a>00451 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($memory_limit &gt;= 8) {
<a name="l00452"></a>00452         echo <span class="stringliteral">&#39;olive&#39;</span>;
<a name="l00453"></a>00453 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($memory_limit &gt;= 4) {
<a name="l00454"></a>00454         echo <span class="stringliteral">&#39;yellow&#39;</span>;
<a name="l00455"></a>00455 } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($memory_limit &gt;= 2) {
<a name="l00456"></a>00456         echo <span class="stringliteral">&#39;orange&#39;</span>;
<a name="l00457"></a>00457 } <span class="keywordflow">else</span> {
<a name="l00458"></a>00458         echo <span class="stringliteral">&#39;red&#39;</span>;
<a name="l00459"></a>00459 }
<a name="l00460"></a>00460 echo <span class="stringliteral">&#39;&quot;&gt;&#39;</span>.($memory_limit ? $memory_limit : <span class="stringliteral">&#39;&lt;i&gt;unlimited&lt;/i&gt;&#39;</span>).<span class="stringliteral">&#39;&lt;/th&gt;&#39;</span>;
<a name="l00461"></a>00461 echo <span class="stringliteral">&#39;&lt;td&gt;The higher the better. Divide by 5 to get maximum megapixels of source image that can be thumbnailed (without ImageMagick).&#39;</span>.($memory_limit ? <span class="stringliteral">&#39; Your setting (&#39;</span>.$memory_limit.<span class="stringliteral">&#39;) allows images up to approximately &#39;</span>.number_format($memory_limit / 5, 1).<span class="stringliteral">&#39; megapixels&#39;</span> : <span class="stringliteral">&#39;&#39;</span>).<span class="stringliteral">&#39;&lt;/td&gt;&lt;/tr&gt;&#39;</span>;
<a name="l00462"></a>00462 
<a name="l00463"></a>00463 
<a name="l00464"></a>00464 ?&gt;
<a name="l00465"></a>00465 &lt;/table&gt;
<a name="l00466"></a>00466 &lt;/body&gt;
<a name="l00467"></a>00467 &lt;/html&gt;
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="php_thumb_8demo_8check_8php.html">phpThumb.demo.check.php</a>      </li>

    <li class="footer">Generated on Mon Feb 6 2012 00:16:21 for MitosEHR by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
