<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>MitosEHR: phpthumb_functions Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  <td id="projectlogo"><img alt="Logo" src="logo_medium.png"/></td>
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">MitosEHR
   &#160;<span id="projectnumber">Vega v1.0</span>
   </div>
   <div id="projectbrief">Electronic Health Record</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classphpthumb__functions.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">phpthumb_functions Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="phpthumb_functions" --><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ac2890f15a3ea4a6ea63adca8f7f489a8">user_function_exists</a> ($functionname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#af8479c23712b7ac1502d1d7fc76b7670">builtin_function_exists</a> ($functionname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a66d2b067747c447ecd3d48dd6830ea78">version_compare_replacement_sub</a> ($version1, $version2, $operator='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">version_compare_replacement</a> ($version1, $version2, $operator='')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a999167c99797fa10b27c9f9d8d4d6814">phpinfo_array</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a6b7e8055a24dbfa6519a817282f5fedb">exif_info</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#af58958c94226ace6fd0facaf44a3cd6d">ImageTypeToMIMEtype</a> ($imagetype)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a9fdbba8c153ac6c99299545f0109dd70">TranslateWHbyAngle</a> ($width, $height, $angle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a990a73d0fe31b520e04251295aeded25">HexCharDisplay</a> ($string)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#aa88047663adfed917d5fb0bece3913b8">IsHexColor</a> ($HexColorString)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ab43fe1af0d0c46288c2ffcf3905a7b42">ImageColorAllocateAlphaSafe</a> (&amp;$gdimg_hexcolorallocate, $R, $G, $B, $alpha=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a9a63d0b70df4136de64ab0cd351e7ff3">ImageHexColorAllocate</a> (&amp;$gdimg_hexcolorallocate, $HexColorString, $dieOnInvalid=false, $alpha=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#aead056424cb4681dbe161bce8683da3b">HexColorXOR</a> ($hexcolor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ac73caf77553f599f9bdb88c03281b33b">GetPixelColor</a> (&amp;$img, $x, $y)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a21903a1bd6f92685f0c3188c9776801a">PixelColorDifferencePercent</a> ($currentPixel, $targetPixel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#af419a3a071e831a2c4de93b73f3e7063">GrayscaleValue</a> ($r, $g, $b)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a5f3d1f38c5a6c3a5b83a8f96042ffef5">GrayscalePixel</a> ($OriginalPixel)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a64ab911b4f9a7bf2d8e103ab97c96a8b">GrayscalePixelRGB</a> ($rgb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a1a6a1a11796857dd739cc463c348192b">ScaleToFitInBox</a> ($width, $height, $maxwidth=null, $maxheight=null, $allow_enlarge=true, $allow_reduce=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ab359dab758fa1fe794f7ee77bcc6fa57">ImageCopyResampleBicubic</a> ($dst_img, $src_img, $dst_x, $dst_y, $src_x, $src_y, $dst_w, $dst_h, $src_w, $src_h)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a02caac9e703a9c106e3fea3a6215130d">ImageCreateFunction</a> ($x_size, $y_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a3b35e57dd6a7b582dc71d5da44468455">ImageCopyRespectAlpha</a> (&amp;$dst_im, &amp;$src_im, $dst_x, $dst_y, $src_x, $src_y, $src_w, $src_h, $opacity_pct=100)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a0b7ce9a69725437b7b71c8c4279d497d">ProportionalResize</a> ($old_width, $old_height, $new_width=false, $new_height=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ab83588a52cc1a218c8183f03872e4a25">FunctionIsDisabled</a> ($function)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a32ab9bd049bb6b7e0352329726a0ab51">SafeExec</a> ($command)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#acb4fb35a3540b66f2543550e25197a74">ApacheLookupURIarray</a> ($filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#adfd72c199df2f74f6daeda7c06a18cae">gd_is_bundled</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#aaaad487d4c5a61befc88ae061f8a64fe">gd_version</a> ($fullstring=false)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a509475456ea11addf53c89bc1d930934">filesize_remote</a> ($remotefile, $timeout=10)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#aba89973c12394df012c7cf7ceb283cec">filedate_remote</a> ($remotefile, $timeout=10)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a992583009b07598f893b8b6773513926">md5_file_safe</a> ($filename)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a0c2feb0df02b7a87435be3645fee8224">nonempty_min</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ac7fc6323d3639f4244b23d462d0fbdcb">LittleEndian2String</a> ($number, $minbytes=1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ada951f9ad225b459c5f4d5974aa82765">OneOfThese</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ad364cc6286f8223df18cc27695c8db4b">CaseInsensitiveInArray</a> ($needle, $haystack)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a53dae9e5e9604e546f0e4f836fc69240">URLreadFsock</a> ($host, $file, &amp;$errstr, $successonly=true, $port=80, $timeout=10)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a0ee9ff5a7384b1b204b77ad31f4588f3">CleanUpURLencoding</a> ($url, $queryseperator='&amp;')</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">ParseURLbetter</a> ($url)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#ab3a344937946aa396752b10e457f8d73">SafeURLread</a> ($url, &amp;$error, $timeout=10, $followredirects=true)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a224289e3e7fff1ccd097aae04b3ed181">EnsureDirectoryExists</a> ($dirname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a6334e519682ebb7db2d1201f4682edc4">GetAllFilesInSubfolders</a> ($dirname)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classphpthumb__functions.html#a110676c86529253850f744796baeb62d">SanitizeFilename</a> ($filename)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>phpThumb() by James Heinrich &lt;<a href="mailto:info@silisoftware.com">info@silisoftware.com</a>&gt; // </p>

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00011">11</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="acb4fb35a3540b66f2543550e25197a74"></a><!-- doxytag: member="phpthumb_functions::ApacheLookupURIarray" ref="acb4fb35a3540b66f2543550e25197a74" args="($filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#acb4fb35a3540b66f2543550e25197a74">ApacheLookupURIarray</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00484">484</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
                <span class="comment">// apache_lookup_uri() only works when PHP is installed as an Apache module.</span>
                <span class="keywordflow">if</span> (php_sapi_name() == <span class="stringliteral">&#39;apache&#39;</span>) {
                        $keys = array(<span class="stringliteral">&#39;status&#39;</span>, <span class="stringliteral">&#39;the_request&#39;</span>, <span class="stringliteral">&#39;status_line&#39;</span>, <span class="stringliteral">&#39;method&#39;</span>, <span class="stringliteral">&#39;content_type&#39;</span>, <span class="stringliteral">&#39;handler&#39;</span>, <span class="stringliteral">&#39;uri&#39;</span>, <span class="stringliteral">&#39;filename&#39;</span>, <span class="stringliteral">&#39;path_info&#39;</span>, <span class="stringliteral">&#39;args&#39;</span>, <span class="stringliteral">&#39;boundary&#39;</span>, <span class="stringliteral">&#39;no_cache&#39;</span>, <span class="stringliteral">&#39;no_local_copy&#39;</span>, <span class="stringliteral">&#39;allowed&#39;</span>, <span class="stringliteral">&#39;send_bodyct&#39;</span>, <span class="stringliteral">&#39;bytes_sent&#39;</span>, <span class="stringliteral">&#39;byterange&#39;</span>, <span class="stringliteral">&#39;clength&#39;</span>, <span class="stringliteral">&#39;unparsed_uri&#39;</span>, <span class="stringliteral">&#39;mtime&#39;</span>, <span class="stringliteral">&#39;request_time&#39;</span>);
                        <span class="keywordflow">if</span> ($apacheLookupURIobject = @apache_lookup_uri(<a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>)) {
                                $apacheLookupURIarray = array();
                                <span class="keywordflow">foreach</span> ($keys as $key) {
                                        $apacheLookupURIarray[$key] = @$apacheLookupURIobject-&gt;$key;
                                }
                                <span class="keywordflow">return</span> $apacheLookupURIarray;
                        }
                }
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="af8479c23712b7ac1502d1d7fc76b7670"></a><!-- doxytag: member="phpthumb_functions::builtin_function_exists" ref="af8479c23712b7ac1502d1d7fc76b7670" args="($functionname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#af8479c23712b7ac1502d1d7fc76b7670">builtin_function_exists</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>functionname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00025">25</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
                <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;get_defined_functions&#39;</span>)) {
                        <span class="keyword">static</span> $get_defined_functions = array();
                        <span class="keywordflow">if</span> (empty($get_defined_functions)) {
                                $get_defined_functions = get_defined_functions();
                        }
                        <span class="keywordflow">return</span> in_array(strtolower($functionname), $get_defined_functions[<span class="stringliteral">&#39;internal&#39;</span>]);
                }
                <span class="keywordflow">return</span> function_exists($functionname);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad364cc6286f8223df18cc27695c8db4b"></a><!-- doxytag: member="phpthumb_functions::CaseInsensitiveInArray" ref="ad364cc6286f8223df18cc27695c8db4b" args="($needle, $haystack)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ad364cc6286f8223df18cc27695c8db4b">CaseInsensitiveInArray</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>needle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>haystack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00618">618</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
                $needle = strtolower($needle);
                <span class="keywordflow">foreach</span> ($haystack as $key =&gt; $value) {
                        <span class="keywordflow">if</span> (is_array($value)) {
                                <span class="comment">// skip?</span>
                        } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($needle == strtolower($value)) {
                                <span class="keywordflow">return</span> <span class="keyword">true</span>;
                        }
                }
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0ee9ff5a7384b1b204b77ad31f4588f3"></a><!-- doxytag: member="phpthumb_functions::CleanUpURLencoding" ref="a0ee9ff5a7384b1b204b77ad31f4588f3" args="($url, $queryseperator='&amp;')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a0ee9ff5a7384b1b204b77ad31f4588f3">CleanUpURLencoding</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>queryseperator</em> = <code>'&amp;'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00681">681</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
                <span class="keywordflow">if</span> (!eregi(<span class="stringliteral">&#39;^http&#39;</span>, <a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>)) {
                        <span class="keywordflow">return</span> <a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>;
                }
                $parse_url = <a class="code" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>(<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>);
                $pathelements = explode(<span class="charliteral">&#39;/&#39;</span>, $parse_url[<span class="stringliteral">&#39;path&#39;</span>]);
                $CleanPathElements = array();
                $TranslationMatrix = array(<span class="charliteral">&#39; &#39;</span>=&gt;<span class="stringliteral">&#39;%20&#39;</span>);
                <span class="keywordflow">foreach</span> ($pathelements as $key =&gt; $pathelement) {
                        $CleanPathElements[] = strtr($pathelement, $TranslationMatrix);
                }
                <span class="keywordflow">foreach</span> ($CleanPathElements as $key =&gt; $value) {
                        <span class="keywordflow">if</span> ($value === <span class="stringliteral">&#39;&#39;</span>) {
                                unset($CleanPathElements[$key]);
                        }
                }

                $queries = explode($queryseperator, @$parse_url[<span class="stringliteral">&#39;query&#39;</span>]);
                $CleanQueries = array();
                <span class="keywordflow">foreach</span> ($queries as $key =&gt; $query) {
                        @list($param, $value) = explode(<span class="charliteral">&#39;=&#39;</span>, $query);
                        $CleanQueries[] = strtr($param, $TranslationMatrix).($value ? <span class="charliteral">&#39;=&#39;</span>.strtr($value, $TranslationMatrix) : <span class="stringliteral">&#39;&#39;</span>);
                }
                <span class="keywordflow">foreach</span> ($CleanQueries as $key =&gt; $value) {
                        <span class="keywordflow">if</span> ($value === <span class="stringliteral">&#39;&#39;</span>) {
                                unset($CleanQueries[$key]);
                        }
                }

                $cleaned_url  = $parse_url[<span class="stringliteral">&#39;scheme&#39;</span>].<span class="stringliteral">&#39;://&#39;</span>;
                $cleaned_url .= (@$parse_url[<span class="stringliteral">&#39;username&#39;</span>] ? $parse_url[<span class="stringliteral">&#39;host&#39;</span>].(@$parse_url[<span class="stringliteral">&#39;password&#39;</span>] ? <span class="charliteral">&#39;:&#39;</span>.$parse_url[<span class="stringliteral">&#39;password&#39;</span>] : <span class="stringliteral">&#39;&#39;</span>).<span class="charliteral">&#39;@&#39;</span> : <span class="stringliteral">&#39;&#39;</span>);
                $cleaned_url .= $parse_url[<span class="stringliteral">&#39;host&#39;</span>];
                $cleaned_url .= <span class="charliteral">&#39;/&#39;</span>.implode(<span class="charliteral">&#39;/&#39;</span>, $CleanPathElements);
                $cleaned_url .= (@$CleanQueries ? <span class="charliteral">&#39;?&#39;</span>.implode($queryseperator, $CleanQueries) : <span class="stringliteral">&#39;&#39;</span>);
                <span class="keywordflow">return</span> $cleaned_url;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a224289e3e7fff1ccd097aae04b3ed181"></a><!-- doxytag: member="phpthumb_functions::EnsureDirectoryExists" ref="a224289e3e7fff1ccd097aae04b3ed181" args="($dirname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a224289e3e7fff1ccd097aae04b3ed181">EnsureDirectoryExists</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00819">819</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
                $directory_elements = explode(DIRECTORY_SEPARATOR, $dirname);
                $startoffset = (!$directory_elements[0] ? 2 : 1);  <span class="comment">// unix with leading &quot;/&quot; then start with 2nd element; Windows with leading &quot;c:\&quot; then start with 1st element</span>
                $open_basedirs = split(<span class="stringliteral">&#39;[;:]&#39;</span>, ini_get(<span class="stringliteral">&#39;open_basedir&#39;</span>));
                <span class="keywordflow">foreach</span> ($open_basedirs as $key =&gt; $open_basedir) {
                        <span class="keywordflow">if</span> (ereg(<span class="charliteral">&#39;^&#39;</span>.preg_quote($open_basedir), $dirname) &amp;&amp; (strlen($dirname) &gt; strlen($open_basedir))) {
                                $startoffset = count(explode(DIRECTORY_SEPARATOR, $open_basedir));
                                <span class="keywordflow">break</span>;
                        }
                }
                $i = $startoffset;
                $endoffset = count($directory_elements);
                <span class="keywordflow">for</span> ($i = $startoffset; $i &lt;= $endoffset; $i++) {
                        $test_directory = implode(DIRECTORY_SEPARATOR, array_slice($directory_elements, 0, $i));
                        <span class="keywordflow">if</span> (!$test_directory) {
                                <span class="keywordflow">continue</span>;
                        }
                        <span class="keywordflow">if</span> (!@is_dir($test_directory)) {
                                <span class="keywordflow">if</span> (@file_exists($test_directory)) {
                                        <span class="comment">// directory name already exists as a file</span>
                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                }
                                @mkdir($test_directory, 0755);
                                @chmod($test_directory, 0755);
                                <span class="keywordflow">if</span> (!@is_dir($test_directory) || !@is_writeable($test_directory)) {
                                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                }
                        }
                }
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a6b7e8055a24dbfa6519a817282f5fedb"></a><!-- doxytag: member="phpthumb_functions::exif_info" ref="a6b7e8055a24dbfa6519a817282f5fedb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a6b7e8055a24dbfa6519a817282f5fedb">exif_info</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00138">138</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                             {
                <span class="keyword">static</span> $exif_info = array();
                <span class="keywordflow">if</span> (empty($exif_info)) {
                        <span class="comment">// based on code by johnschaefer at gmx dot de</span>
                        <span class="comment">// from PHP help on gd_info()</span>
                        $exif_info = array(
                                <span class="stringliteral">&#39;EXIF Support&#39;</span>           =&gt; <span class="stringliteral">&#39;&#39;</span>,
                                <span class="stringliteral">&#39;EXIF Version&#39;</span>           =&gt; <span class="stringliteral">&#39;&#39;</span>,
                                <span class="stringliteral">&#39;Supported EXIF Version&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,
                                <span class="stringliteral">&#39;Supported filetypes&#39;</span>    =&gt; <span class="stringliteral">&#39;&#39;</span>
                        );
                        $phpinfo_array = <a class="code" href="classphpthumb__functions.html#a999167c99797fa10b27c9f9d8d4d6814">phpthumb_functions::phpinfo_array</a>();
                        <span class="keywordflow">foreach</span> ($phpinfo_array as <a class="code" href="tokenizer__test_8php.html#a52f469b0182d9abac2d0f20548680c9c">$line</a>) {
                                $line = trim(strip_tags($line));
                                <span class="keywordflow">foreach</span> ($exif_info as $key =&gt; $value) {
                                        <span class="keywordflow">if</span> (strpos($line, $key) === 0) {
                                                $newvalue = trim(str_replace($key, <span class="stringliteral">&#39;&#39;</span>, $line));
                                                $exif_info[$key] = $newvalue;
                                        }
                                }
                        }
                }
                <span class="keywordflow">return</span> $exif_info;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aba89973c12394df012c7cf7ceb283cec"></a><!-- doxytag: member="phpthumb_functions::filedate_remote" ref="aba89973c12394df012c7cf7ceb283cec" args="($remotefile, $timeout=10)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#aba89973c12394df012c7cf7ceb283cec">filedate_remote</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>remotefile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00547">547</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
                $date = <span class="keyword">false</span>;
                <a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a> = <a class="code" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>($remotefile);
                <span class="keywordflow">if</span> ($fp = @fsockopen(<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>[<span class="stringliteral">&#39;host&#39;</span>], (<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>[<span class="stringliteral">&#39;port&#39;</span>] ? <a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>[<span class="stringliteral">&#39;port&#39;</span>] : 80), $errno, $errstr, $timeout)) {
                        fwrite($fp, <span class="stringliteral">&#39;HEAD &#39;</span>.@$url[<span class="stringliteral">&#39;path&#39;</span>].@$url[<span class="stringliteral">&#39;query&#39;</span>].<span class="stringliteral">&#39; HTTP/1.0&#39;</span>.<span class="stringliteral">&quot;\r\n&quot;</span>.<span class="stringliteral">&#39;Host: &#39;</span>.@$url[<span class="stringliteral">&#39;host&#39;</span>].<span class="stringliteral">&quot;\r\n\r\n&quot;</span>);
                        <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.3.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
                                stream_set_timeout($fp, $timeout);
                        }
                        <span class="keywordflow">while</span> (!feof($fp)) {
                                $headerline = fgets($fp, 4096);
                                <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39;^Last-Modified: (.*)&#39;</span>, $headerline, $matches)) {
                                        $date = strtotime($matches[1]) - date(<span class="charliteral">&#39;Z&#39;</span>);
                                        <span class="keywordflow">break</span>;
                                }
                        }
                        fclose ($fp);
                }
                <span class="keywordflow">return</span> $date;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a509475456ea11addf53c89bc1d930934"></a><!-- doxytag: member="phpthumb_functions::filesize_remote" ref="a509475456ea11addf53c89bc1d930934" args="($remotefile, $timeout=10)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a509475456ea11addf53c89bc1d930934">filesize_remote</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>remotefile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00526">526</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
                $size = <span class="keyword">false</span>;
                <a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a> = <a class="code" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>($remotefile);
                <span class="keywordflow">if</span> ($fp = @fsockopen(<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>[<span class="stringliteral">&#39;host&#39;</span>], (<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>[<span class="stringliteral">&#39;port&#39;</span>] ? <a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>[<span class="stringliteral">&#39;port&#39;</span>] : 80), $errno, $errstr, $timeout)) {
                        fwrite($fp, <span class="stringliteral">&#39;HEAD &#39;</span>.@$url[<span class="stringliteral">&#39;path&#39;</span>].@$url[<span class="stringliteral">&#39;query&#39;</span>].<span class="stringliteral">&#39; HTTP/1.0&#39;</span>.<span class="stringliteral">&quot;\r\n&quot;</span>.<span class="stringliteral">&#39;Host: &#39;</span>.@$url[<span class="stringliteral">&#39;host&#39;</span>].<span class="stringliteral">&quot;\r\n\r\n&quot;</span>);
                        <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.3.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
                                stream_set_timeout($fp, $timeout);
                        }
                        <span class="keywordflow">while</span> (!feof($fp)) {
                                $headerline = fgets($fp, 4096);
                                <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39;^Content-Length: (.*)&#39;</span>, $headerline, $matches)) {
                                        $size = intval($matches[1]);
                                        <span class="keywordflow">break</span>;
                                }
                        }
                        fclose ($fp);
                }
                <span class="keywordflow">return</span> $size;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab83588a52cc1a218c8183f03872e4a25"></a><!-- doxytag: member="phpthumb_functions::FunctionIsDisabled" ref="ab83588a52cc1a218c8183f03872e4a25" args="($function)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ab83588a52cc1a218c8183f03872e4a25">FunctionIsDisabled</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>function</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00423">423</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
                <span class="keyword">static</span> <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a> = null;
                <span class="keywordflow">if</span> (is_null(<a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>)) {
                        $disable_functions_local  = explode(<span class="charliteral">&#39;,&#39;</span>,     strtolower(@ini_get(<span class="stringliteral">&#39;disable_functions&#39;</span>)));
                        $disable_functions_global = explode(<span class="charliteral">&#39;,&#39;</span>, strtolower(@get_cfg_var(<span class="stringliteral">&#39;disable_functions&#39;</span>)));
                        <span class="keywordflow">foreach</span> ($disable_functions_local as $key =&gt; $value) {
                                <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[trim($value)] = <span class="stringliteral">&#39;local&#39;</span>;
                        }
                        <span class="keywordflow">foreach</span> ($disable_functions_global as $key =&gt; $value) {
                                <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[trim($value)] = <span class="stringliteral">&#39;global&#39;</span>;
                        }
                        <span class="keywordflow">if</span> (@ini_get(<span class="stringliteral">&#39;safe_mode&#39;</span>)) {
                                <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[<span class="stringliteral">&#39;shell_exec&#39;</span>]     = <span class="stringliteral">&#39;local&#39;</span>;
                                <a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[<span class="stringliteral">&#39;set_time_limit&#39;</span>] = <span class="stringliteral">&#39;local&#39;</span>;
                        }
                }
                <span class="keywordflow">return</span> isset(<a class="code" href="php_thumb_8demo_8check_8php.html#ac9ab9399a05784bc20dcedde7b573593">$DisabledFunctions</a>[strtolower($function)]);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="adfd72c199df2f74f6daeda7c06a18cae"></a><!-- doxytag: member="phpthumb_functions::gd_is_bundled" ref="adfd72c199df2f74f6daeda7c06a18cae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#adfd72c199df2f74f6daeda7c06a18cae">gd_is_bundled</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00500">500</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
                <span class="keyword">static</span> $isbundled = null;
                <span class="keywordflow">if</span> (is_null($isbundled)) {
                        <a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a> = gd_info();
                        $isbundled = (strpos(<a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a>[<span class="stringliteral">&#39;GD Version&#39;</span>], <span class="stringliteral">&#39;bundled&#39;</span>) !== <span class="keyword">false</span>);
                }
                <span class="keywordflow">return</span> $isbundled;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aaaad487d4c5a61befc88ae061f8a64fe"></a><!-- doxytag: member="phpthumb_functions::gd_version" ref="aaaad487d4c5a61befc88ae061f8a64fe" args="($fullstring=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#aaaad487d4c5a61befc88ae061f8a64fe">gd_version</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>fullstring</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00510">510</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
                <span class="keyword">static</span> $cache_gd_version = array();
                <span class="keywordflow">if</span> (empty($cache_gd_version)) {
                        <a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a> = gd_info();
                        <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39;bundled \((.+)\)$&#39;</span>, <a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a>[<span class="stringliteral">&#39;GD Version&#39;</span>], $matches)) {
                                $cache_gd_version[1] = <a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a>[<span class="stringliteral">&#39;GD Version&#39;</span>];  <span class="comment">// e.g. &quot;bundled (2.0.15 compatible)&quot;</span>
                                $cache_gd_version[0] = (float) $matches[1];     <span class="comment">// e.g. &quot;2.0&quot; (not &quot;bundled (2.0.15 compatible)&quot;)</span>
                        } <span class="keywordflow">else</span> {
                                $cache_gd_version[1] = <a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a>[<span class="stringliteral">&#39;GD Version&#39;</span>];                       <span class="comment">// e.g. &quot;1.6.2 or higher&quot;</span>
                                $cache_gd_version[0] = (float) substr(<a class="code" href="php_thumb_8demo_8check_8php.html#af2c7b7086347d2db2cbba6ff28df96e7">$gd_info</a>[<span class="stringliteral">&#39;GD Version&#39;</span>], 0, 3); <span class="comment">// e.g. &quot;1.6&quot; (not &quot;1.6.2 or higher&quot;)</span>
                        }
                }
                <span class="keywordflow">return</span> $cache_gd_version[intval($fullstring)];
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a6334e519682ebb7db2d1201f4682edc4"></a><!-- doxytag: member="phpthumb_functions::GetAllFilesInSubfolders" ref="a6334e519682ebb7db2d1201f4682edc4" args="($dirname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a6334e519682ebb7db2d1201f4682edc4">GetAllFilesInSubfolders</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dirname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00852">852</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                   {
                $AllFiles = array();
                $dirname = rtrim(realpath($dirname), <span class="stringliteral">&#39;/\\&#39;</span>);
                <span class="keywordflow">if</span> ($dirhandle = @opendir($dirname)) {
                        <span class="keywordflow">while</span> ((<a class="code" href="tokenizer__test_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a> = readdir($dirhandle)) !== <span class="keyword">false</span>) {
                                $fullfilename = $dirname.DIRECTORY_SEPARATOR.$file;
                                <span class="keywordflow">if</span> (is_file($fullfilename)) {
                                        $AllFiles[] = $fullfilename;
                                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (is_dir($fullfilename)) {
                                        <span class="keywordflow">switch</span> (<a class="code" href="tokenizer__test_8php.html#aa1bfbd27060176201b271918dff57e8f">$file</a>) {
                                                <span class="keywordflow">case</span> <span class="charliteral">&#39;.&#39;</span>:
                                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;..&#39;</span>:
                                                        <span class="keywordflow">break</span>;

                                                <span class="keywordflow">default</span>:
                                                        $AllFiles[] = $fullfilename;
                                                        $subfiles = <a class="code" href="classphpthumb__functions.html#a6334e519682ebb7db2d1201f4682edc4">phpthumb_functions::GetAllFilesInSubfolders</a>($fullfilename);
                                                        <span class="keywordflow">foreach</span> ($subfiles as <a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>) {
                                                                $AllFiles[] = <a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>;
                                                        }
                                                        <span class="keywordflow">break</span>;
                                        }
                                } <span class="keywordflow">else</span> {
                                        <span class="comment">// ignore?</span>
                                }
                        }
                        closedir($dirhandle);
                }
                sort($AllFiles);
                <span class="keywordflow">return</span> array_unique($AllFiles);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ac73caf77553f599f9bdb88c03281b33b"></a><!-- doxytag: member="phpthumb_functions::GetPixelColor" ref="ac73caf77553f599f9bdb88c03281b33b" args="(&amp;$img, $x, $y)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ac73caf77553f599f9bdb88c03281b33b">GetPixelColor</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00253">253</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                              {
                <span class="keywordflow">if</span> (!is_resource($img)) {
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
                <span class="keywordflow">return</span> @ImageColorsForIndex($img, @ImageColorAt($img, $x, $y));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a5f3d1f38c5a6c3a5b83a8f96042ffef5"></a><!-- doxytag: member="phpthumb_functions::GrayscalePixel" ref="a5f3d1f38c5a6c3a5b83a8f96042ffef5" args="($OriginalPixel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a5f3d1f38c5a6c3a5b83a8f96042ffef5">GrayscalePixel</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>OriginalPixel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00274">274</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
                $gray = <a class="code" href="classphpthumb__functions.html#af419a3a071e831a2c4de93b73f3e7063">phpthumb_functions::GrayscaleValue</a>($OriginalPixel[<span class="stringliteral">&#39;red&#39;</span>], $OriginalPixel[<span class="stringliteral">&#39;green&#39;</span>], $OriginalPixel[<span class="stringliteral">&#39;blue&#39;</span>]);
                <span class="keywordflow">return</span> array(<span class="stringliteral">&#39;red&#39;</span>=&gt;$gray, <span class="stringliteral">&#39;green&#39;</span>=&gt;$gray, <span class="stringliteral">&#39;blue&#39;</span>=&gt;$gray);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a64ab911b4f9a7bf2d8e103ab97c96a8b"></a><!-- doxytag: member="phpthumb_functions::GrayscalePixelRGB" ref="a64ab911b4f9a7bf2d8e103ab97c96a8b" args="($rgb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a64ab911b4f9a7bf2d8e103ab97c96a8b">GrayscalePixelRGB</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>rgb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00280">280</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
                $r = ($rgb &gt;&gt; 16) &amp; 0xFF;
                $g = ($rgb &gt;&gt;  8) &amp; 0xFF;
                $b =  $rgb        &amp; 0xFF;
                <span class="keywordflow">return</span> ($r * 0.299) + ($g * 0.587) + ($b * 0.114);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="af419a3a071e831a2c4de93b73f3e7063"></a><!-- doxytag: member="phpthumb_functions::GrayscaleValue" ref="af419a3a071e831a2c4de93b73f3e7063" args="($r, $g, $b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#af419a3a071e831a2c4de93b73f3e7063">GrayscaleValue</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00269">269</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
                <span class="keywordflow">return</span> round(($r * 0.30) + ($g * 0.59) + ($b * 0.11));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a990a73d0fe31b520e04251295aeded25"></a><!-- doxytag: member="phpthumb_functions::HexCharDisplay" ref="a990a73d0fe31b520e04251295aeded25" args="($string)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a990a73d0fe31b520e04251295aeded25">HexCharDisplay</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>string</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00208">208</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                         {
                $len = strlen($string);
                <a class="code" href="create__examples_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> = <span class="stringliteral">&#39;&#39;</span>;
                <span class="keywordflow">for</span> ($i = 0; $i &lt; $len; $i++) {
                        <a class="code" href="create__examples_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> .= <span class="stringliteral">&#39; 0x&#39;</span>.str_pad(dechex(ord($string{$i})), 2, <span class="charliteral">&#39;0&#39;</span>, STR_PAD_LEFT);
                }
                <span class="keywordflow">return</span> <a class="code" href="create__examples_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aead056424cb4681dbe161bce8683da3b"></a><!-- doxytag: member="phpthumb_functions::HexColorXOR" ref="aead056424cb4681dbe161bce8683da3b" args="($hexcolor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#aead056424cb4681dbe161bce8683da3b">HexColorXOR</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>hexcolor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00248">248</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                        {
                <span class="keywordflow">return</span> strtoupper(str_pad(dechex(~hexdec($hexcolor) &amp; 0xFFFFFF), 6, <span class="charliteral">&#39;0&#39;</span>, STR_PAD_LEFT));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab43fe1af0d0c46288c2ffcf3905a7b42"></a><!-- doxytag: member="phpthumb_functions::ImageColorAllocateAlphaSafe" ref="ab43fe1af0d0c46288c2ffcf3905a7b42" args="(&amp;$gdimg_hexcolorallocate, $R, $G, $B, $alpha=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ab43fe1af0d0c46288c2ffcf3905a7b42">ImageColorAllocateAlphaSafe</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>gdimg_hexcolorallocate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>G</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00223">223</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                 {
                <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.3.2&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>) &amp;&amp; ($alpha !== <span class="keyword">false</span>)) {
                        <span class="keywordflow">return</span> ImageColorAllocateAlpha($gdimg_hexcolorallocate, $R, $G, $B, intval($alpha));
                } <span class="keywordflow">else</span> {
                        <span class="keywordflow">return</span> ImageColorAllocate($gdimg_hexcolorallocate, $R, $G, $B);
                }
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab359dab758fa1fe794f7ee77bcc6fa57"></a><!-- doxytag: member="phpthumb_functions::ImageCopyResampleBicubic" ref="ab359dab758fa1fe794f7ee77bcc6fa57" args="($dst_img, $src_img, $dst_x, $dst_y, $src_x, $src_y, $dst_w, $dst_h, $src_w, $src_h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ab359dab758fa1fe794f7ee77bcc6fa57">ImageCopyResampleBicubic</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dst_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dst_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dst_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dst_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dst_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00309">309</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                              {
                <span class="comment">// ron at korving dot demon dot nl</span>
                <span class="comment">// http://www.php.net/imagecopyresampled</span>

                $scaleX = ($src_w - 1) / $dst_w;
                $scaleY = ($src_h - 1) / $dst_h;

                $scaleX2 = $scaleX / 2.0;
                $scaleY2 = $scaleY / 2.0;

                $isTrueColor = ImageIsTrueColor($src_img);

                <span class="keywordflow">for</span> ($y = $src_y; $y &lt; $src_y + $dst_h; $y++) {
                        $sY   = $y * $scaleY;
                        $siY  = (int) $sY;
                        $siY2 = (int) $sY + $scaleY2;

                        <span class="keywordflow">for</span> ($x = $src_x; $x &lt; $src_x + $dst_w; $x++) {
                                $sX   = $x * $scaleX;
                                $siX  = (int) $sX;
                                $siX2 = (int) $sX + $scaleX2;

                                <span class="keywordflow">if</span> ($isTrueColor) {

                                        $c1 = ImageColorAt($src_img, $siX, $siY2);
                                        $c2 = ImageColorAt($src_img, $siX, $siY);
                                        $c3 = ImageColorAt($src_img, $siX2, $siY2);
                                        $c4 = ImageColorAt($src_img, $siX2, $siY);

                                        $r = (( $c1             +  $c2             +  $c3             +  $c4            ) &gt;&gt; 2) &amp; 0xFF0000;
                                        $g = ((($c1 &amp; 0x00FF00) + ($c2 &amp; 0x00FF00) + ($c3 &amp; 0x00FF00) + ($c4 &amp; 0x00FF00)) &gt;&gt; 2) &amp; 0x00FF00;
                                        $b = ((($c1 &amp; 0x0000FF) + ($c2 &amp; 0x0000FF) + ($c3 &amp; 0x0000FF) + ($c4 &amp; 0x0000FF)) &gt;&gt; 2);

                                } <span class="keywordflow">else</span> {

                                        $c1 = ImageColorsForIndex($src_img, ImageColorAt($src_img, $siX, $siY2));
                                        $c2 = ImageColorsForIndex($src_img, ImageColorAt($src_img, $siX, $siY));
                                        $c3 = ImageColorsForIndex($src_img, ImageColorAt($src_img, $siX2, $siY2));
                                        $c4 = ImageColorsForIndex($src_img, ImageColorAt($src_img, $siX2, $siY));

                                        $r = ($c1[<span class="stringliteral">&#39;red&#39;</span>]   + $c2[<span class="stringliteral">&#39;red&#39;</span>]   + $c3[<span class="stringliteral">&#39;red&#39;</span>]   + $c4[<span class="stringliteral">&#39;red&#39;</span>] )  &lt;&lt; 14;
                                        $g = ($c1[<span class="stringliteral">&#39;green&#39;</span>] + $c2[<span class="stringliteral">&#39;green&#39;</span>] + $c3[<span class="stringliteral">&#39;green&#39;</span>] + $c4[<span class="stringliteral">&#39;green&#39;</span>]) &lt;&lt;  6;
                                        $b = ($c1[<span class="stringliteral">&#39;blue&#39;</span>]  + $c2[<span class="stringliteral">&#39;blue&#39;</span>]  + $c3[<span class="stringliteral">&#39;blue&#39;</span>]  + $c4[<span class="stringliteral">&#39;blue&#39;</span>] ) &gt;&gt;  2;

                                }
                                ImageSetPixel($dst_img, $dst_x + $x - $src_x, $dst_y + $y - $src_y, $r+$g+$b);
                        }
                }
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a3b35e57dd6a7b582dc71d5da44468455"></a><!-- doxytag: member="phpthumb_functions::ImageCopyRespectAlpha" ref="a3b35e57dd6a7b582dc71d5da44468455" args="(&amp;$dst_im, &amp;$src_im, $dst_x, $dst_y, $src_x, $src_y, $src_w, $src_h, $opacity_pct=100)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a3b35e57dd6a7b582dc71d5da44468455">ImageCopyRespectAlpha</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>dst_im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>src_im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dst_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dst_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>src_h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>opacity_pct</em> = <code>100</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00376">376</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                             {
                $opacipct = $opacity_pct / 100;
                <span class="keywordflow">for</span> ($x = $src_x; $x &lt; $src_w; $x++) {
                        <span class="keywordflow">for</span> ($y = $src_y; $y &lt; $src_h; $y++) {
                                $RealPixel    = <a class="code" href="classphpthumb__functions.html#ac73caf77553f599f9bdb88c03281b33b">phpthumb_functions::GetPixelColor</a>($dst_im, $dst_x + $x, $dst_y + $y);
                                $OverlayPixel = <a class="code" href="classphpthumb__functions.html#ac73caf77553f599f9bdb88c03281b33b">phpthumb_functions::GetPixelColor</a>($src_im, $x, $y);
                                $alphapct = $OverlayPixel[<span class="stringliteral">&#39;alpha&#39;</span>] / 127;
                                $overlaypct = (1 - $alphapct) * $opacipct;

                                $newcolor = <a class="code" href="classphpthumb__functions.html#ab43fe1af0d0c46288c2ffcf3905a7b42">phpthumb_functions::ImageColorAllocateAlphaSafe</a>(
                                        $dst_im,
                                        round($RealPixel[<span class="stringliteral">&#39;red&#39;</span>]   * (1 - $overlaypct)) + ($OverlayPixel[<span class="stringliteral">&#39;red&#39;</span>]   * $overlaypct),
                                        round($RealPixel[<span class="stringliteral">&#39;green&#39;</span>] * (1 - $overlaypct)) + ($OverlayPixel[<span class="stringliteral">&#39;green&#39;</span>] * $overlaypct),
                                        round($RealPixel[<span class="stringliteral">&#39;blue&#39;</span>]  * (1 - $overlaypct)) + ($OverlayPixel[<span class="stringliteral">&#39;blue&#39;</span>]  * $overlaypct),
                                        <span class="comment">//$RealPixel[&#39;alpha&#39;]);</span>
                                        0);

                                ImageSetPixel($dst_im, $dst_x + $x, $dst_y + $y, $newcolor);
                        }
                }
                <span class="keywordflow">return</span> <span class="keyword">true</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a02caac9e703a9c106e3fea3a6215130d"></a><!-- doxytag: member="phpthumb_functions::ImageCreateFunction" ref="a02caac9e703a9c106e3fea3a6215130d" args="($x_size, $y_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a02caac9e703a9c106e3fea3a6215130d">ImageCreateFunction</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>x_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>y_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00361">361</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
                $ImageCreateFunction = <span class="stringliteral">&#39;ImageCreate&#39;</span>;
                <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#aaaad487d4c5a61befc88ae061f8a64fe">phpthumb_functions::gd_version</a>() &gt;= 2.0) {
                        $ImageCreateFunction = <span class="stringliteral">&#39;ImageCreateTrueColor&#39;</span>;
                }
                <span class="keywordflow">if</span> (!function_exists($ImageCreateFunction)) {
                        <span class="keywordflow">return</span> <a class="code" href="classphpthumb.html#a6ff71b425894fd846790cedf9f9cc97d">phpthumb::ErrorImage</a>($ImageCreateFunction.<span class="stringliteral">&#39;() does not exist - no GD support?&#39;</span>);
                }
                <span class="keywordflow">if</span> (($x_size &lt;= 0) || ($y_size &lt;= 0)) {
                        <span class="keywordflow">return</span> <a class="code" href="classphpthumb.html#a6ff71b425894fd846790cedf9f9cc97d">phpthumb::ErrorImage</a>(<span class="stringliteral">&#39;Invalid image dimensions: &#39;</span>.$ImageCreateFunction.<span class="charliteral">&#39;(&#39;</span>.$x_size.<span class="stringliteral">&#39;, &#39;</span>.$y_size.<span class="charliteral">&#39;)&#39;</span>);
                }
                <span class="keywordflow">return</span> $ImageCreateFunction(round($x_size), round($y_size));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a9a63d0b70df4136de64ab0cd351e7ff3"></a><!-- doxytag: member="phpthumb_functions::ImageHexColorAllocate" ref="a9a63d0b70df4136de64ab0cd351e7ff3" args="(&amp;$gdimg_hexcolorallocate, $HexColorString, $dieOnInvalid=false, $alpha=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a9a63d0b70df4136de64ab0cd351e7ff3">ImageHexColorAllocate</a> </td>
          <td>(</td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>gdimg_hexcolorallocate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>HexColorString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dieOnInvalid</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00231">231</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                     {
                <span class="keywordflow">if</span> (!is_resource($gdimg_hexcolorallocate)) {
                        die(<span class="stringliteral">&#39;$gdimg_hexcolorallocate is not a GD resource in ImageHexColorAllocate()&#39;</span>);
                }
                <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#aa88047663adfed917d5fb0bece3913b8">phpthumb_functions::IsHexColor</a>($HexColorString)) {
                        $R = hexdec(substr($HexColorString, 0, 2));
                        $G = hexdec(substr($HexColorString, 2, 2));
                        $B = hexdec(substr($HexColorString, 4, 2));
                        <span class="keywordflow">return</span> <a class="code" href="classphpthumb__functions.html#ab43fe1af0d0c46288c2ffcf3905a7b42">phpthumb_functions::ImageColorAllocateAlphaSafe</a>($gdimg_hexcolorallocate, $R, $G, $B, $alpha);
                }
                <span class="keywordflow">if</span> ($dieOnInvalid) {
                        die(<span class="stringliteral">&#39;Invalid hex color string: &quot;&#39;</span>.$HexColorString.<span class="charliteral">&#39;&quot;&#39;</span>);
                }
                <span class="keywordflow">return</span> ImageColorAllocate($gdimg_hexcolorallocate, 0x00, 0x00, 0x00);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="af58958c94226ace6fd0facaf44a3cd6d"></a><!-- doxytag: member="phpthumb_functions::ImageTypeToMIMEtype" ref="af58958c94226ace6fd0facaf44a3cd6d" args="($imagetype)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#af58958c94226ace6fd0facaf44a3cd6d">ImageTypeToMIMEtype</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>imagetype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00164">164</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
                <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;image_type_to_mime_type&#39;</span>) &amp;&amp; ($imagetype &gt;= 1) &amp;&amp; ($imagetype &lt;= 16)) {
                        <span class="comment">// PHP v4.3.0+</span>
                        <span class="keywordflow">return</span> image_type_to_mime_type($imagetype);
                }
                <span class="keyword">static</span> $image_type_to_mime_type = array(
                        1  =&gt; <span class="stringliteral">&#39;image/gif&#39;</span>,                     <span class="comment">// IMAGETYPE_GIF</span>
                        2  =&gt; <span class="stringliteral">&#39;image/jpeg&#39;</span>,                    <span class="comment">// IMAGETYPE_JPEG</span>
                        3  =&gt; <span class="stringliteral">&#39;image/png&#39;</span>,                     <span class="comment">// IMAGETYPE_PNG</span>
                        4  =&gt; <span class="stringliteral">&#39;application/x-shockwave-flash&#39;</span>, <span class="comment">// IMAGETYPE_SWF</span>
                        5  =&gt; <span class="stringliteral">&#39;image/psd&#39;</span>,                     <span class="comment">// IMAGETYPE_PSD</span>
                        6  =&gt; <span class="stringliteral">&#39;image/bmp&#39;</span>,                     <span class="comment">// IMAGETYPE_BMP</span>
                        7  =&gt; <span class="stringliteral">&#39;image/tiff&#39;</span>,                    <span class="comment">// IMAGETYPE_TIFF_II (intel byte order)</span>
                        8  =&gt; <span class="stringliteral">&#39;image/tiff&#39;</span>,                    <span class="comment">// IMAGETYPE_TIFF_MM (motorola byte order)</span>
                        9  =&gt; <span class="stringliteral">&#39;application/octet-stream&#39;</span>,      <span class="comment">// IMAGETYPE_JPC</span>
                        10 =&gt; <span class="stringliteral">&#39;image/jp2&#39;</span>,                     <span class="comment">// IMAGETYPE_JP2</span>
                        11 =&gt; <span class="stringliteral">&#39;application/octet-stream&#39;</span>,      <span class="comment">// IMAGETYPE_JPX</span>
                        12 =&gt; <span class="stringliteral">&#39;application/octet-stream&#39;</span>,      <span class="comment">// IMAGETYPE_JB2</span>
                        13 =&gt; <span class="stringliteral">&#39;application/x-shockwave-flash&#39;</span>, <span class="comment">// IMAGETYPE_SWC</span>
                        14 =&gt; <span class="stringliteral">&#39;image/iff&#39;</span>,                     <span class="comment">// IMAGETYPE_IFF</span>
                        15 =&gt; <span class="stringliteral">&#39;image/vnd.wap.wbmp&#39;</span>,            <span class="comment">// IMAGETYPE_WBMP</span>
                        16 =&gt; <span class="stringliteral">&#39;image/xbm&#39;</span>,                     <span class="comment">// IMAGETYPE_XBM</span>

                        <span class="stringliteral">&#39;gif&#39;</span>  =&gt; <span class="stringliteral">&#39;image/gif&#39;</span>,                 <span class="comment">// IMAGETYPE_GIF</span>
                        <span class="stringliteral">&#39;jpg&#39;</span>  =&gt; <span class="stringliteral">&#39;image/jpeg&#39;</span>,                <span class="comment">// IMAGETYPE_JPEG</span>
                        <span class="stringliteral">&#39;jpeg&#39;</span> =&gt; <span class="stringliteral">&#39;image/jpeg&#39;</span>,                <span class="comment">// IMAGETYPE_JPEG</span>
                        <span class="stringliteral">&#39;png&#39;</span>  =&gt; <span class="stringliteral">&#39;image/png&#39;</span>,                 <span class="comment">// IMAGETYPE_PNG</span>
                        <span class="stringliteral">&#39;bmp&#39;</span>  =&gt; <span class="stringliteral">&#39;image/bmp&#39;</span>,                 <span class="comment">// IMAGETYPE_BMP</span>
                        <span class="stringliteral">&#39;ico&#39;</span>  =&gt; <span class="stringliteral">&#39;image/x-icon&#39;</span>,
                );

                <span class="keywordflow">return</span> (isset($image_type_to_mime_type[$imagetype]) ? $image_type_to_mime_type[$imagetype] : <span class="keyword">false</span>);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="aa88047663adfed917d5fb0bece3913b8"></a><!-- doxytag: member="phpthumb_functions::IsHexColor" ref="aa88047663adfed917d5fb0bece3913b8" args="($HexColorString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#aa88047663adfed917d5fb0bece3913b8">IsHexColor</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>HexColorString</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00218">218</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
                <span class="keywordflow">return</span> eregi(<span class="stringliteral">&#39;^[0-9A-F]{6}$&#39;</span>, $HexColorString);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ac7fc6323d3639f4244b23d462d0fbdcb"></a><!-- doxytag: member="phpthumb_functions::LittleEndian2String" ref="ac7fc6323d3639f4244b23d462d0fbdcb" args="($number, $minbytes=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ac7fc6323d3639f4244b23d462d0fbdcb">LittleEndian2String</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>minbytes</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00598">598</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
                $intstring = <span class="stringliteral">&#39;&#39;</span>;
                <span class="keywordflow">while</span> ($number &gt; 0) {
                        $intstring = $intstring.chr($number &amp; 255);
                        $number &gt;&gt;= 8;
                }
                <span class="keywordflow">return</span> str_pad($intstring, $minbytes, <span class="stringliteral">&quot;\x00&quot;</span>, STR_PAD_RIGHT);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a992583009b07598f893b8b6773513926"></a><!-- doxytag: member="phpthumb_functions::md5_file_safe" ref="a992583009b07598f893b8b6773513926" args="($filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a992583009b07598f893b8b6773513926">md5_file_safe</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00568">568</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                          {
                <span class="comment">// md5_file() doesn&#39;t exist in PHP &lt; 4.2.0</span>
                <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;md5_file&#39;</span>)) {
                        <span class="keywordflow">return</span> md5_file(<a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>);
                }
                <span class="keywordflow">if</span> ($fp = @fopen(<a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>, <span class="stringliteral">&#39;rb&#39;</span>)) {
                        <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> = <span class="stringliteral">&#39;&#39;</span>;
                        <span class="keywordflow">do</span> {
                                $buffer = fread($fp, 8192);
                                <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> .= $buffer;
                        } <span class="keywordflow">while</span> (strlen($buffer) &gt; 0);
                        fclose($fp);
                        <span class="keywordflow">return</span> md5(<a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a>);
                }
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0c2feb0df02b7a87435be3645fee8224"></a><!-- doxytag: member="phpthumb_functions::nonempty_min" ref="a0c2feb0df02b7a87435be3645fee8224" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a0c2feb0df02b7a87435be3645fee8224">nonempty_min</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00586">586</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                {
                $arg_list = func_get_args();
                $acceptable = array();
                <span class="keywordflow">foreach</span> ($arg_list as $arg) {
                        <span class="keywordflow">if</span> ($arg) {
                                $acceptable[] = $arg;
                        }
                }
                <span class="keywordflow">return</span> min($acceptable);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ada951f9ad225b459c5f4d5974aa82765"></a><!-- doxytag: member="phpthumb_functions::OneOfThese" ref="ada951f9ad225b459c5f4d5974aa82765" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ada951f9ad225b459c5f4d5974aa82765">OneOfThese</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00607">607</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                              {
                <span class="comment">// return the first useful (non-empty/non-zero/non-false) value from those passed</span>
                $arg_list = func_get_args();
                <span class="keywordflow">foreach</span> ($arg_list as $key =&gt; $value) {
                        <span class="keywordflow">if</span> ($value) {
                                <span class="keywordflow">return</span> $value;
                        }
                }
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ad7ede725cfcb053c5dbd50308deca6cd"></a><!-- doxytag: member="phpthumb_functions::ParseURLbetter" ref="ad7ede725cfcb053c5dbd50308deca6cd" args="($url)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">ParseURLbetter</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00718">718</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
                $parsedURL = @parse_url(<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>);
                <span class="keywordflow">if</span> (!@$parsedURL[<span class="stringliteral">&#39;port&#39;</span>]) {
                        <span class="keywordflow">switch</span> (strtolower(@$parsedURL[<span class="stringliteral">&#39;scheme&#39;</span>])) {
                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;ftp&#39;</span>:
                                        $parsedURL[<span class="stringliteral">&#39;port&#39;</span>] = 21;
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;https&#39;</span>:
                                        $parsedURL[<span class="stringliteral">&#39;port&#39;</span>] = 443;
                                        <span class="keywordflow">break</span>;
                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;http&#39;</span>:
                                        $parsedURL[<span class="stringliteral">&#39;port&#39;</span>] = 80;
                                        <span class="keywordflow">break</span>;
                        }
                }
                <span class="keywordflow">return</span> $parsedURL;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a999167c99797fa10b27c9f9d8d4d6814"></a><!-- doxytag: member="phpthumb_functions::phpinfo_array" ref="a999167c99797fa10b27c9f9d8d4d6814" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a999167c99797fa10b27c9f9d8d4d6814">phpinfo_array</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00125">125</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
                <span class="keyword">static</span> $phpinfo_array = array();
                <span class="keywordflow">if</span> (empty($phpinfo_array)) {
                        ob_start();
                        phpinfo();
                        $phpinfo = ob_get_contents();
                        ob_end_clean();
                        $phpinfo_array = explode(<span class="stringliteral">&quot;\n&quot;</span>, $phpinfo);
                }
                <span class="keywordflow">return</span> $phpinfo_array;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a21903a1bd6f92685f0c3188c9776801a"></a><!-- doxytag: member="phpthumb_functions::PixelColorDifferencePercent" ref="a21903a1bd6f92685f0c3188c9776801a" args="($currentPixel, $targetPixel)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a21903a1bd6f92685f0c3188c9776801a">PixelColorDifferencePercent</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>currentPixel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>targetPixel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00261">261</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                          {
                $diff = 0;
                <span class="keywordflow">foreach</span> ($targetPixel as $channel =&gt; $currentvalue) {
                        $diff = max($diff, (max($currentPixel[$channel], $targetPixel[$channel]) - min($currentPixel[$channel], $targetPixel[$channel])) / 255);
                }
                <span class="keywordflow">return</span> $diff * 100;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a0b7ce9a69725437b7b71c8c4279d497d"></a><!-- doxytag: member="phpthumb_functions::ProportionalResize" ref="a0b7ce9a69725437b7b71c8c4279d497d" args="($old_width, $old_height, $new_width=false, $new_height=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a0b7ce9a69725437b7b71c8c4279d497d">ProportionalResize</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>old_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>old_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>new_width</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>new_height</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00400">400</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                  {
                $old_aspect_ratio = $old_width / $old_height;
                <span class="keywordflow">if</span> (($new_width === <span class="keyword">false</span>) &amp;&amp; ($new_height === <span class="keyword">false</span>)) {
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($new_width === <span class="keyword">false</span>) {
                        $new_width = $new_height * $old_aspect_ratio;
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($new_height === <span class="keyword">false</span>) {
                        $new_height = $new_width / $old_aspect_ratio;
                }
                $new_aspect_ratio = $new_width / $new_height;
                <span class="keywordflow">if</span> ($new_aspect_ratio == $old_aspect_ratio) {
                        <span class="comment">// great, done</span>
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($new_aspect_ratio &lt; $old_aspect_ratio) {
                        <span class="comment">// limited by width</span>
                        $new_height = $new_width / $old_aspect_ratio;
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($new_aspect_ratio &gt; $old_aspect_ratio) {
                        <span class="comment">// limited by height</span>
                        $new_width = $new_height * $old_aspect_ratio;
                }
                <span class="keywordflow">return</span> array(intval(round($new_width)), intval(round($new_height)));
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a32ab9bd049bb6b7e0352329726a0ab51"></a><!-- doxytag: member="phpthumb_functions::SafeExec" ref="a32ab9bd049bb6b7e0352329726a0ab51" args="($command)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a32ab9bd049bb6b7e0352329726a0ab51">SafeExec</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00443">443</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                    {
                <span class="keyword">static</span> $AllowedExecFunctions = array();
                <span class="keywordflow">if</span> (empty($AllowedExecFunctions)) {
                        $AllowedExecFunctions = array(<span class="stringliteral">&#39;shell_exec&#39;</span>=&gt;<span class="keyword">true</span>, <span class="stringliteral">&#39;passthru&#39;</span>=&gt;<span class="keyword">true</span>, <span class="stringliteral">&#39;system&#39;</span>=&gt;<span class="keyword">true</span>, <span class="stringliteral">&#39;exec&#39;</span>=&gt;<span class="keyword">true</span>);
                        <span class="keywordflow">foreach</span> ($AllowedExecFunctions as $key =&gt; $value) {
                                $AllowedExecFunctions[$key] = !<a class="code" href="classphpthumb__functions.html#ab83588a52cc1a218c8183f03872e4a25">phpthumb_functions::FunctionIsDisabled</a>($key);
                        }
                }
                $command .= <span class="stringliteral">&#39; 2&gt;&amp;1&#39;</span>; <span class="comment">// force redirect stderr to stdout</span>
                <span class="keywordflow">foreach</span> ($AllowedExecFunctions as $execfunction =&gt; $is_allowed) {
                        <span class="keywordflow">if</span> (!$is_allowed) {
                                <span class="keywordflow">continue</span>;
                        }
                        $returnvalue = <span class="keyword">false</span>;
                        <span class="keywordflow">switch</span> ($execfunction) {
                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;passthru&#39;</span>:
                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;system&#39;</span>:
                                        ob_start();
                                        $execfunction($command);
                                        $returnvalue = ob_get_contents();
                                        ob_end_clean();
                                        <span class="keywordflow">break</span>;

                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;exec&#39;</span>:
                                        <a class="code" href="create__examples_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a> = array();
                                        $lastline = $execfunction($command, <a class="code" href="create__examples_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a>);
                                        $returnvalue = implode(<span class="stringliteral">&quot;\n&quot;</span>, <a class="code" href="create__examples_8php.html#a73004ce9cd673c1bfafd1dc351134797">$output</a>);
                                        <span class="keywordflow">break</span>;

                                <span class="keywordflow">case</span> <span class="stringliteral">&#39;shell_exec&#39;</span>:
                                        ob_start();
                                        $returnvalue = $execfunction($command);
                                        ob_end_clean();
                                        <span class="keywordflow">break</span>;
                        }
                        <span class="keywordflow">return</span> $returnvalue;
                }
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ab3a344937946aa396752b10e457f8d73"></a><!-- doxytag: member="phpthumb_functions::SafeURLread" ref="ab3a344937946aa396752b10e457f8d73" args="($url, &amp;$error, $timeout=10, $followredirects=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ab3a344937946aa396752b10e457f8d73">SafeURLread</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>followredirects</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00736">736</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                {
                $error = <span class="stringliteral">&#39;&#39;</span>;

                $parsed_url = <a class="code" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>(<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>);
                $alreadyLookedAtURLs[trim(<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>)] = <span class="keyword">true</span>;

                <span class="keywordflow">while</span> (<span class="keyword">true</span>) {
                        $tryagain = <span class="keyword">false</span>;
                        <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> = <a class="code" href="classphpthumb__functions.html#a53dae9e5e9604e546f0e4f836fc69240">phpthumb_functions::URLreadFsock</a>(@$parsed_url[<span class="stringliteral">&#39;host&#39;</span>], @$parsed_url[<span class="stringliteral">&#39;path&#39;</span>].<span class="charliteral">&#39;?&#39;</span>.@$parsed_url[<span class="stringliteral">&#39;query&#39;</span>], $errstr, <span class="keyword">true</span>, (@$parsed_url[<span class="stringliteral">&#39;port&#39;</span>] ? @$parsed_url[<span class="stringliteral">&#39;port&#39;</span>] : 80), $timeout);
                        <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39;302 [a-z ]+; Location\\: (http.*)&#39;</span>, $errstr, $matches)) {
                                $matches[1] = trim(@$matches[1]);
                                <span class="keywordflow">if</span> (!@$alreadyLookedAtURLs[$matches[1]]) {
                                        <span class="comment">// loop through and examine new URL</span>
                                        $error .= <span class="stringliteral">&#39;URL &quot;&#39;</span>.$url.<span class="stringliteral">&#39;&quot; redirected to &quot;&#39;</span>.$matches[1].<span class="charliteral">&#39;&quot;&#39;</span>;

                                        $tryagain = <span class="keyword">true</span>;
                                        $alreadyLookedAtURLs[$matches[1]] = <span class="keyword">true</span>;
                                        $parsed_url = <a class="code" href="classphpthumb__functions.html#ad7ede725cfcb053c5dbd50308deca6cd">phpthumb_functions::ParseURLbetter</a>($matches[1]);
                                }
                        }
                        <span class="keywordflow">if</span> (!$tryagain) {
                                <span class="keywordflow">break</span>;
                        }
                }

                <span class="keywordflow">if</span> (<a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> === <span class="keyword">false</span>) {
                        $error .= <span class="stringliteral">&#39;Error opening &quot;&#39;</span>.$url.<span class="stringliteral">&#39;&quot;:&#39;</span>.<span class="stringliteral">&quot;\n\n&quot;</span>.$errstr;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (<a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> === null) {
                        <span class="comment">// fall through</span>
                        $error .= <span class="stringliteral">&#39;Error opening &quot;&#39;</span>.$url.<span class="stringliteral">&#39;&quot;:&#39;</span>.<span class="stringliteral">&quot;\n\n&quot;</span>.$errstr;
                } <span class="keywordflow">else</span> {
                        <span class="keywordflow">return</span> <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a>;
                }

                <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;curl_version&#39;</span>) &amp;&amp; !<a class="code" href="classphpthumb__functions.html#ab83588a52cc1a218c8183f03872e4a25">phpthumb_functions::FunctionIsDisabled</a>(<span class="stringliteral">&#39;curl_exec&#39;</span>)) {
                        $ch = curl_init();
                        curl_setopt($ch, CURLOPT_URL, <a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>);
                        curl_setopt($ch, CURLOPT_HEADER, <span class="keyword">false</span>);
                        curl_setopt($ch, CURLOPT_RETURNTRANSFER, <span class="keyword">true</span>);
                        curl_setopt($ch, CURLOPT_BINARYTRANSFER, <span class="keyword">true</span>);
                        curl_setopt($ch, CURLOPT_TIMEOUT, $timeout);
                        <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> = curl_exec($ch);
                        curl_close($ch);
                        <span class="keywordflow">if</span> (strlen(<a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a>) &gt; 0) {
                                $error .= <span class="stringliteral">&#39;CURL succeeded (&#39;</span>.strlen(<a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a>).<span class="stringliteral">&#39; bytes); &#39;</span>;
                                <span class="keywordflow">return</span> <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a>;
                        }
                        $error .= <span class="stringliteral">&#39;CURL available but returned no data; &#39;</span>;
                } <span class="keywordflow">else</span> {
                        $error .= <span class="stringliteral">&#39;CURL unavailable; &#39;</span>;
                }

                $BrokenURLfopenPHPversions = array(<span class="stringliteral">&#39;4.4.2&#39;</span>);
                <span class="keywordflow">if</span> (in_array(phpversion(), $BrokenURLfopenPHPversions)) {
                        $error .= <span class="stringliteral">&#39;fopen(URL) broken in PHP v&#39;</span>.phpversion().<span class="stringliteral">&#39;; &#39;</span>;
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (@ini_get(<span class="stringliteral">&#39;allow_url_fopen&#39;</span>)) {
                        <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> = <span class="stringliteral">&#39;&#39;</span>;
                        $error_fopen = <span class="stringliteral">&#39;&#39;</span>;
                        ob_start();
                        <span class="keywordflow">if</span> ($fp = fopen(<a class="code" href="miscellaneous_2websearch_2data__read_8ejs_8php.html#a8d5b9b337ab7c5f5a8c5f8d774e0c6b5">$url</a>, <span class="stringliteral">&#39;rb&#39;</span>)) {
                                <span class="keywordflow">do</span> {
                                        $buffer = fread($fp, 8192);
                                        <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a> .= $buffer;
                                } <span class="keywordflow">while</span> (strlen($buffer) &gt; 0);
                                fclose($fp);
                        } <span class="keywordflow">else</span> {
                                $error_fopen .= trim(strip_tags(ob_get_contents()));
                        }
                        ob_end_clean();
                        $error .= $error_fopen;
                        <span class="keywordflow">if</span> (!$error_fopen) {
                                $error .= <span class="stringliteral">&#39;; &quot;allow_url_fopen&quot; succeeded (&#39;</span>.strlen(<a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a>).<span class="stringliteral">&#39; bytes); &#39;</span>;
                                <span class="keywordflow">return</span> <a class="code" href="administration_2lists_2data_8php.html#ad66cfed6c1f454fbc3f3c6fdc8842a7b">$rawData</a>;
                        }
                        $error .= <span class="stringliteral">&#39;; &quot;allow_url_fopen&quot; enabled but returned no data (&#39;</span>.$error_fopen.<span class="stringliteral">&#39;); &#39;</span>;
                } <span class="keywordflow">else</span> {
                        $error .= <span class="stringliteral">&#39;&quot;allow_url_fopen&quot; disabled; &#39;</span>;
                }

                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a110676c86529253850f744796baeb62d"></a><!-- doxytag: member="phpthumb_functions::SanitizeFilename" ref="a110676c86529253850f744796baeb62d" args="($filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a110676c86529253850f744796baeb62d">SanitizeFilename</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00885">885</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                             {
                <a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a> = ereg_replace(<span class="stringliteral">&#39;[^&#39;</span>.preg_quote(<span class="stringliteral">&#39; !#$%^()+,-.;&lt;&gt;=@[]_{}&#39;</span>).<span class="stringliteral">&#39;a-zA-Z0-9]&#39;</span>, <span class="charliteral">&#39;_&#39;</span>, <a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>);
                <span class="keywordflow">if</span> (<a class="code" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">phpthumb_functions::version_compare_replacement</a>(phpversion(), <span class="stringliteral">&#39;4.1.0&#39;</span>, <span class="stringliteral">&#39;&gt;=&#39;</span>)) {
                        <a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a> = trim(<a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>, <span class="charliteral">&#39;.&#39;</span>);
                }
                <span class="keywordflow">return</span> <a class="code" href="actions_8php.html#a6b7de8d10c540db2f1631e68b2aa0538">$filename</a>;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a1a6a1a11796857dd739cc463c348192b"></a><!-- doxytag: member="phpthumb_functions::ScaleToFitInBox" ref="a1a6a1a11796857dd739cc463c348192b" args="($width, $height, $maxwidth=null, $maxheight=null, $allow_enlarge=true, $allow_reduce=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a1a6a1a11796857dd739cc463c348192b">ScaleToFitInBox</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>maxwidth</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>maxheight</em> = <code>null</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>allow_enlarge</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>allow_reduce</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00288">288</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                                            {
                $maxwidth  = (is_null($maxwidth)  ? $width  : $maxwidth);
                $maxheight = (is_null($maxheight) ? $height : $maxheight);
                $scale_x = 1;
                $scale_y = 1;
                <span class="keywordflow">if</span> (($width &gt; $maxwidth) || ($width &lt; $maxwidth)) {
                        $scale_x = ($maxwidth / $width);
                }
                <span class="keywordflow">if</span> (($height &gt; $maxheight) || ($height &lt; $maxheight)) {
                        $scale_y = ($maxheight / $height);
                }
                $scale = min($scale_x, $scale_y);
                <span class="keywordflow">if</span> (!$allow_enlarge) {
                        $scale = min($scale, 1);
                }
                <span class="keywordflow">if</span> (!$allow_reduce) {
                        $scale = max($scale, 1);
                }
                <span class="keywordflow">return</span> $scale;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a9fdbba8c153ac6c99299545f0109dd70"></a><!-- doxytag: member="phpthumb_functions::TranslateWHbyAngle" ref="a9fdbba8c153ac6c99299545f0109dd70" args="($width, $height, $angle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a9fdbba8c153ac6c99299545f0109dd70">TranslateWHbyAngle</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00199">199</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                             {
                <span class="keywordflow">if</span> (($angle % 180) == 0) {
                        <span class="keywordflow">return</span> array($width, $height);
                }
                $newwidth  = (abs(sin(deg2rad($angle))) * $height) + (abs(cos(deg2rad($angle))) * $width);
                $newheight = (abs(sin(deg2rad($angle))) * $width)  + (abs(cos(deg2rad($angle))) * $height);
                <span class="keywordflow">return</span> array($newwidth, $newheight);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a53dae9e5e9604e546f0e4f836fc69240"></a><!-- doxytag: member="phpthumb_functions::URLreadFsock" ref="a53dae9e5e9604e546f0e4f836fc69240" args="($host, $file, &amp;$errstr, $successonly=true, $port=80, $timeout=10)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a53dae9e5e9604e546f0e4f836fc69240">URLreadFsock</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>host</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>errstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>successonly</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>port</em> = <code>80</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00630">630</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                                {
                <span class="keywordflow">if</span> (!function_exists(<span class="stringliteral">&#39;fsockopen&#39;</span>) || <a class="code" href="classphpthumb__functions.html#ab83588a52cc1a218c8183f03872e4a25">phpthumb_functions::FunctionIsDisabled</a>(<span class="stringliteral">&#39;fsockopen&#39;</span>)) {
                        $errstr = <span class="stringliteral">&#39;fsockopen() unavailable&#39;</span>;
                        <span class="keywordflow">return</span> <span class="keyword">false</span>;
                }
                <span class="keywordflow">if</span> ($fp = @fsockopen($host, 80, $errno, $errstr, $timeout)) {
                        $out  = <span class="stringliteral">&#39;GET &#39;</span>.$file.<span class="stringliteral">&#39; HTTP/1.0&#39;</span>.<span class="stringliteral">&quot;\r\n&quot;</span>;
                        $out .= <span class="stringliteral">&#39;Host: &#39;</span>.$host.<span class="stringliteral">&quot;\r\n&quot;</span>;
                        $out .= <span class="stringliteral">&#39;Connection: Close&#39;</span>.<span class="stringliteral">&quot;\r\n\r\n&quot;</span>;
                        fwrite($fp, $out);

                        $isHeader = <span class="keyword">true</span>;
                        $Data_header = <span class="stringliteral">&#39;&#39;</span>;
                        $Data_body   = <span class="stringliteral">&#39;&#39;</span>;
                        $header_newlocation = <span class="stringliteral">&#39;&#39;</span>;
                        <span class="keywordflow">while</span> (!feof($fp)) {
                                <a class="code" href="tokenizer__test_8php.html#a52f469b0182d9abac2d0f20548680c9c">$line</a> = fgets($fp, 1024);
                                <span class="keywordflow">if</span> ($isHeader) {
                                        $Data_header .= <a class="code" href="tokenizer__test_8php.html#a52f469b0182d9abac2d0f20548680c9c">$line</a>;
                                } <span class="keywordflow">else</span> {
                                        $Data_body .= <a class="code" href="tokenizer__test_8php.html#a52f469b0182d9abac2d0f20548680c9c">$line</a>;
                                }
                                <span class="keywordflow">if</span> (eregi(<span class="stringliteral">&#39;^HTTP/[\\.0-9]+ ([0-9]+) (.+)$&#39;</span>, rtrim(<a class="code" href="tokenizer__test_8php.html#a52f469b0182d9abac2d0f20548680c9c">$line</a>), $matches)) {
                                        list($dummy, $errno, $errstr) = $matches;
                                        $errno = intval($errno);
                                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> (eregi(<span class="stringliteral">&#39;^Location: (.*)$&#39;</span>, rtrim(<a class="code" href="tokenizer__test_8php.html#a52f469b0182d9abac2d0f20548680c9c">$line</a>), $matches)) {
                                        $header_newlocation = $matches[1];
                                }
                                <span class="keywordflow">if</span> ($isHeader &amp;&amp; (<a class="code" href="tokenizer__test_8php.html#a52f469b0182d9abac2d0f20548680c9c">$line</a> == <span class="stringliteral">&quot;\r\n&quot;</span>)) {
                                        $isHeader = <span class="keyword">false</span>;
                                        <span class="keywordflow">if</span> ($successonly) {
                                                <span class="keywordflow">switch</span> ($errno) {
                                                        <span class="keywordflow">case</span> 200:
                                                                <span class="comment">// great, continue</span>
                                                                <span class="keywordflow">break</span>;

                                                        <span class="keywordflow">default</span>:
                                                                $errstr = $errno.<span class="charliteral">&#39; &#39;</span>.$errstr.($header_newlocation ? <span class="stringliteral">&#39;; Location: &#39;</span>.$header_newlocation : <span class="stringliteral">&#39;&#39;</span>);
                                                                fclose($fp);
                                                                <span class="keywordflow">return</span> <span class="keyword">false</span>;
                                                                <span class="keywordflow">break</span>;
                                                }
                                        }
                                }
                        }
                        fclose($fp);
                        <span class="keywordflow">return</span> $Data_body;
                }
                <span class="keywordflow">return</span> null;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="ac2890f15a3ea4a6ea63adca8f7f489a8"></a><!-- doxytag: member="phpthumb_functions::user_function_exists" ref="ac2890f15a3ea4a6ea63adca8f7f489a8" args="($functionname)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#ac2890f15a3ea4a6ea63adca8f7f489a8">user_function_exists</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>functionname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00013">13</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
                <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;get_defined_functions&#39;</span>)) {
                        <span class="keyword">static</span> $get_defined_functions = array();
                        <span class="keywordflow">if</span> (empty($get_defined_functions)) {
                                $get_defined_functions = get_defined_functions();
                        }
                        <span class="keywordflow">return</span> in_array(strtolower($functionname), $get_defined_functions[<span class="stringliteral">&#39;user&#39;</span>]);
                }
                <span class="keywordflow">return</span> function_exists($functionname);
        }
</pre></div>
</div>
</div>
<a class="anchor" id="af53f41b3482e6bed2082daa0ebfd96c0"></a><!-- doxytag: member="phpthumb_functions::version_compare_replacement" ref="af53f41b3482e6bed2082daa0ebfd96c0" args="($version1, $version2, $operator='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#af53f41b3482e6bed2082daa0ebfd96c0">version_compare_replacement</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>version1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>version2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>operator</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00097">97</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                 {
                <span class="keywordflow">if</span> (function_exists(<span class="stringliteral">&#39;version_compare&#39;</span>)) {
                        <span class="comment">// built into PHP v4.1.0+</span>
                        <span class="keywordflow">return</span> version_compare($version1, $version2, $operator);
                }

                <span class="comment">// The function first replaces _, - and + with a dot . in the version strings</span>
                $version1 = strtr($version1, <span class="stringliteral">&#39;_-+&#39;</span>, <span class="stringliteral">&#39;...&#39;</span>);
                $version2 = strtr($version2, <span class="stringliteral">&#39;_-+&#39;</span>, <span class="stringliteral">&#39;...&#39;</span>);

                <span class="comment">// and also inserts dots . before and after any non number so that for example &#39;4.3.2RC1&#39; becomes &#39;4.3.2.RC.1&#39;.</span>
                <span class="comment">// Then it splits the results like if you were using explode(&#39;.&#39;,$ver). Then it compares the parts starting from left to right.</span>
                $version1 = eregi_replace(<span class="stringliteral">&#39;([0-9]+)([A-Z]+)([0-9]+)&#39;</span>, <span class="stringliteral">&#39;\\1.\\2.\\3&#39;</span>, $version1);
                $version2 = eregi_replace(<span class="stringliteral">&#39;([0-9]+)([A-Z]+)([0-9]+)&#39;</span>, <span class="stringliteral">&#39;\\1.\\2.\\3&#39;</span>, $version2);

                $parts1 = explode(<span class="charliteral">&#39;.&#39;</span>, $version1);
                $parts2 = explode(<span class="charliteral">&#39;.&#39;</span>, $version1);
                $parts_count = max(count($parts1), count($parts2));
                <span class="keywordflow">for</span> ($i = 0; $i &lt; $parts_count; $i++) {
                        $comparison = <a class="code" href="classphpthumb__functions.html#a66d2b067747c447ecd3d48dd6830ea78">phpthumb_functions::version_compare_replacement_sub</a>($version1, $version2, $operator);
                        <span class="keywordflow">if</span> ($comparison != 0) {
                                <span class="keywordflow">return</span> $comparison;
                        }
                }
                <span class="keywordflow">return</span> 0;
        }
</pre></div>
</div>
</div>
<a class="anchor" id="a66d2b067747c447ecd3d48dd6830ea78"></a><!-- doxytag: member="phpthumb_functions::version_compare_replacement_sub" ref="a66d2b067747c447ecd3d48dd6830ea78" args="($version1, $version2, $operator='')" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classphpthumb__functions.html#a66d2b067747c447ecd3d48dd6830ea78">version_compare_replacement_sub</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>version1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>version2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>operator</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="phpthumb_8functions_8php_source.html#l00037">37</a> of file <a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                     {
                <span class="comment">// If you specify the third optional operator argument, you can test for a particular relationship.</span>
                <span class="comment">// The possible operators are: &lt;, lt, &lt;=, le, &gt;, gt, &gt;=, ge, ==, =, eq, !=, &lt;&gt;, ne respectively.</span>
                <span class="comment">// Using this argument, the function will return 1 if the relationship is the one specified by the operator, 0 otherwise.</span>

                <span class="comment">// If a part contains special version strings these are handled in the following order: dev &lt; (alpha = a) &lt; (beta = b) &lt; RC &lt; pl</span>
                <span class="keyword">static</span> $versiontype_lookup = array();
                <span class="keywordflow">if</span> (empty($versiontype_lookup)) {
                        $versiontype_lookup[<span class="stringliteral">&#39;dev&#39;</span>]   = 10001;
                        $versiontype_lookup[<span class="charliteral">&#39;a&#39;</span>]     = 10002;
                        $versiontype_lookup[<span class="stringliteral">&#39;alpha&#39;</span>] = 10002;
                        $versiontype_lookup[<span class="charliteral">&#39;b&#39;</span>]     = 10003;
                        $versiontype_lookup[<span class="stringliteral">&#39;beta&#39;</span>]  = 10003;
                        $versiontype_lookup[<span class="stringliteral">&#39;RC&#39;</span>]    = 10004;
                        $versiontype_lookup[<span class="stringliteral">&#39;pl&#39;</span>]    = 10005;
                }
                <span class="keywordflow">if</span> (isset($versiontype_lookup[$version1])) {
                        $version1 = $versiontype_lookup[$version1];
                }
                <span class="keywordflow">if</span> (isset($versiontype_lookup[$version2])) {
                        $version2 = $versiontype_lookup[$version2];
                }

                <span class="keywordflow">switch</span> ($operator) {
                        <span class="keywordflow">case</span> <span class="charliteral">&#39;&lt;&#39;</span>:
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;lt&#39;</span>:
                                <span class="keywordflow">return</span> intval($version1 &lt; $version2);
                                <span class="keywordflow">break</span>;
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;&lt;=&#39;</span>:
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;le&#39;</span>:
                                <span class="keywordflow">return</span> intval($version1 &lt;= $version2);
                                <span class="keywordflow">break</span>;
                        <span class="keywordflow">case</span> <span class="charliteral">&#39;&gt;&#39;</span>:
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;gt&#39;</span>:
                                <span class="keywordflow">return</span> intval($version1 &gt; $version2);
                                <span class="keywordflow">break</span>;
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;&gt;=&#39;</span>:
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ge&#39;</span>:
                                <span class="keywordflow">return</span> intval($version1 &gt;= $version2);
                                <span class="keywordflow">break</span>;
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;==&#39;</span>:
                        <span class="keywordflow">case</span> <span class="charliteral">&#39;=&#39;</span>:
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;eq&#39;</span>:
                                <span class="keywordflow">return</span> intval($version1 == $version2);
                                <span class="keywordflow">break</span>;
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;!=&#39;</span>:
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;&lt;&gt;&#39;</span>:
                        <span class="keywordflow">case</span> <span class="stringliteral">&#39;ne&#39;</span>:
                                <span class="keywordflow">return</span> intval($version1 != $version2);
                                <span class="keywordflow">break</span>;
                }
                <span class="keywordflow">if</span> ($version1 == $version2) {
                        <span class="keywordflow">return</span> 0;
                } <a class="code" href="php_thumb_8demo_8check_8php.html#af92779326267616cd7c3cdaaa9484bc9">elseif</a> ($version1 &lt; $version2) {
                        <span class="keywordflow">return</span> -1;
                }
                <span class="keywordflow">return</span> 1;
        }
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/wamp/www/MitosEHR/lib/phpThumbs-1.7.9/<a class="el" href="phpthumb_8functions_8php_source.html">phpthumb.functions.php</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classphpthumb__functions.html">phpthumb_functions</a>      </li>

    <li class="footer">Generated on Mon Feb 6 2012 00:16:33 for MitosEHR by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
