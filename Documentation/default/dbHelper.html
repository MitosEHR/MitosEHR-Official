<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>Docs For Class dbHelper</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
						<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
			<div class="page-body">			
<h2 class="class-name">Class dbHelper</h2>

<a name="sec-description"></a>
<div class="info-box">
	<div class="info-box-title">Description</div>
	<div class="nav-bar">
					<span class="disabled">Description</span> |
							<a href="#sec-descendents">Descendents</a>
			|											<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
						|											<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
						
					</div>
	<div class="info-box-body">
        		<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Database Helper Class.</p>
<p class="description"><p>Description: A PDO helper for MitosEHR, contains custom function to manage the database  in MitosEHR. PDO is new in PHP v5</p><p>The PHP Data Objects (PDO) extension defines a lightweight,  consistent interface for accessing databases in PHP.  Each database driver that implements the PDO interface can expose database-specific  features as regular extension functions. Note that you cannot perform any database  functions using the PDO extension by itself;  you must use a database-specific PDO driver to access a database server.</p><p>PDO provides a data-access abstraction layer, which means that,  regardless of which database you're using, you use the same functions to issue queries  and fetch data. PDO does not provide a database abstraction; it doesn't rewrite  SQL or emulate missing features.  You should use a full-blown abstraction layer if you need that facility.</p><p>PDO ships with PHP 5.1, and is available as a PECL extension for PHP 5.0;  PDO requires the new OO features in the core of PHP 5, and so will not  run with earlier versions of PHP.</p><p>Author: GI Technologies, 2011</p></p>
	<ul class="tags">
				<li><span class="field">version:</span> 0.0.3</li>
			</ul>
		<p class="notes">
			Located in <a class="field" href="_dbHelper.php.html">/dbHelper.php</a> (line <span class="field">38</span>)
		</p>
		
				
		<pre></pre>
	
			</div>
</div>

	<a name="sec-descendents"></a>
	<div class="info-box">
		<div class="info-box-title">Direct descendents</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
			<span class="disabled">Descendents</span>
			|												<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
								|															<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<table cellpadding="2" cellspacing="0" class="class-table">
				<tr>
					<th class="class-table-header">Class</th>
					<th class="class-table-header">Description</th>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/Calendar.html">Calendar</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/CombosData.html">CombosData</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/Facilities.html">Facilities</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/formLayoutBuilder.html">formLayoutBuilder</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/formLayoutEngine.html">formLayoutEngine</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/Globals.html">Globals</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/Logs.html">Logs</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/Messages.html">Messages</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/OfficeNotes.html">OfficeNotes</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/password.html">password</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
								<tr>
					<td style="padding-right: 2em"><a href="../default/Person.html">Person</a></td>
					<td>
											Database Helper Class.
										</td>
				</tr>
							</table>
		</div>
	</div>


	<a name="sec-var-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Variable Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
						<span class="disabled">Vars</span> (<a href="#sec-vars">details</a>)
							| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
								</div>
		<div class="info-box-body">
			<div class="var-summary">
																																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$lastInsertId" title="details" class="var-name">$lastInsertId</a>
				</div>
																<div class="var-title">
					<span class="var-type">mixed</span>
					<a href="#$sql_statement" title="details" class="var-name">$sql_statement</a>
				</div>
											</div>
		</div>
	</div>

	<a name="sec-method-summary"></a>
	<div class="info-box">
		<div class="info-box-title">Method Summary</span></div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
																		<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
				 
				|
						<span class="disabled">Methods</span> (<a href="#sec-methods">details</a>)
		</div>
		<div class="info-box-body">			
			<div class="method-summary">
																																																																																																						
				<div class="method-definition">
											<span class="method-result">dbHelper</span>
										<a href="#__construct" title="details" class="method-name">__construct</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#execEvent" title="details" class="method-name">execEvent</a>
											(<span class="var-type">$eventLog</span>&nbsp;<span class="var-name">$eventLog</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#execLog" title="details" class="method-name">execLog</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#execOnly" title="details" class="method-name">execOnly</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">array</span>
										<a href="#execStatement" title="details" class="method-name">execStatement</a>
											([<span class="var-type">int</span>&nbsp;<span class="var-name">$fetchStyle</span> = <span class="var-default">PDO::FETCH_BOTH</span>])
									</div>
														
				<div class="method-definition">
											<span class="method-result">array|mixed</span>
										<a href="#fetch" title="details" class="method-name">fetch</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">mixed</span>
										<a href="#filertByStartLimit" title="details" class="method-name">filertByStartLimit</a>
											(<span class="var-type">$rows</span>&nbsp;<span class="var-name">$rows</span>, <span class="var-type">$params</span>&nbsp;<span class="var-name">$params</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">array|string</span>
										<a href="#getError" title="details" class="method-name">getError</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">int</span>
										<a href="#rowCount" title="details" class="method-name">rowCount</a>
										()
									</div>
														
				<div class="method-definition">
											<span class="method-result">void</span>
										<a href="#setSQL" title="details" class="method-name">setSQL</a>
											(<span class="var-type">$sql</span>&nbsp;<span class="var-name">$sql</span>)
									</div>
														
				<div class="method-definition">
											<span class="method-result">string</span>
										<a href="#sqlBind" title="details" class="method-name">sqlBind</a>
											(<span class="var-type">$b_array</span>&nbsp;<span class="var-name">$b_array</span>, <span class="var-type">$table</span>&nbsp;<span class="var-name">$table</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$iu</span> = <span class="var-default">&quot;I&quot;</span>], <span class="var-type">$where</span>&nbsp;<span class="var-name">$where</span>)
									</div>
											</div>
		</div>
	</div>		

	<a name="sec-vars"></a>
	<div class="info-box">
		<div class="info-box-title">Variables</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
										<a href="#sec-var-summary">Vars</a> (<span class="disabled">details</span>)
						
			
										| 
									<a href="#sec-method-summary">Methods</a> (<a href="#sec-methods">details</a>)
							
					</div>
		<div class="info-box-body">
			
<a name="var$lastInsertId" id="$lastInsertId"><!-- --></A>
<div class="oddrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$lastInsertId</span>
						(line <span class="line-number">43</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
<a name="var$sql_statement" id="$sql_statement"><!-- --></A>
<div class="evenrow">

	<div class="var-header">
		<span class="var-title">
			<span class="var-type">mixed</span>
			<span class="var-name">$sql_statement</span>
						(line <span class="line-number">40</span>)
		</span>
	</div>

	<!-- ========== Info from phpDoc block ========= -->
	<ul class="tags">
				<li><span class="field">access:</span> public</li>
			</ul>
	
	
		
		

</div>
						
		</div>
	</div>
	
	<a name="sec-methods"></a>
	<div class="info-box">
		<div class="info-box-title">Methods</div>
		<div class="nav-bar">
			<a href="#sec-description">Description</a> |
							<a href="#sec-descendents">Descendents</a> |
															<a href="#sec-var-summary">Vars</a> (<a href="#sec-vars">details</a>)
																	<a href="#sec-method-summary">Methods</a> (<span class="disabled">details</span>)
						
		</div>
		<div class="info-box-body">
			<A NAME='method_detail'></A>
<a name="method__construct" id="__construct"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">Constructor __construct</span> (line <span class="line-number">52</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Connect to the database  $db = new $dbHelper();</p>
<p class="description"><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">dbHelper</span>
		<span class="method-name">
			__construct
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodexecEvent" id="execEvent"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">execEvent</span> (line <span class="line-number">270</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Inject directly to the LOG  $dbHelper-&gt;execEvent(&quot;Need to be audited!&quot;);  return: N/A</p>
<p class="description"><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			execEvent
		</span>
					(<span class="var-type">$eventLog</span>&nbsp;<span class="var-name">$eventLog</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$eventLog</span>
				<span class="var-name">$eventLog</span>			</li>
				</ul>
		
			
	</div>
<a name="methodexecLog" id="execLog"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">execLog</span> (line <span class="line-number">216</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Simple SQL Statement, with Event LOG injection</p>
<p class="description"><p>$dbHelper-&gt;exeLog();  return: Array of records + Inject the action on the event log  The Log Injection is automatic  It tries to detect an insert, delete, alter and log the event</p><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			execLog
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodexecOnly" id="execOnly"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">execOnly</span> (line <span class="line-number">135</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Simple exec SQL Statement, with no Event LOG injection  return: Array of errors, if any.</p>
<p class="description"><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			execOnly
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodexecStatement" id="execStatement"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">execStatement</span> (line <span class="line-number">113</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Simple SQL Statement, with no Event LOG injection</p>
<p class="description"><p>$dbHelper-&gt;execStatement();  return: Array of records, if error occurred return the error instead  foreach (sqlStatement($sql) as $urow) {</p><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">array</span>
		<span class="method-name">
			execStatement
		</span>
					([<span class="var-type">int</span>&nbsp;<span class="var-name">$fetchStyle</span> = <span class="var-default">PDO::FETCH_BOTH</span>])
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">int</span>
				<span class="var-name">$fetchStyle</span>			</li>
				</ul>
		
			
	</div>
<a name="methodfetch" id="fetch"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">fetch</span> (line <span class="line-number">294</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Fetch a recordset</p>
<p class="description"><p>return: Only one record array  $rec = $dbHelper-&gt;fetch($sql);  if ($rec['username'] == &quot;&quot;){</p><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">array|mixed</span>
		<span class="method-name">
			fetch
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodfilertByStartLimit" id="filertByStartLimit"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">filertByStartLimit</span> (line <span class="line-number">81</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Filter By Sart and Limit</p>
<p class="description"><p>This Function will filter the $rows array by a start  and Limit usin LinQ.</p><p><div class="src-code"><ol><li><div class="src-line">&nbsp;<span class="src-key">function&nbsp;</span><a href="../default/dbHelper.html#methodfilertByStartLimit">filertByStartLimit</a><span class="src-sym">(</span><span class="src-var">$rows</span><span class="src-sym">,&nbsp;</span><span class="src-var">$params</span><span class="src-sym">)</span><span class="src-sym">{</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$result&nbsp;</span>=&nbsp;<span class="src-id">from</span><span class="src-sym">(</span><span class="src-str">'$row'</span><span class="src-sym">)</span><span class="src-sym">-&gt;</span><span class="src-id">in</span><span class="src-sym">(</span><span class="src-var">$rows</span><span class="src-sym">)</span><span class="src-sym">-&gt;</span><span class="src-id">skip</span><span class="src-sym">(</span><span class="src-var">$params</span><span class="src-sym">-&gt;</span><span class="src-id">start</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">take</span><span class="src-sym">(</span><span class="src-var">$params</span><span class="src-sym">-&gt;</span><span class="src-id">limit</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-sym">-&gt;</span><span class="src-id">select</span><span class="src-sym">(</span><span class="src-str">'$row'</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">return&nbsp;</span><span class="src-var">$result</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-sym">}</span></div></li>
</ol></div></p></p>
	
	<div class="method-signature">
		<span class="method-result">mixed</span>
		<span class="method-name">
			filertByStartLimit
		</span>
					(<span class="var-type">$rows</span>&nbsp;<span class="var-name">$rows</span>, <span class="var-type">$params</span>&nbsp;<span class="var-name">$params</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$rows</span>
				<span class="var-name">$rows</span>			</li>
					<li>
				<span class="var-type">$params</span>
				<span class="var-name">$params</span>			</li>
				</ul>
		
			
	</div>
<a name="methodgetError" id="getError"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">getError</span> (line <span class="line-number">321</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Fetch the last error.</p>
<p class="description"><p>getError - Get the error for a statement, if any.</p><p>return: If there was a problem with the connection it will return  the error message, if the was not a connection problem, it will  return a array with the code and message.</p><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">array|string</span>
		<span class="method-name">
			getError
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodrowCount" id="rowCount"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">rowCount</span> (line <span class="line-number">340</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">rowCount</p>
<p class="description"><p>return: The number of rows in a table  $rec = $dbHelper-&gt;rowCount();  if ($rec['username'] == &quot;&quot;)</p><p>Author: Ernesto Rodriguez</p></p>
	
	<div class="method-signature">
		<span class="method-result">int</span>
		<span class="method-name">
			rowCount
		</span>
				()
			</div>
	
		
			
	</div>
<a name="methodsetSQL" id="setSQL"><!-- --></a>
<div class="evenrow">
	
	<div class="method-header">
		<span class="method-title">setSQL</span> (line <span class="line-number">97</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">Set the SQL Statement</p>
<p class="description"><p>Author: GI Technologies, 2011</p></p>
	
	<div class="method-signature">
		<span class="method-result">void</span>
		<span class="method-name">
			setSQL
		</span>
					(<span class="var-type">$sql</span>&nbsp;<span class="var-name">$sql</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">$sql</span>
				<span class="var-name">$sql</span>			</li>
				</ul>
		
			
	</div>
<a name="methodsqlBind" id="sqlBind"><!-- --></a>
<div class="oddrow">
	
	<div class="method-header">
		<span class="method-title">sqlBind</span> (line <span class="line-number">168</span>)
	</div> 
	
	<!-- ========== Info from phpDoc block ========= -->
<p class="short-description">sqlBind  This function builds a SQL Statement based on an array  arguments to pass:</p>
<p class="description"><p>$b_array - An array containing a key that has to be the exact field  on the data base, and it's value</p><p>table - A valid database table to make the SQL statement</p><p>$iu - Insert or Update parameter. This has to options  i = Insert, u = Update</p><p>$where - If in $iu = U is used you must pass a WHERE clause in the  last parameter. ie: id='1', list_id='patient'</p><p>NOTE: To eliminate fields that are not in the database you can use  unset($b_array['field']);</p></p>
	
	<div class="method-signature">
		<span class="method-result">string</span>
		<span class="method-name">
			sqlBind
		</span>
					(<span class="var-type">$b_array</span>&nbsp;<span class="var-name">$b_array</span>, <span class="var-type">$table</span>&nbsp;<span class="var-name">$table</span>, [<span class="var-type">string</span>&nbsp;<span class="var-name">$iu</span> = <span class="var-default">&quot;I&quot;</span>], <span class="var-type">$where</span>&nbsp;<span class="var-name">$where</span>)
			</div>
	
			<ul class="parameters">
					<li>
				<span class="var-type">string</span>
				<span class="var-name">$iu</span>			</li>
					<li>
				<span class="var-type">$b_array</span>
				<span class="var-name">$b_array</span>			</li>
					<li>
				<span class="var-type">$table</span>
				<span class="var-name">$table</span>			</li>
					<li>
				<span class="var-type">$where</span>
				<span class="var-name">$where</span>			</li>
				</ul>
		
			
	</div>
						
		</div>
	</div>


	<p class="notes" id="credit">
		Documentation generated on Sun, 05 Feb 2012 19:34:46 +0000 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.3</a>
	</p>
	</div></body>
</html>